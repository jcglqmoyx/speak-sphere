(function(){"use strict";var e={9516:function(e,a,t){var l=t(5130),o=t(6768),n=(t(1397),t(1862),t(144)),r=(t(4188),t(4975)),u=(t(4114),t(782)),i=t(1387),s={__name:"LoginAndLogoutMenuItem",setup(e){const a=(0,u.Pj)(),t=(0,i.rd)(),l=async()=>{await t.push({name:"login"})},s=async()=>{await a.dispatch("logout"),await t.push({name:"login"})};return(e,t)=>(0,n.R1)(a).state.user.isAuthenticated?((0,o.uX)(),(0,o.Wv)((0,n.R1)(r.ct),{key:0,index:"4",onClick:s},{default:(0,o.k6)(()=>[(0,o.eW)("ÈÄÄÂá∫ÁôªÂΩï")]),_:1})):((0,o.uX)(),(0,o.Wv)((0,n.R1)(r.ct),{key:1,index:"4",onClick:l},{default:(0,o.k6)(()=>[(0,o.eW)("ÁôªÂΩï")]),_:1}))}};const c=s;var d=c,p={__name:"NavBar",setup(e){const a=(0,n.KR)("4"),t=(0,u.Pj)();t.state.user.isAuthenticated&&(a.value="1");const l=()=>{window.open("https://www.zhihu.com/question/309418216/answer/1965169328514109501","_blank")},i=()=>{window.open("https://stackedit.io/app#","_blank")};return(e,t)=>{const u=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.Wv)((0,n.R1)(r.lj),{"default-active":a.value,class:"el-menu-demo",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{to:{name:"vocabulary"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"1"},{title:(0,o.k6)(()=>[(0,o.eW)("ÂçïËØç")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.$b),{index:"2"},{title:(0,o.k6)(()=>[(0,o.eW)("ËÆæÁΩÆ")]),default:(0,o.k6)(()=>[(0,o.bF)(u,{to:{name:"vocabulary_set_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-1"},{default:(0,o.k6)(()=>[(0,o.eW)("ËØç‰π¶ËÆæÁΩÆ")]),_:1})]),_:1}),(0,o.bF)(u,{to:{name:"dictionary_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-2"},{default:(0,o.k6)(()=>[(0,o.eW)("ËØçÂÖ∏ËÆæÁΩÆ")]),_:1})]),_:1}),(0,o.bF)(u,{to:{name:"llm_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-3"},{default:(0,o.k6)(()=>[(0,o.eW)("LLMÊúçÂä°ËÆæÁΩÆ")]),_:1})]),_:1}),(0,o.bF)(u,{to:{name:"aiprompt_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-4"},{default:(0,o.k6)(()=>[(0,o.eW)("AIÊèêÁ§∫ËØçËÆæÁΩÆ")]),_:1})]),_:1}),(0,o.bF)(u,{to:{name:"user_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-5"},{default:(0,o.k6)(()=>[(0,o.eW)("Áî®Êà∑ËÆæÁΩÆ")]),_:1})]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.$b),{index:"3"},{title:(0,o.k6)(()=>[(0,o.eW)("Â∑•ÂÖ∑")]),default:(0,o.k6)(()=>[(0,o.bF)(u,{to:{name:"record"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"3-1"},{default:(0,o.k6)(()=>[(0,o.eW)(" Âè£ËØ≠ÂΩïÈü≥ ")]),_:1})]),_:1}),(0,o.bF)(u,{to:{name:"query"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"3-2"},{title:(0,o.k6)(()=>[(0,o.eW)("Êü•ËØ¢ÂçïËØç")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.ct),{index:"3-3",onClick:i},{default:(0,o.k6)(()=>[(0,o.eW)(" Âú®Á∫øMarkdownÊ∏≤Êüì ")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.ct),{index:"4",onClick:l},{default:(0,o.k6)(()=>[(0,o.eW)(" Â∏ÆÂä© ")]),_:1}),(0,o.bF)(d)]),_:1},8,["default-active"])}}},m=t(1241);const v=(0,m.A)(p,[["__scopeId","data-v-5cf1e9eb"]]);var k=v,f=t(7383),b=t(153);const y=()=>{const e=(0,f.C6J)({storageKey:"speak-sphere-theme",valueDark:"dark",valueLight:"light"}),a=(0,b.eY)(e),t=()=>{const a=localStorage.getItem("speak-sphere-theme");a||(e.value=window.matchMedia("(prefers-color-scheme: dark)").matches)};return{isDark:e,toggleDark:a,initTheme:t}};let g=null;const R=()=>(g||(g=y(),g.initTheme()),g);var _={__name:"App",setup(e){return R(),(e,a)=>{const t=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(k),(0,o.bF)(t)],64)}}};const h=_;var w=h,F=t(4232),V=t(683),C=t(1702);const x={class:"content-area"};function S(e,a){return(0,o.uX)(),(0,o.CE)("div",x,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const W={},L=(0,m.A)(W,[["render",S],["__scopeId","data-v-6a9f74f6"]]);var K=L,A=t(4373);const I={class:"buttons"};var E={__name:"VocabularyModuleView",setup(e){const a=(0,n.KR)(""),t=(0,n.KR)(!1);(0,o.sV)(async()=>{t.value=!1;const e="https://api.unsplash.com/photos/random?client_id=dow523p27APOI8KgcFO0XXCZ2GUv_E1Xhf6iJ0z4XDA";let l=localStorage.getItem("homepage_image_url");null==l&&await A.A.get(e).then(e=>{l=e.data.urls.regular,localStorage.setItem("homepage_image_url",l)}).catch(e=>{console.error("Error fetching image:",e)}),a.value=l,t.value=!0});const l=(0,i.rd)(),r=()=>{l.push("/review")},u=()=>{l.push("/learn")};return(e,l)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[t.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.Ik),{key:0,class:"card"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"image-wrapper",style:(0,F.Tr)({backgroundImage:"url("+a.value+")"})},[(0,o.Lk)("div",I,[(0,o.bF)((0,n.R1)(C.S2),{text:"",class:"button",onClick:r},{default:(0,o.k6)(()=>[(0,o.eW)("Review")]),_:1}),(0,o.bF)((0,n.R1)(C.S2),{text:"",class:"button",onClick:u},{default:(0,o.k6)(()=>[(0,o.eW)("Learn")]),_:1})])],4)]),_:1})):(0,o.Q3)("",!0)]),_:1}))}};const U=(0,m.A)(E,[["__scopeId","data-v-31e96afc"]]);var X=U,j=t(3851),$=t(5812),P=t(813),T=t(9385),z=t(8165),Q=t(2462),M=t(1040),B=t(7477);const q=e=>((0,o.Qi)("data-v-16c24412"),e=e(),(0,o.jt)(),e),D={class:"drawer-header"},O=q(()=>(0,o.Lk)("h3",null,"LLM ÂçïËØçÊü•ËØ¢",-1)),Z={class:"drawer-content"},H={key:0,class:"config-status"},Y={key:1,class:"llm-content"},J={class:"prompt-section"},N={class:"section-header"},G=q(()=>(0,o.Lk)("h4",null,"AI ÊèêÁ§∫ËØç",-1)),ee={class:"prompt-actions"},ae=q(()=>(0,o.Lk)("div",{class:"prompt-tips"},[(0,o.Lk)("small",null,[(0,o.eW)("ÊèêÁ§∫ÔºöÁÇπÂáªÊñáÊú¨Ê°ÜÂèØ‰ª•ÁºñËæëÊèêÁ§∫ËØçÂÜÖÂÆπÔºå‰ΩøÁî® "),(0,o.Lk)("code",null,"#vocabulary#"),(0,o.eW)(" ‰Ωú‰∏∫ÂΩìÂâçÂçïËØçÁöÑÂç†‰ΩçÁ¨¶")])],-1)),te={class:"query-section"},le={key:0,class:"response-section"},oe=q(()=>(0,o.Lk)("h4",null,"LLM ÂõûÂ§ç",-1)),ne=["innerHTML"];function re(e,a,t,n,r,u){const i=(0,o.g2)("Close"),s=(0,o.g2)("el-icon"),c=(0,o.g2)("el-button"),d=(0,o.g2)("el-alert");return r.drawerVisible?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"custom-drawer-overlay",onClick:a[3]||(a[3]=(...e)=>u.closePanel&&u.closePanel(...e))},[(0,o.Lk)("div",{class:"custom-drawer",onClick:a[2]||(a[2]=(0,l.D$)(()=>{},["stop"]))},[(0,o.Lk)("div",D,[O,(0,o.bF)(c,{type:"text",onClick:u.closePanel,class:"close-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)(i)]),_:1})]),_:1},8,["onClick"])]),(0,o.Lk)("div",Z,["ready"!==r.configStatus?((0,o.uX)(),(0,o.CE)("div",H,["loading"===r.configStatus?((0,o.uX)(),(0,o.Wv)(d,{key:0,title:"Ê≠£Âú®Âä†ËΩΩÈÖçÁΩÆ...",type:"info","show-icon":""})):(0,o.Q3)("",!0),"no_vocabulary"===r.configStatus?((0,o.uX)(),(0,o.Wv)(d,{key:1,title:"ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÊü•ËØ¢ÁöÑÂçïËØç",type:"warning","show-icon":""})):(0,o.Q3)("",!0),"no_prompt"===r.configStatus?((0,o.uX)(),(0,o.Wv)(d,{key:2,title:"ËØ∑ÂÖàËÆæÁΩÆÈªòËÆ§AIÊèêÁ§∫ËØç",type:"warning","show-icon":""})):(0,o.Q3)("",!0),"no_llm"===r.configStatus?((0,o.uX)(),(0,o.Wv)(d,{key:3,title:"ËØ∑ÂÖàËÆæÁΩÆÈªòËÆ§LLMÊúçÂä°",type:"warning","show-icon":""})):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),"ready"===r.configStatus?((0,o.uX)(),(0,o.CE)("div",Y,[(0,o.Lk)("div",J,[(0,o.Lk)("div",N,[G,(0,o.Lk)("div",ee,[(0,o.bF)(c,{class:"test-button-copy",size:"small",onClick:u.copyPrompt,style:{"background-color":"#409eff",color:"white",border:"2px solid #409eff",padding:"6px 12px","border-radius":"4px","min-width":"60px","text-align":"center","justify-content":"center"}},{default:(0,o.k6)(()=>[(0,o.eW)("Â§çÂà∂")]),_:1},8,["onClick"]),(0,o.bF)(c,{class:"test-button-reset",size:"small",onClick:u.resetPrompt,style:{"background-color":"#909399",color:"white",border:"2px solid #909399",padding:"6px 12px","border-radius":"4px","min-width":"60px","text-align":"center","justify-content":"center"}},{default:(0,o.k6)(()=>[(0,o.eW)("ÈáçÁΩÆ")]),_:1},8,["onClick"])])]),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.editablePrompt=e),rows:6,placeholder:"Ê≠£Âú®Âä†ËΩΩÊèêÁ§∫ËØç...",class:"prompt-textarea-native",onInput:a[1]||(a[1]=(...e)=>u.onPromptChange&&u.onPromptChange(...e))},null,544),[[l.Jo,r.editablePrompt]]),ae]),(0,o.Lk)("div",te,[(0,o.bF)(c,{class:"test-button-query",onClick:u.queryLLM,loading:r.isQuerying,disabled:r.isQuerying,style:{"background-color":"#67c23a",color:"white",border:"2px solid #67c23a",padding:"6px 12px","border-radius":"4px","min-width":"60px","text-align":"center","justify-content":"center"}},{default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)(r.isQuerying?"Êü•ËØ¢‰∏≠...":"Êü•ËØ¢"),1)]),_:1},8,["onClick","loading","disabled"]),(0,o.bF)(c,{onClick:u.closePanel,style:{"background-color":"#909399",color:"white",border:"2px solid #909399",padding:"6px 12px","border-radius":"4px","min-width":"60px","text-align":"center","justify-content":"center"}},{default:(0,o.k6)(()=>[(0,o.eW)(" ÂÖ≥Èó≠ ")]),_:1},8,["onClick"]),u.hasResponse?((0,o.uX)(),(0,o.Wv)(c,{key:0,onClick:u.clearResponse,style:{"background-color":"#f56c6c",color:"white",border:"2px solid #f56c6c",padding:"6px 12px","border-radius":"4px","min-width":"60px","text-align":"center","justify-content":"center"}},{default:(0,o.k6)(()=>[(0,o.eW)("Ê∏ÖÈô§ÂõûÂ§ç")]),_:1},8,["onClick"])):(0,o.Q3)("",!0)]),u.hasResponse||r.isQuerying?((0,o.uX)(),(0,o.CE)("div",le,[oe,(0,o.Lk)("div",{ref:"responseContentRef",class:"response-content",innerHTML:u.renderedResponse},null,8,ne)])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)])])])):(0,o.Q3)("",!0)}t(8992),t(4520);var ue=t(167);const ie=async()=>{try{const e=localStorage.getItem("token"),a=localStorage.getItem("server_link"),t=a+"/aiprompt/list",l=await A.A.get(t,{headers:{Authorization:`Bearer ${e}`}});return l.data}catch(e){return console.error("Êü•ËØ¢AIÊèêÁ§∫ËØçÂá∫Èîô:",e),{code:1,message:"ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï"}}},se=async()=>{try{const e=localStorage.getItem("token"),a=localStorage.getItem("server_link"),t=a+"/aiprompt/default",l=await A.A.get(t,{headers:{Authorization:`Bearer ${e}`}});return l.data}catch(e){return console.error("Êü•ËØ¢ÈªòËÆ§AIÊèêÁ§∫ËØçÂá∫Èîô:",e),{code:1,message:"ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï"}}},ce=async()=>{try{const e=localStorage.getItem("token"),a=localStorage.getItem("server_link"),t=a+"/llm/list",l=await A.A.get(t,{headers:{Authorization:`Bearer ${e}`}});return l.data}catch(e){return console.error("Êü•ËØ¢LLMÊúçÂä°Âá∫Èîô:",e),{code:1,message:"ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï"}}},de=async()=>{try{const e=localStorage.getItem("token"),a=localStorage.getItem("server_link"),t=a+"/llm/default",l=await A.A.get(t,{headers:{Authorization:`Bearer ${e}`}});return l.data}catch(e){return console.error("Êü•ËØ¢ÈªòËÆ§LLMÊúçÂä°Âá∫Èîô:",e),{code:1,message:"ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï"}}};var pe=t(642),me=t(6697),ve=t(2464),ke=t(9782),fe=t(539),be=t(9084),ye=t(9982),ge=t(5686),Re=t.n(ge),_e={name:"LLMQueryPanel",components:{Close:B.bm},props:{currentVocabulary:{type:String,default:""}},data(){const e=new pe.A({html:!0,linkify:!0,typographer:!0}).use(me.A).use(ve.A).use(ke.A).use(fe.A).use(be.A).use(ye.A).use(Re());return{drawerVisible:!0,configStatus:"loading",aiPrompt:null,llmConfig:null,isQuerying:!1,responseText:"",controller:null,md:e,editablePrompt:"",originalPrompt:""}},computed:{hasResponse(){return this.responseText.length>0},renderedResponse(){return this.md&&this.responseText?this.md.render(this.responseText):""}},methods:{closePanel(){this.drawerVisible=!1,this.$emit("close")},onPromptChange(e){console.log("ÊèêÁ§∫ËØçÂ∑≤Êõ¥Êñ∞:",e)},copyPrompt(){try{navigator.clipboard.writeText(this.editablePrompt),ue.nk.success("ÊèêÁ§∫ËØçÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø")}catch(e){console.error("Â§çÂà∂Â§±Ë¥•:",e),ue.nk.error("Â§çÂà∂Â§±Ë¥•")}},resetPrompt(){this.originalPrompt&&(this.editablePrompt=this.originalPrompt.replace(/#vocabulary#/g,this.currentVocabulary),ue.nk.success("ÊèêÁ§∫ËØçÂ∑≤ÈáçÁΩÆ‰∏∫ÈªòËÆ§"))},async loadConfigurations(){if(this.currentVocabulary){this.configStatus="loading";try{const e=await se();if(0!==e.code||!e.data)return void(this.configStatus="no_prompt");this.aiPrompt=e.data,this.originalPrompt=this.aiPrompt.content||"",this.editablePrompt=this.originalPrompt.replace(/#vocabulary#/g,this.currentVocabulary),console.log("ÊèêÁ§∫ËØçÂ§ÑÁêÜ:",{original:this.originalPrompt,currentVocabulary:this.currentVocabulary,editable:this.editablePrompt});const a=await de();if(0!==a.code||!a.data)return void(this.configStatus="no_llm");this.llmConfig=a.data,this.configStatus="ready",console.log("ÈÖçÁΩÆÂä†ËΩΩÂÆåÊàêÔºåeditablePrompt:",this.editablePrompt)}catch(e){console.error("Âä†ËΩΩÈÖçÁΩÆÂ§±Ë¥•:",e),this.configStatus="no_prompt"}}else this.configStatus="no_vocabulary"},async queryLLM(){if(this.aiPrompt&&this.llmConfig)if(this.currentVocabulary){this.isQuerying=!0,this.responseText="";try{this.controller=new AbortController;let a=this.llmConfig.endpoint;if(!a)throw new Error("LLMÊúçÂä°ÈÖçÁΩÆ‰∏≠ÁöÑendpoint‰∏∫Á©∫");a.startsWith("http://")||a.startsWith("https://")||(a="https://"+a);let t=a;t.includes("/chat/completions")||(t.endsWith("/v1")||(t=t.replace(/\/+$/,"")+"/v1"),t+="/chat/completions");const l=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.llmConfig.api_key}`},body:JSON.stringify({model:this.llmConfig.model,messages:[{role:"user",content:this.editablePrompt}],stream:!0,max_tokens:1e3,temperature:.7}),signal:this.controller.signal});if(!l.ok){const e=await l.text();throw new Error(`HTTP ${l.status}: ${e}`)}const o=l.body.getReader(),n=new TextDecoder;let r=!0;while(r){const{done:a,value:t}=await o.read();if(a){r=!1;break}const l=n.decode(t,{stream:!0}),u=l.split("\n").filter(e=>""!==e.trim());for(const o of u)if(o.startsWith("data: ")){const a=o.slice(6);if("[DONE]"===a){r=!1;break}try{const e=JSON.parse(a),t=e.choices[0]?.delta?.content;t&&(this.responseText+=t,this.$nextTick(()=>{const e=this.$refs.responseContentRef;e&&(e.scrollTop=e.scrollHeight)}))}catch(e){console.warn("Ëß£ÊûêÊµÅÊï∞ÊçÆÂ§±Ë¥•:",e,"Êï∞ÊçÆ:",a)}}}}catch(a){if("AbortError"===a.name)ue.nk.info("Êü•ËØ¢Â∑≤ÂèñÊ∂à");else{console.error("Êü•ËØ¢Â§±Ë¥•:",a);let e="Êü•ËØ¢Â§±Ë¥•";e=a.message.includes("Failed to fetch")?"ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•LLMÊúçÂä°Âú∞ÂùÄÊòØÂê¶Ê≠£Á°Æ":a.message.includes("401")?"APIÂØÜÈí•Êó†ÊïàÔºåËØ∑Ê£ÄÊü•LLMÊúçÂä°ÈÖçÁΩÆ":a.message.includes("404")?"APIÁ´ØÁÇπÊú™ÊâæÂà∞ÔºåËØ∑Ê£ÄÊü•LLMÊúçÂä°Âú∞ÂùÄ":`Êü•ËØ¢Â§±Ë¥•: ${a.message}`,ue.nk.error(e)}}finally{this.isQuerying=!1,this.controller=null}}else ue.nk.error("ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÊü•ËØ¢ÁöÑÂçïËØç");else ue.nk.error("ÈÖçÁΩÆ‰ø°ÊÅØ‰∏çÂÆåÊï¥")},clearResponse(){this.responseText=""}},watch:{currentVocabulary:{immediate:!0,handler(e){console.log("ÂΩìÂâçÂçïËØçÂèòÂåñ:",e),e&&this.loadConfigurations()}}}};const he=(0,m.A)(_e,[["render",re],["__scopeId","data-v-16c24412"]]);var we=he;async function Fe(){try{const e=localStorage.getItem("server_link"),a=localStorage.getItem("token"),t=e+"/user/profile",l=await A.A.get(t,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return console.log(l.data.data),l.data.data}catch(e){console.error("Error fetching data from backend:",e)}}async function Ve(){try{const e=localStorage.getItem("server_link"),a=localStorage.getItem("token"),t=await A.A.get(e+"/dictionary/list",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return t.data}catch(e){console.error("Error fetching data from backend:",e)}}async function Ce(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=await A.A.get(a+"/vocabulary/"+e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return l.data}catch(a){console.error("Error fetching data from backend:",a)}}async function xe(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=await A.A.get(a+"/vocabulary/count/"+e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return l.data}catch(a){console.error("Error fetching data from backend:",a)}}async function Se(e,a,t){try{const l=localStorage.getItem("server_link"),o=localStorage.getItem("token"),n=await A.A.get(l+"/vocabulary/list?vocabulary_set_id="+e+"&pageSize="+a+"&currentPage="+t,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return n.data}catch(l){console.error("Error fetching data from backend:",l)}}async function We(e,a){try{const t=localStorage.getItem("server_link"),l=localStorage.getItem("token"),o=await A.A.get(t+"/vocabulary/check?vocabulary="+encodeURIComponent(e)+"&vocabulary_set_id="+a,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});return o.data}catch(t){return console.error("Error fetching data from backend:",t),{code:1,message:"Êü•ËØ¢Â§±Ë¥•"}}}t(2577),t(3949);function Le(e){if(!e)return"";const a=e.toLowerCase();let t=a.lastIndexOf("/"),l=a.substring(t);return l.includes("uk")?"UK":l.includes("us")?"US":l.includes("au")?"AU":l.includes("ca")?"CA":""}async function Ke(e){try{const t=new AbortController,l=setTimeout(()=>t.abort(),1e4);try{const a=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${encodeURIComponent(e)}`,{signal:t.signal});if(clearTimeout(l),console.log("response",a),!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const o=await a.json();if(console.log("API response data:",o),!o||!Array.isArray(o)||0===o.length)throw new Error("Empty data returned from dictionary API");if(!o[0].word)throw new Error("Invalid data structure - missing word field");return{success:!0,data:o,source:"dictionaryapi",originalData:o}}catch(a){throw clearTimeout(l),a}}catch(t){return console.warn(`Dictionary API request failed for "${e}":`,t.message,"Full error:",t),"AbortError"===t.name?(console.log(`Dictionary API timeout for "${e}", switching to Wiktionary after brief delay...`),await new Promise(e=>setTimeout(e,500))):t.message.includes("HTTP error")&&console.log(`Dictionary API HTTP error for "${e}", switching to Wiktionary...`),{success:!0,data:null,source:"wiktionary",wiktionaryUrl:`https://en.wiktionary.org/wiki/${encodeURIComponent(e)}`}}}function Ae(e){if("wiktionary"===e.source){const a=window.innerWidth<=768;return a?`\n        <div class="wiktionary-mobile-notice">\n          <div class="wiktionary-mobile-content">\n            <div class="notice-title">‰ΩøÁî® Wiktionary Êü•ËØ¢</div>\n            <div class="notice-message">ÂΩìÂâç‰ΩøÁî® Wiktionary ‰Ωú‰∏∫Â§áÈÄâËØçÂÖ∏Ê∫ê</div>\n            <div class="action-buttons">\n              <button class="open-wiktionary-btn" onclick="openWiktionaryFullscreen('${e.wiktionaryUrl}')">\n                ÂÖ®Â±èÊâìÂºÄ Wiktionary\n              </button>\n              <button class="open-new-tab-btn" onclick="window.open('${e.wiktionaryUrl}', '_blank')">\n                Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ\n              </button>\n            </div>\n          </div>\n        </div>\n        <style>\n          .wiktionary-mobile-notice {\n            background: var(--el-bg-color);\n            border: 1px solid var(--el-border-color);\n            border-radius: 8px;\n            padding: 20px;\n            margin: 10px 0;\n          }\n          .wiktionary-mobile-content {\n            display: flex;\n            flex-direction: column;\n            gap: 15px;\n          }\n          .notice-title {\n            font-size: 18px;\n            font-weight: bold;\n            color: var(--el-text-color-primary);\n          }\n          .notice-message {\n            color: var(--el-text-color-regular);\n          }\n          .action-buttons {\n            display: flex;\n            gap: 10px;\n            flex-wrap: wrap;\n          }\n          .open-wiktionary-btn, .open-new-tab-btn {\n            padding: 10px 15px;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            font-size: 14px;\n            transition: all 0.3s ease;\n          }\n          .open-wiktionary-btn {\n            background: var(--el-color-primary);\n            color: white;\n          }\n          .open-wiktionary-btn:hover {\n            background: var(--el-color-primary-light-3);\n          }\n          .open-new-tab-btn {\n            background: var(--el-fill-color-light);\n            color: var(--el-text-color-primary);\n            border: 1px solid var(--el-border-color);\n          }\n          .open-new-tab-btn:hover {\n            background: var(--el-fill-color);\n          }\n        </style>\n      `:`\n        <div class="wiktionary-container">\n          <div class="wiktionary-notice">\n            ÂΩìÂâç‰ΩøÁî® Wiktionary ‰Ωú‰∏∫Â§áÈÄâËØçÂÖ∏Ê∫ê\n          </div>\n          <div class="wiktionary-loading" id="wiktionary-loading-${Date.now()}">\n            <div class="loading-spinner"></div>\n            <span>Ê≠£Âú®Âä†ËΩΩ Wiktionary È°µÈù¢...</span>\n          </div>\n          <iframe\n            src="${e.wiktionaryUrl}"\n            class="wiktionary-iframe"\n            title="Wiktionary - ${e.wiktionaryUrl.split("/").pop()}"\n            sandbox="allow-same-origin allow-scripts allow-popups allow-forms"\n            referrerpolicy="no-referrer"\n            onload="document.getElementById('wiktionary-loading-${Date.now()}').style.display='none'; this.style.display='block'"\n            style="display:none"\n          ></iframe>\n        </div>\n      `}const a=e.data;if(!a||!Array.isArray(a)||0===a.length)return'<div class="no-meaning">No definition found</div>';const t=a[0];let l="";const o=t.vocabulary;if(o&&(l+=`<div class="vocabulary-title">${o}</div>`),t.phonetics&&Array.isArray(t.phonetics)){const e=t.phonetics.find(e=>e.text)?.text;if(e){l+=`<div class="phonetic">Phonetic: ${e}`;const a=t.phonetics.filter(e=>e.audio&&""!==e.audio.trim());a.length>0&&(l+=' <span class="audio-buttons">',a.forEach((e,a)=>{const t=e.audio;let o=Le(t);o||(o=`Audio ${a+1}`),l+=`<button class="audio-btn" data-audio="${t}" title="Play ${o} pronunciation">üîä${o}</button>`}),l+="</span>"),l+="</div>"}}return t.meanings&&Array.isArray(t.meanings)&&(l+='<div class="meanings-container">',t.meanings.forEach((e,a)=>{e.partOfSpeech&&(l+=`<div class="part-of-speech">„Äê${e.partOfSpeech}„Äë</div>`),e.definitions&&Array.isArray(e.definitions)&&(l+='<div class="definitions-list">',e.definitions.forEach((e,a)=>{e.definition&&(l+=`<div class="definition-item">\n              <span class="definition-number">${a+1}.</span>\n              <span class="definition-text">${e.definition}</span>`,e.example&&(l+=`<div class="example">Example: <em>${e.example}</em></div>`),e.synonyms&&e.synonyms.length>0&&(l+=`<div class="synonyms">Synonyms: ${e.synonyms.join(", ")}</div>`),l+="</div>")}),l+="</div>"),e.synonyms&&e.synonyms.length>0&&(l+=`<div class="meaning-synonyms">[Synonyms] ${e.synonyms.join(", ")}</div>`),e.antonyms&&e.antonyms.length>0&&(l+=`<div class="meaning-antonyms">[Antonyms] ${e.antonyms.join(", ")}</div>`),a<t.meanings.length-1&&(l+='<div class="meaning-separator"></div>')}),l+="</div>"),l||'<div class="no-meaning">No definition found</div>'}async function Ie(e,a,t,l,o,n,r,u,i){try{const s=localStorage.getItem("token"),c=localStorage.getItem("server_link"),d=c+"/vocabulary/update",p=await A.A.put(d,{id:e,vocabulary:a,meaning:t,vocabulary_set_id:l,note:o,unwanted:n,study_count:r,date_to_review:u,created_at:i},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});return p.data}catch(s){console.error("Error fetching data from backend:",s)}}async function Ee(e){try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/vocabulary/update/unwanted/"+e,o=await A.A.put(l,null,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}async function Ue(e){try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/vocabulary/update/study/count/"+e,o=await A.A.put(l,null,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}async function Xe(e){try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/vocabulary/update/reset/"+e,o=await A.A.put(l,null,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}var je=t(437);const $e=e=>((0,o.Qi)("data-v-83b47d6e"),e=e(),(0,o.jt)(),e),Pe=$e(()=>(0,o.Lk)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css",crossorigin:"anonymous"},null,-1)),Te={key:0,class:"vocabulary-card"},ze={class:"header"},Qe={class:"vocabulary-display"},Me={class:"vocabulary-title-section"},Be={class:"vocabulary"},qe={key:0,class:"meaning-container"},De={key:0,class:"fetching-meaning"},Oe=["innerHTML"],Ze={key:2,class:"no-meaning"},He={class:"footer"},Ye={key:1,class:"vocabulary-card"},Je=$e(()=>(0,o.Lk)("h1",{class:"vocabulary"},"Loading data...",-1)),Ne=[Je],Ge={key:2,class:"vocabulary-card"},ea=$e(()=>(0,o.Lk)("h1",{class:"vocabulary"},"ÂΩìÂâç‰ªªÂä°Â∑≤ÂÆåÊàê",-1)),aa=[ea],ta=["onClick"],la={key:3,class:"wiktionary-fullscreen-modal"},oa={class:"wiktionary-fullscreen-content"},na=["src"],ra={class:"note-editor"},ua=["innerHTML"],ia={class:"editor-actions"};var sa={__name:"VocabularyCardView",props:["type"],setup(e){const a=e,t=(0,n.KR)(2),r=(0,n.KR)(!0),i=(0,n.KR)(!1),s=(0,n.KR)(!1),c=(0,n.KR)(!1),d=(0,n.KR)(!1),p=(0,n.KR)(""),m=(0,n.KR)("edit"),v=(0,n.KR)(!1),k=new pe.A({html:!0,linkify:!0,typographer:!0,tables:!0}).use(fe.A).use(ve.A).use(me.A).use(ke.A).use(be.A).use(ye.A).use(Re(),{engine:je.Ay,delimiters:"dollars",katexOptions:{macros:{"\\RR":"\\mathbb{R}"}}}),f=()=>{D(),m.value="edit",s.value=!s.value},b=(0,o.EW)(()=>X.value?k.render(X.value):'<p class="empty-note">ÊöÇÊó†Á¨îËÆ∞ÂÜÖÂÆπ</p>');let y=(0,n.Kh)([]),g=(0,n.Kh)([]),R=(0,n.KR)(0),_={};const h=(0,n.KR)(0),w=()=>g.length>0&&R.value<g.length&&g[R.value].vocabulary||"",V=()=>{c.value=!c.value},x=e=>{const a=e.prefix+g[R.value].vocabulary+(e.suffix||""),t=e.title.toLowerCase().includes("wiktionary"),l=window.innerWidth<=768;t&&l?(p.value=a,d.value=!0,i.value=!1):window.open(a,"_blank")};window.openWiktionaryFullscreen=e=>{d.value=!0,p.value=e};const S=(0,n.KR)(1),W=e=>{if(null==e||2===e.code){const e=(0,u.Pj)();e.dispatch("logout"),location.reload()}};(0,o.sV)(async()=>{const e=await Ce(a.type);if(W(e),g=e.data,null==g||0===g.length)return void(t.value=3);t.value=1;for(let a=0;a<g.length;a++)_[a]=0;const l=await Ve();W(l),y=l.data;const o=await Fe();W(o),h.value=o.times_counted_as_known,1===t.value&&g.length>0&&await Z()});const L=async e=>{if(!s.value)if("0123456789".includes(e.key)){let a=+e.key;0===a&&(a=10),a<=y.length&&i.value&&window.open(y[a-1].prefix+g[R.value].vocabulary+(y[a-1].suffix||""),"_blank")}else if("s"===e.key)i.value=!i.value;else if("n"===e.key){if(2!==S.value&&3!==S.value)return!0;await H()}else if("u"===e.key){if(2!==S.value)return!0;await U()}else if("j"===e.key){if(1!==S.value)return!0;await E()}else if("k"===e.key){if(1!==S.value)return!0;await I()}else{if("d"!==e.key&&"D"!==e.key)return!0;await A()}},A=async()=>{_[R.value]=h.value;const e=await Ee(g[R.value].id);W(e),await H()},I=async()=>{_[R.value]=0;const e=await Xe(g[R.value].id);W(e),S.value=3},E=async()=>{if(_[R.value]++,_[R.value]>=h.value){const e=await Ue(g[R.value].id);W(e)}S.value=2},U=async()=>{_[R.value]=0;const e=await Xe(g[R.value].id);W(e),await H()};let X=(0,n.KR)(""),q=(0,n.KR)("");const D=()=>{X.value=g[R.value].note},O=(0,o.EW)(()=>{const e=g[R.value]?.meaning||q.value;return e&&""!==e.trim()}),Z=async()=>{const e=g[R.value];if(!e)return;const a=e.meaning||"";if(!a||""===a.trim()&&!v.value){v.value=!0,q.value="";try{const a=await Ke(e.vocabulary);a.success?q.value=Ae(a):q.value="ÊöÇÊó†Èáä‰πâ"}catch(t){q.value="ÊöÇÊó†Èáä‰πâ"}finally{v.value=!1}}else q.value=a,console.log(`ÂçïËØç "${e.vocabulary}" Â∑≤ÊúâÈáä‰πâ:`,a)},H=async()=>{let e=R.value;do{e=(e+1)%g.length}while(e!==R.value&&_[e]>=h.value);e===R.value&&_[e]>=h.value?t.value=3:(S.value=1,R.value=e,await Z())},Y=async()=>{const e=await Ie(g[R.value].id,g[R.value].vocabulary,g[R.value].meaning,g[R.value].vocabulary_set_id,X.value,g[R.value].unwanted,g[R.value].study_count,g[R.value].date_to_review,g[R.value].created_at);W(e),null!=e&&0===e.code&&(0,j.df)({title:"Success",message:"Êõ¥Êñ∞ÊàêÂäü",type:"success",duration:1e3})},J=e=>{if(e.target.classList.contains("audio-btn")){const a=e.target.getAttribute("data-audio");a&&N(a)}},N=e=>{try{const a=new Audio(e);a.play().catch(e=>{console.error("Èü≥È¢ëÊí≠ÊîæÂ§±Ë¥•:",e)})}catch(a){console.error("Èü≥È¢ëÂä†ËΩΩÂ§±Ë¥•:",a)}};return(e,a)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(K,{onKeydown:L,tabindex:"0"},{default:(0,o.k6)(()=>[Pe,1===t.value?((0,o.uX)(),(0,o.CE)("div",Te,[(0,o.Lk)("div",ze,[(0,o.bF)((0,n.R1)($.R7),{content:"‰ΩøÁî®LLMÊêúÁ¥¢ÂçïËØç",placement:"top"},{default:(0,o.k6)(()=>[r.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:0,class:"centered-button",circle:"",onClick:V},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.wUE))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1}),(0,o.eW)(" ¬† "),(0,o.bF)((0,n.R1)($.R7),{content:"ÊêúÁ¥¢ÂçïËØç (Âø´Êç∑ÈîÆ: S)",placement:"top"},{default:(0,o.k6)(()=>[r.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:0,class:"centered-button",circle:"",onClick:a[0]||(a[0]=e=>i.value=!i.value)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.vji))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1}),(0,o.eW)(" ¬† "),(0,o.bF)((0,n.R1)($.R7),{content:"ÁºñËæëÁ¨îËÆ∞ (ÊîØÊåÅMarkdownËØ≠Ê≥ï)",placement:"top"},{default:(0,o.k6)(()=>[r.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:0,class:"centered-button",circle:"",onClick:f},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.EDh))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1}),(0,o.eW)(" ¬† "),(0,o.bF)((0,n.R1)($.R7),{content:"Ê†áËÆ∞‰∏∫‰∏çÊÉ≥Â≠¶ (Âø´Êç∑ÈîÆ: D)",placement:"top"},{default:(0,o.k6)(()=>[r.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:0,class:"centered-button",circle:"",onClick:A},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.epd))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1})]),(0,o.Lk)("div",Qe,[(0,o.Lk)("div",Me,[(0,o.Lk)("h1",Be,(0,F.v_)((0,n.R1)(g)[(0,n.R1)(R)].vocabulary),1)]),2===S.value||3===S.value?((0,o.uX)(),(0,o.CE)("div",qe,[v.value?((0,o.uX)(),(0,o.CE)("div",De," Ê≠£Âú®Êü•ËØ¢Èáä‰πâ... ")):O.value?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"meaning-content",innerHTML:(0,n.R1)(q),onClick:J},null,8,Oe)):((0,o.uX)(),(0,o.CE)("div",Ze," ÊöÇÊó†Èáä‰πâ "))])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",He,[1===S.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:0,onClick:E},{default:(0,o.k6)(()=>[(0,o.eW)("ËÆ§ËØÜ(J)")]),_:1})):(0,o.Q3)("",!0),1===S.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:1,onClick:I},{default:(0,o.k6)(()=>[(0,o.eW)("‰∏çËÆ§ËØÜ(K)")]),_:1})):(0,o.Q3)("",!0),2===S.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:2,onClick:U},{default:(0,o.k6)(()=>[(0,o.eW)("ËÆ∞Èîô‰∫Ü(U)")]),_:1})):(0,o.Q3)("",!0),2===S.value||3===S.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:3,onClick:H},{default:(0,o.k6)(()=>[(0,o.eW)("‰∏ã‰∏ÄËØç(N)")]),_:1})):(0,o.Q3)("",!0)])])):2===t.value?((0,o.uX)(),(0,o.CE)("div",Ye,Ne)):3===t.value?((0,o.uX)(),(0,o.CE)("div",Ge,aa)):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(T.pw),{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e),title:"ÊêúÁ¥¢","with-header":!0},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,n.R1)(y),(e,a)=>((0,o.uX)(),(0,o.CE)("p",{key:e.id},[(0,o.Lk)("a",{href:"#",onClick:(0,l.D$)(a=>x(e),["prevent"]),class:(0,F.C4)({"wiktionary-link":e.title.toLowerCase().includes("wiktionary")})},[(0,o.Lk)("b",null,(0,F.v_)(a+1)+". "+(0,F.v_)(e.title),1)],10,ta),(0,o.bF)((0,n.R1)(z.fR))]))),128))]),_:1},8,["modelValue"]),d.value?((0,o.uX)(),(0,o.CE)("div",la,[(0,o.Lk)("div",oa,[(0,o.Lk)("button",{class:"close-fullscreen-btn",onClick:a[2]||(a[2]=e=>d.value=!1)},[(0,o.bF)((0,n.R1)(P.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.bm))]),_:1})]),(0,o.Lk)("iframe",{src:p.value,class:"wiktionary-fullscreen-iframe",loading:"lazy"},null,8,na)])])):(0,o.Q3)("",!0)]),_:1}),(0,o.bF)((0,n.R1)(T.pw),{modelValue:s.value,"onUpdate:modelValue":a[6]||(a[6]=e=>s.value=e),title:"Á¨îËÆ∞ (ÊîØÊåÅMarkdownËØ≠Ê≥ï)","with-header":!0,size:"50%"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ra,[(0,o.bF)((0,n.R1)(Q.q),{modelValue:m.value,"onUpdate:modelValue":a[4]||(a[4]=e=>m.value=e),type:"border-card"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.v$),{label:"ÁºñËæë",name:"edit"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{type:"textarea",placeholder:"Ê∑ªÂä†Á¨îËÆ∞ (ÊîØÊåÅMarkdownËØ≠Ê≥ï)",modelValue:(0,n.R1)(X),"onUpdate:modelValue":a[3]||(a[3]=e=>(0,n.i9)(X)?X.value=e:X=e),rows:20,maxlength:"1000","show-vocabulary-limit":""},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Q.v$),{label:"È¢ÑËßà",name:"preview"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"markdown-preview",innerHTML:b.value},null,8,ua)]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)(z.fR)),(0,o.Lk)("div",ia,[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:Y},{default:(0,o.k6)(()=>[(0,o.eW)("‰øùÂ≠ò")]),_:1}),(0,o.bF)((0,n.R1)(C.S2),{onClick:a[5]||(a[5]=e=>s.value=!1)},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1})])])]),_:1},8,["modelValue"]),c.value?((0,o.uX)(),(0,o.Wv)(we,{key:0,"current-vocabulary":w(),onClose:a[7]||(a[7]=e=>c.value=!1)},null,8,["current-vocabulary"])):(0,o.Q3)("",!0)],64))}};const ca=(0,m.A)(sa,[["__scopeId","data-v-83b47d6e"]]);var da=ca,pa={__name:"LearnVocabularyView",setup(e){return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[(0,o.bF)(da,{type:"learn"})]),_:1}))}};const ma=pa;var va=ma,ka={__name:"ReviewVocabularyView",setup(e){return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[(0,o.bF)(da,{type:"review"})]),_:1}))}};const fa=ka;var ba=fa;const ya=[{path:"/vocabulary",name:"vocabulary",component:X,meta:{requiresAuth:!0}},{path:"/card",name:"card",component:da,meta:{requiresAuth:!0}},{path:"/learn",name:"learn",component:va,meta:{requiresAuth:!0}},{path:"/review",name:"review",component:ba,meta:{requiresAuth:!0}}];var ga=ya,Ra=t(2006);const _a={class:"login-container"},ha={key:0,style:{color:"red","margin-bottom":"10px","margin-left":"100px"}};var wa={__name:"LoginView",setup(e){const a=(0,n.KR)("http://127.0.0.1:8080");null!==localStorage.getItem("server_link")&&(a.value=localStorage.getItem("server_link"));const t=(0,n.KR)(""),r=(0,n.KR)(""),s=(0,n.KR)(!1),c=(0,n.KR)(""),d=(0,u.Pj)(),p=(0,i.rd)(),m=async()=>{const e=await d.dispatch("login",{serverLink:a.value,username:t.value,password:r.value});!0===e?(s.value=!1,await p.push({name:"home"})):(s.value=!0,c.value=e)},v=async()=>{await p.push({name:"register"})};return(e,u)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",_a,[(0,o.bF)((0,n.R1)(Ra.US),{ref:"loginForm","label-width":"80px"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"Server Link",prop:"serverLink",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=e=>a.value=e),placeholder:"ËØ∑ËæìÂÖ•ÊúçÂä°Âô®Âú∞ÂùÄ"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Username",prop:"username",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=e=>t.value=e),placeholder:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Password",prop:"password",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{type:"password",modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=e=>r.value=e),onKeyup:(0,l.jR)(m,["enter"]),placeholder:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å"},null,8,["modelValue"])]),_:1}),s.value?((0,o.uX)(),(0,o.CE)("div",ha,(0,F.v_)(c.value),1)):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(Ra.xE),{class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:m,class:"login-button"},{default:(0,o.k6)(()=>[(0,o.eW)("Login")]),_:1})]),_:1}),(0,o.Lk)("p",{onClick:v,style:{"margin-left":"80px",color:"#0477fa"}},"Ê≤°ÊúâË¥¶Âè∑ÔºüÁÇπÂáªÊ≥®ÂÜå")]),_:1},512)])]),_:1}))}};const Fa=(0,m.A)(wa,[["__scopeId","data-v-39c5c546"]]);var Va=Fa;const Ca={class:"register-container"},xa={key:0,style:{color:"red","margin-bottom":"10px","margin-left":"100px"}},Sa={key:2,style:{"margin-left":"80px",color:"#0477fa"}};var Wa={__name:"RegisterView",setup(e){const a=(0,u.Pj)(),t=(0,n.KR)("http://127.0.0.1:8080"),r=(0,n.KR)(""),s=(0,n.KR)(""),c=(0,n.KR)(""),d=(0,n.KR)(""),p=(0,n.KR)(""),m=(0,n.KR)(!1),v=(0,n.KR)(""),k=(0,n.KR)(!1),f=(0,n.KR)(""),b=async()=>{if(d.value!==p.value)return m.value=!0,void(v.value="‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏ç‰∏ÄËá¥");const e=await a.dispatch("register",{serverLink:t.value,username:r.value,email:s.value,avatar:c.value,password:d.value,confirm_password:p.value});!0===e?(m.value=!1,k.value=!0,f.value="Ê≥®ÂÜåÊàêÂäü, Âç≥Â∞ÜËá™Âä®Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢",setTimeout(()=>{g()},2e3)):(m.value=!0,v.value=e)},y=(0,i.rd)(),g=()=>{y.push({name:"login"})};return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ca,[(0,o.bF)((0,n.R1)(Ra.US),{ref:"registerForm","label-width":"80px"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÊúçÂä°Âô®",prop:"serverLink",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),placeholder:"ËØ∑ËæìÂÖ•ÂêéÂè∞ÊúçÂä°Âô®Âú∞ÂùÄ"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Áî®Êà∑Âêç",prop:"username",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),placeholder:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÈÇÆÁÆ±",prop:"email",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:s.value,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value=e),placeholder:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Â§¥ÂÉè",prop:"avatar",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:c.value,"onUpdate:modelValue":a[3]||(a[3]=e=>c.value=e),placeholder:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂØÜÁ†Å",prop:"password",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{type:"password",modelValue:d.value,"onUpdate:modelValue":a[4]||(a[4]=e=>d.value=e),placeholder:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Á°ÆËÆ§ÂØÜÁ†Å",prop:"confirmPassword",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{type:"password",modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=e=>p.value=e),onKeyup:(0,l.jR)(b,["enter"]),placeholder:"ËØ∑Á°ÆËÆ§ÂØÜÁ†Å"},null,8,["modelValue"])]),_:1}),m.value?((0,o.uX)(),(0,o.CE)("div",xa,(0,F.v_)(v.value),1)):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(Ra.xE),{class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:b,class:"register-button"},{default:(0,o.k6)(()=>[(0,o.eW)("Ê≥®ÂÜå")]),_:1})]),_:1}),k.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("p",{key:1,onClick:g,style:{"margin-left":"80px",color:"#04eefa"}},"Â∑≤ÊúâË¥¶Âè∑ÔºüÁÇπÂáªÁôªÂΩï")),k.value?((0,o.uX)(),(0,o.CE)("p",Sa,(0,F.v_)(f.value),1)):(0,o.Q3)("",!0)]),_:1},512)])]),_:1}))}};const La=(0,m.A)(Wa,[["__scopeId","data-v-c4712e08"]]);var Ka=La;const Aa=[{path:"/login",name:"login",component:Va,beforeEnter:(e,a,t)=>{t(e=>{e.$nextTick(()=>{e.$refs.loginMenuItem.focus()})})}},{path:"/register",name:"register",component:Ka}];var Ia=Aa,Ea=t(236),Ua=t(4880),Xa=t(6844),ja=t(7111),$a=t(9267),Pa=t(850),Ta=t(8430);async function za(){try{const e=localStorage.getItem("server_link"),a=localStorage.getItem("token"),t=await A.A.get(e+"/vocabulary_set/count",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return t.data}catch(e){console.error("Error fetching data from backend:",e)}}async function Qa(e,a){try{const t=localStorage.getItem("server_link"),l=localStorage.getItem("token"),o=t+"/vocabulary_set/list/"+e+"/"+a,n=await A.A.get(o,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});return n.data}catch(t){console.error("Error fetching data from backend:",t)}}function Ma(e){return"text/plain"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type?e.size>10485760?{code:1,message:"Êñá‰ª∂Â§ßÂ∞è‰∏çËÉΩË∂ÖËøá10M"}:{code:0,message:"success"}:{code:1,message:"Êñá‰ª∂Ê†ºÂºèÈîôËØØ"}}async function Ba(e,a,t,l){try{const o=localStorage.getItem("token"),n=localStorage.getItem("server_link"),r=n+"/vocabulary_set/update",u=await A.A.put(r,{id:e,title:a,category:t,created_at:l},{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return u.data}catch(o){console.error("Error fetching data from backend:",o)}}async function qa(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=a+"/vocabulary_set/delete/"+e,o=await A.A.delete(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}var Da=t(1576),Oa=t.n(Da);const Za=e=>{const a=e["date_to_review"].toString();return a.substring(0,4)+"-"+a.substring(4,6)+"-"+a.substring(6)},Ha=(e,a)=>Oa()(e[a.property]).format("YYYY-MM-DD HH:mm:ss");async function Ya(e,a){try{const t=localStorage.getItem("token"),l=localStorage.getItem("server_link"),o=l+"/vocabulary_set/add",n=await A.A.post(o,{title:e,category:a},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.data}catch(t){console.error("Error fetching data from backend:",t)}}const Ja=e=>((0,o.Qi)("data-v-737ef101"),e=e(),(0,o.jt)(),e),Na=Ja(()=>(0,o.Lk)("br",null,null,-1)),Ga={class:"dialog-footer"},et=Ja(()=>(0,o.Lk)("div",{style:{color:"red"}}," ‰∏ÄÊ¨°Âè™ËÉΩ‰∏ä‰º†‰∏Ä‰∏™.txtÊñá‰ª∂ÊàñËÄÖ.xlsxÊñá‰ª∂ÔºåËØçÊù°Êï∞‰∏çËÉΩË∂ÖËøá50‰∏á‰∏™ ",-1)),at={class:"dialog-footer"};var tt={__name:"VocabularySetSettingView",setup(e){const a=(0,u.Pj)(),t=e=>{null!=e&&2!==e.code||(a.dispatch("logout"),location.reload())};let r=(0,n.KR)(!1),i=(0,n.KR)(null),s=(0,n.Kh)([]),c=(0,n.KR)(5),d=(0,n.KR)(1);const p=async()=>{v.value=!1;const e=await Qa(c.value,d.value);t(e),s=e.data,v.value=!0},m=async()=>{v.value=!1;const e=await Qa(c.value,d.value);t(e),s=e.data,v.value=!0},v=(0,n.KR)(!1);let k=(0,n.KR)(0);(0,o.sV)(async()=>{const e=await za();t(e),k.value=e.data;const a=await Qa(c.value,d.value);t(a),s=a.data,v.value=!0});const f=e=>{localStorage.setItem("vocabulary_set_id",e.id),Tl.push({name:"vocabulary_setting"})},b=e=>{i.value=e,r.value=!0},y=()=>{r.value=!1,location.reload()},g=async()=>{r.value=!1,v.value=!1;const e=await Ba(i.value.id,i.value.title,i.value.category,i.value.created_at);t(e),v.value=!0,location.reload()},R=async e=>{(0,j.df)({title:"Âà†Èô§ËØç‰π¶",message:"ËØç‰π¶Âà†Èô§‰∏≠, ËØ∑Á®çÁ≠â...",type:"info",duration:1e3});const a=await qa(e.id);if(t(a),0===a.code){v.value=!1;const e=await za();t(e),k.value=e.data;const a=await Qa(c.value,d.value);t(a),s=a.data,v.value=!0,(0,j.df)({title:"Success",message:"Âà†Èô§ÊàêÂäü",type:"success",duration:1e3})}},_=(0,n.KR)(!1),h=(0,n.Kh)({title:"",category:""}),w=()=>{_.value=!0},F=(0,n.KR)(!1),V=(0,n.KR)(null),x=e=>{V.value.clearFiles();const a=e[0];a.uid=(0,Ea.G$)(),V.value.handleStart(a)},S=e=>{1===e.code?(0,j.df)({title:"‰∏ä‰º†Â§±Ë¥•",message:e.message,type:"error",duration:1e3}):(0,j.df)({title:"Success",message:e.message,type:"success",duration:1e3}),setTimeout(()=>{location.reload()},1e3)},W=e=>{(0,j.df)({title:"Error",message:e.message,type:"error",duration:1e3})},L=()=>{F.value=!1,_.value=!1,h.title="",h.category=""},A=async()=>{if((0,j.df)({title:"Êñá‰ª∂‰∏ä‰º†",message:"ËØç‰π¶‰∏ä‰º†‰∏≠, ËØ∑Á®çÁ≠â...",type:"info",duration:1e3}),_.value=!1,F.value=!1,v.value=!1,null!=V.value)V.value.submit();else{const e=await Ya(h.title,h.category);t(e),0===e.code?(0,j.df)({title:"Success",message:"Ê∑ªÂä†ÊàêÂäü",type:"success",duration:1e3}):W(e)}const e=await za();t(e),k.value=e.data.data;const a=await Qa(c.value,d.value);t(a),s=a.data,v.value=!0,h.title="",h.category=""},I=localStorage.getItem("server_link"),E=(0,n.KR)(I+"/vocabulary_set/add"),U=(0,n.KR)({Authorization:"Bearer "+localStorage.getItem("token")}),X=e=>{const a=Ma(e);return 0===a.code||((0,j.df)({title:"Error",message:a.message,type:"error",duration:1e3}),!1)};return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[v.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ua.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ua.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.Up),{data:(0,n.R1)(s)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂêçÁß∞",prop:"title"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂàÜÁ±ª",prop:"category"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂàõÂª∫Êó∂Èó¥",prop:"created_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Êõ¥Êñ∞Êó∂Èó¥",prop:"updated_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Êìç‰Ωú"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:a=>f(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("Êü•ÁúãËØçÊ±á")]),_:2},1032,["onClick"]),(0,o.bF)((0,n.R1)(C.S2),{onClick:a=>b(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ÁºñËæë")]),_:2},1032,["onClick"]),(0,o.bF)((0,n.R1)(C.S2),{onClick:a=>R(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("Âà†Èô§")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(ja.aQ),{"current-page":(0,n.R1)(d),"onUpdate:currentPage":a[0]||(a[0]=e=>(0,n.i9)(d)?d.value=e:d=e),"page-size":(0,n.R1)(c),"onUpdate:pageSize":a[1]||(a[1]=e=>(0,n.i9)(c)?c.value=e:c=e),"page-sizes":[5,10,20,50,100],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:(0,n.R1)(k),onSizeChange:m,onCurrentChange:p},null,8,["current-page","page-size","total"])])]),_:1}),Na,(0,o.bF)((0,n.R1)(Ua.LK),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:w},{default:(0,o.k6)(()=>[(0,o.eW)("Ê∑ªÂä†")]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)($a.kZ),{modelValue:(0,n.R1)(r),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,n.i9)(r)?r.value=e:r=e),title:"ÁºñËæëËØç‰π¶"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Ga,[(0,o.bF)((0,n.R1)(C.S2),{onClick:y},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1}),(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:g},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.US),{model:(0,n.R1)(i)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"Ê†áÈ¢ò"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:(0,n.R1)(i).title,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,n.R1)(i).title=e),onKeyup:(0,l.jR)(g,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂàÜÁ±ª"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:(0,n.R1)(i).category,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,n.R1)(i).category=e),onKeyup:(0,l.jR)(g,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)($a.kZ),{modelValue:_.value,"onUpdate:modelValue":a[8]||(a[8]=e=>_.value=e),title:"Êñ∞Âª∫ËØç‰π¶"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",at,[(0,o.bF)((0,n.R1)(C.S2),{onClick:L},{default:(0,o.k6)(()=>[(0,o.eW)("Cancel")]),_:1}),(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:A},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.US),{model:h},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"Ê†áÈ¢ò"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:h.title,"onUpdate:modelValue":a[5]||(a[5]=e=>h.title=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂàÜÁ±ª"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:h.category,"onUpdate:modelValue":a[6]||(a[6]=e=>h.category=e),onKeyup:(0,l.jR)(A,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Pa.dI),{modelValue:F.value,"onUpdate:modelValue":a[7]||(a[7]=e=>F.value=e)},{default:(0,o.k6)(()=>[(0,o.eW)("‰∏ä‰º†Êñá‰ª∂(Â¶Ç‰∏ç‰∏ä‰º†Êñá‰ª∂ÔºåÂàôÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑËØç‰π¶)")]),_:1},8,["modelValue"]),F.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ra.xE),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ta.j5),{ref_key:"upload",ref:V,"before-upload":X,action:E.value,headers:U.value,data:{title:h.title,category:h.category},name:"file",limit:1,"on-exceed":x,"auto-upload":!1,"on-success":S},{trigger:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary"},{default:(0,o.k6)(()=>[(0,o.eW)("ÈÄâÊã©Êñá‰ª∂")]),_:1})]),tip:(0,o.k6)(()=>[et]),_:1},8,["action","headers","data"])]),_:1})):(0,o.Q3)("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const lt=(0,m.A)(tt,[["__scopeId","data-v-737ef101"]]);var ot=lt,nt=t(1418),rt=t(3883);async function ut(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=a+"/vocabulary/delete/"+e,o=await A.A.delete(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}async function it(e,a,t,l){try{const o=localStorage.getItem("token"),n=localStorage.getItem("server_link"),r=n+"/vocabulary/add",u=await A.A.post(r,{vocabulary_set_id:e,vocabulary:a,meaning:t,note:l},{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return u.data}catch(o){console.error("Error fetching data from backend:",o)}}const st=(0,o.Lk)("br",null,null,-1),ct={class:"block"},dt={class:"dialog-footer"},pt={class:"dialog-footer"};var mt={__name:"VocabularySettingView",setup(e){const a=parseInt(localStorage.getItem("vocabulary_set_id"));let t=(0,n.Kh)([]),r=(0,n.KR)(5),i=(0,n.KR)(1);const s=(0,u.Pj)(),c=e=>{null!=e&&2!==e.code||(s.dispatch("logout"),location.reload())},d=(0,n.KR)(!1);let p=(0,n.KR)(0);(0,o.sV)(async()=>{const e=await xe(a);c(e),p.value=e.data;const l=await Se(a,r.value,i.value);c(l),t=l.data,d.value=!0});const m=async()=>{d.value=!1;const e=await Se(a,r.value,i.value);c(e),t=e.data,d.value=!0},v=async()=>{d.value=!1;const e=await Se(a,r.value,i.value);c(e),t=e.data,d.value=!0},k=(0,n.KR)(null),f=(0,n.KR)(!1),b=async e=>{(0,j.df)({title:"Âà†Èô§Êù°ÁõÆ",message:"Êù°ÁõÆÂà†Èô§‰∏≠, ËØ∑Á®çÁ≠â...",type:"info",duration:1e3});const l=await ut(e.id);if(c(l),0===l.code){d.value=!1;const e=await xe(a);c(e),p.value=e.data;const l=await Se(a,r.value,i.value);c(l),t=l.data,d.value=!0,(0,j.df)({title:"Success",message:"Âà†Èô§ÊàêÂäü",type:"success",duration:1e3})}},y=e=>{const a=e.getFullYear();return a<2e3||a>2099},g=(0,n.KR)(0),R=e=>{k.value=e;const a=e.date_to_review,t=Math.floor(a/1e4),l=Math.floor(a%1e4/100)-1,o=a%100,n=new Date(t,l,o);g.value=n.getTime(),f.value=!0},_=()=>{f.value=!1,location.reload()},h=async()=>{f.value=!1,d.value=!1;const e=new Date(g.value),a=e.getFullYear(),t=e.getMonth()+1,l=e.getDate();k.value.date_to_review=1e4*a+100*t+l;const o=await Ie(k.value.id,k.value.vocabulary,k.value.meaning,k.value.vocabulary_set_id,k.value.note,k.value.unwanted,k.value.study_count,k.value.date_to_review,k.value.created_at);c(o),d.value=!0},w=(0,n.KR)(!1),F=()=>{w.value=!0},V=(0,n.Kh)({vocabulary:"",meaning:"",note:""}),x=()=>{w.value=!1,V.vocabulary="",V.meaning="",V.note=""},S=e=>{(0,j.df)({title:"Error",message:e.message,type:"error",duration:1e3})},W=async()=>{w.value=!1,d.value=!1;const e=await it(a,V.vocabulary,V.meaning,V.note);c(e),0===e.code?(0,j.df)({title:"Success",message:"Ê∑ªÂä†ÊàêÂäü",type:"success",duration:1e3}):S(e);const l=await xe(a);c(l),p.value=l.data.data;const o=await Se(a,r.value,i.value);c(o),t=o.data,d.value=!0,V.vocabulary="",V.meaning="",V.note=""};return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[d.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ua.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ua.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.Up),{data:(0,n.R1)(t)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂçïËØç",prop:"vocabulary"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Âê´‰πâ",prop:"meaning"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Â§áÊ≥®",prop:"note"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"‰∏çÊÉ≥Â≠¶",prop:"unwanted"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Â≠¶‰π†Ê¨°Êï∞",prop:"study_count"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Â§ç‰π†Êó•Êúü",prop:"date_to_review",formatter:(0,n.R1)(Za)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂàõÂª∫Êó∂Èó¥",prop:"created_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Êõ¥Êñ∞Êó∂Èó¥",prop:"updated_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Êìç‰Ωú"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)($.R7),{content:"ÁºñËæëÂçïËØçÊù°ÁõÆ",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:a=>R(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ÁºñËæë")]),_:2},1032,["onClick"])]),_:2},1024),(0,o.bF)((0,n.R1)($.R7),{content:"Âà†Èô§ÂçïËØçÊù°ÁõÆ",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:a=>b(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("Âà†Èô§")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(ja.aQ),{"current-page":(0,n.R1)(i),"onUpdate:currentPage":a[0]||(a[0]=e=>(0,n.i9)(i)?i.value=e:i=e),"page-size":(0,n.R1)(r),"onUpdate:pageSize":a[1]||(a[1]=e=>(0,n.i9)(r)?r.value=e:r=e),"page-sizes":[5,10,20,50,100],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:(0,n.R1)(p),onSizeChange:v,onCurrentChange:m},null,8,["current-page","page-size","total"])])]),_:1}),st,(0,o.bF)((0,n.R1)(Ua.LK),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)($.R7),{content:"Ê∑ªÂä†Êñ∞ÂçïËØç",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:F},{default:(0,o.k6)(()=>[(0,o.eW)("Ê∑ªÂä†")]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)($a.kZ),{modelValue:f.value,"onUpdate:modelValue":a[8]||(a[8]=e=>f.value=e),title:"ÁºñËæëÊù°ÁõÆ"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",dt,[(0,o.bF)((0,n.R1)($.R7),{content:"ÂèñÊ∂àÁºñËæë",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:_},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"Á°ÆËÆ§ÁºñËæë",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:h},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.US),{model:k.value},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂçïËØç"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:k.value.vocabulary,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value.vocabulary=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Âê´‰πâ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{type:"textarea",autosize:{minRows:5},modelValue:k.value.meaning,"onUpdate:modelValue":a[3]||(a[3]=e=>k.value.meaning=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Â§áÊ≥®"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{type:"textarea",autosize:{minRows:3},modelValue:k.value.note,"onUpdate:modelValue":a[4]||(a[4]=e=>k.value.note=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Pa.dI),{modelValue:k.value.unwanted,"onUpdate:modelValue":a[5]||(a[5]=e=>k.value.unwanted=e),label:"Ê†áËÆ∞‰∏∫‰∏çÊÉ≥Â≠¶",size:"large"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Â≠¶‰π†Ê¨°Êï∞"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(nt.lq),{modelValue:k.value.study_count,"onUpdate:modelValue":a[6]||(a[6]=e=>k.value.study_count=e),min:0,max:30},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"‰∏ãÊ¨°Â§ç‰π†Êó•Êúü"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ct,[(0,o.bF)((0,n.R1)(rt.MG),{modelValue:g.value,"onUpdate:modelValue":a[7]||(a[7]=e=>g.value=e),"disabled-date":y,type:"date",placeholder:"ÈÄâÊã©Êó•Êúü"},null,8,["modelValue"])])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)($a.kZ),{modelValue:w.value,"onUpdate:modelValue":a[12]||(a[12]=e=>w.value=e),title:"Êñ∞Âª∫Êù°ÁõÆ"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",pt,[(0,o.bF)((0,n.R1)($.R7),{content:"ÂèñÊ∂àÊ∑ªÂä†",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:x},{default:(0,o.k6)(()=>[(0,o.eW)("Cancel")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"Á°ÆËÆ§Ê∑ªÂä† (Âø´Êç∑ÈîÆ: Enter)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:W},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.US),{model:V},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂçïËØç"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:V.vocabulary,"onUpdate:modelValue":a[9]||(a[9]=e=>V.vocabulary=e),onKeyup:(0,l.jR)(W,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Âê´‰πâ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:V.meaning,"onUpdate:modelValue":a[10]||(a[10]=e=>V.meaning=e),onKeyup:(0,l.jR)(W,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Â§áÊ≥®"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:V.note,"onUpdate:modelValue":a[11]||(a[11]=e=>V.note=e),onKeyup:(0,l.jR)(W,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const vt=mt;var kt=vt;async function ft(e,a,t,l){try{const o=localStorage.getItem("token"),n=localStorage.getItem("server_link"),r=n+"/dictionary/update",u=await A.A.put(r,{id:e,title:a,prefix:t,suffix:l},{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return u.data}catch(o){console.error("Error fetching data from backend:",o)}}async function bt(e,a,t){try{const l=localStorage.getItem("token"),o=localStorage.getItem("server_link"),n=o+"/dictionary/add",r=await A.A.post(n,{title:e,prefix:a,suffix:t},{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});return r.data}catch(l){console.error("Error fetching data from backend:",l)}}async function yt(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=a+"/dictionary/delete/"+e,o=await A.A.delete(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}const gt=(0,o.Lk)("br",null,null,-1),Rt={class:"dialog-footer"},_t={class:"dialog-footer"};var ht={__name:"DictionarySettingView",setup(e){let a=(0,n.Kh)([]);const t=(0,u.Pj)(),r=e=>{null!=e&&2!==e.code||(t.dispatch("logout"),location.reload())},i=(0,n.KR)(!1);(0,o.sV)(async()=>{const e=await Ve();r(e),a=e.data,i.value=!0});const s=(0,n.KR)(null),c=(0,n.KR)(!1),d=async e=>{(0,j.df)({title:"Âà†Èô§ËØçÂÖ∏",message:"ËØçÂÖ∏Âà†Èô§‰∏≠, ËØ∑Á®çÁ≠â...",type:"info",duration:1e3});const t=await yt(e.id);if(r(t),0===t.code){i.value=!1;const e=await Ve();r(e),a=e.data,i.value=!0,(0,j.df)({title:"Success",message:"Âà†Èô§ÊàêÂäü",type:"success",duration:1e3})}},p=e=>{s.value=e,c.value=!0},m=()=>{c.value=!1,location.reload()},v=async()=>{c.value=!1,i.value=!1;const e=await ft(s.value.id,s.value.title,s.value.prefix,s.value.suffix);r(e),i.value=!0},k=(0,n.KR)(!1),f=()=>{k.value=!0},b=(0,n.Kh)({title:"",prefix:"",suffix:""}),y=()=>{k.value=!1,b.title="",b.prefix="",b.suffix=""},g=e=>{(0,j.df)({title:"Error",message:e.message,type:"error",duration:1e3})},R=async()=>{k.value=!1,i.value=!1;const e=await bt(b.title,b.prefix,b.suffix);r(e),0===e.code?(0,j.df)({title:"Success",message:"Ê∑ªÂä†ÊàêÂäü",type:"success",duration:1e3}):g(e);const t=await Ve();r(t),a=t.data,i.value=!0,b.title="",b.prefix="",b.suffix=""};return(e,t)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[i.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ua.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ua.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.Up),{data:(0,n.R1)(a)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂêçÁß∞",prop:"title"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂâçÁºÄ",prop:"prefix"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂêéÁºÄ",prop:"suffix"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂàõÂª∫Êó∂Èó¥",prop:"created_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Êõ¥Êñ∞Êó∂Èó¥",prop:"updated_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Êìç‰Ωú"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)($.R7),{content:"ÁºñËæëËØçÂÖ∏",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:a=>p(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ÁºñËæë")]),_:2},1032,["onClick"])]),_:2},1024),(0,o.bF)((0,n.R1)($.R7),{content:"Âà†Èô§ËØçÂÖ∏",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:a=>d(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("Âà†Èô§")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1}),gt,(0,o.bF)((0,n.R1)(Ua.LK),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)($.R7),{content:"Ê∑ªÂä†Êñ∞ËØçÂÖ∏",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:f},{default:(0,o.k6)(()=>[(0,o.eW)("Ê∑ªÂä†")]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)($a.kZ),{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value=e),title:"ÁºñËæëËØçÂÖ∏"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Rt,[(0,o.bF)((0,n.R1)($.R7),{content:"ÂèñÊ∂àÁºñËæë",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:m},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"Á°ÆËÆ§ÁºñËæë (Âø´Êç∑ÈîÆ: Enter)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:v},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.US),{model:s.value},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂêçÁß∞"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:s.value.title,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value.title=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂâçÁºÄ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:s.value.prefix,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value.prefix=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂêéÁºÄ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:s.value.suffix,"onUpdate:modelValue":t[2]||(t[2]=e=>s.value.suffix=e),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)($a.kZ),{modelValue:k.value,"onUpdate:modelValue":t[7]||(t[7]=e=>k.value=e),title:"Ê∑ªÂä†ËØçÂÖ∏"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",_t,[(0,o.bF)((0,n.R1)($.R7),{content:"ÂèñÊ∂àÊ∑ªÂä†",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:y},{default:(0,o.k6)(()=>[(0,o.eW)("Cancel")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"Á°ÆËÆ§Ê∑ªÂä† (Âø´Êç∑ÈîÆ: Enter)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:R},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.US),{model:b},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂêçÁß∞"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:b.title,"onUpdate:modelValue":t[4]||(t[4]=e=>b.title=e),onKeyup:(0,l.jR)(R,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂâçÁºÄ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:b.prefix,"onUpdate:modelValue":t[5]||(t[5]=e=>b.prefix=e),onKeyup:(0,l.jR)(R,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂêéÁºÄ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:b.suffix,"onUpdate:modelValue":t[6]||(t[6]=e=>b.suffix=e),onKeyup:(0,l.jR)(R,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const wt=ht;var Ft=wt;const Vt=async e=>{try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+`/llm/delete/${e}`,o=await A.A.delete(l,{headers:{Authorization:`Bearer ${a}`}});return o.data}catch(a){return console.error("Âà†Èô§LLMÊúçÂä°Âá∫Èîô:",a),{code:1,message:"ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï"}}},Ct=async(e,a)=>{try{const t=localStorage.getItem("token"),l=localStorage.getItem("server_link"),o=l+`/llm/update/${e}`,n=await A.A.put(o,a,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.data}catch(t){return console.error("Êõ¥Êñ∞LLMÊúçÂä°Âá∫Èîô:",t),{code:1,message:"ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï"}}},xt=async e=>{try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/llm/add",o={...e,endpoint:e.endpoint,api_key:e.api_key},n=await A.A.post(l,o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return n.data}catch(a){return console.error("Ê∑ªÂä†LLMÊúçÂä°Âá∫Èîô:",a),{code:1,message:"ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï"}}};var St=t(2933),Wt=t(2687);const Lt={class:"dialog-footer"};var Kt={__name:"LLMServiceSettingView",setup(e){const a=(0,u.Pj)(),t=e=>{null!=e&&2!==e.code||(a.dispatch("logout"),location.reload())},l=(0,n.KR)(!1),r=(0,n.Kh)([]),i=(0,n.KR)(!1),s=(0,n.KR)(!1),c=(0,n.KR)(null),d=(0,n.Kh)({id:null,name:"",provider:"",endpoint:"",model:"",api_key:"",description:"",is_default:!1}),p={name:[{required:!0,message:"ËØ∑ËæìÂÖ•ÊúçÂä°ÂêçÁß∞",trigger:"blur"}],endpoint:[{required:!0,message:"ËØ∑ËæìÂÖ•APIÁ´ØÁÇπ",trigger:"blur"}],model:[{required:!0,message:"ËØ∑ËæìÂÖ•Ê®°ÂûãÂêçÁß∞",trigger:"blur"}],api_key:[{required:!0,message:"ËØ∑ËæìÂÖ•API Key",trigger:"blur"}]},m=(0,o.EW)(()=>s.value?"ÁºñËæëLLMÊúçÂä°":"Ê∑ªÂä†LLMÊúçÂä°");(0,o.sV)(async()=>{await v()});const v=async()=>{l.value=!1;try{const e=await ce();t(e),0===e.code&&r.splice(0,r.length,...e.data)}catch(e){(0,j.df)({title:"ÈîôËØØ",message:"Âä†ËΩΩÊúçÂä°ÂàóË°®Â§±Ë¥•",type:"error"})}finally{l.value=!0}},k=()=>{s.value=!1,g(),i.value=!0},f=e=>{s.value=!0,Object.assign(d,e),i.value=!0},b=async e=>{try{await St.s.confirm(`Á°ÆËÆ§Âà†Èô§ÊúçÂä° "${e.name}" ÂêóÔºü`,"Âà†Èô§Á°ÆËÆ§",{confirmButtonText:"Á°ÆËÆ§",cancelButtonText:"ÂèñÊ∂à",type:"warning"});const a=await Vt(e.id);t(a),0===a.code&&((0,j.df)({title:"ÊàêÂäü",message:"ÊúçÂä°Âà†Èô§ÊàêÂäü",type:"success"}),await v())}catch(a){"cancel"!==a&&(0,j.df)({title:"ÈîôËØØ",message:"Âà†Èô§ÊúçÂä°Â§±Ë¥•",type:"error"})}},y=async e=>{try{const a=await Ct(e.id,{is_default:!0});t(a),0===a.code&&((0,j.df)({title:"ÊàêÂäü",message:"ÈªòËÆ§ÊúçÂä°ËÆæÁΩÆÊàêÂäü",type:"success"}),await v())}catch(a){(0,j.df)({title:"ÈîôËØØ",message:"ËÆæÁΩÆÈªòËÆ§ÊúçÂä°Â§±Ë¥•",type:"error"})}},g=()=>{Object.assign(d,{id:null,name:"",provider:"",endpoint:"",model:"",api_key:"",description:"",is_default:!1}),(0,o.dY)(()=>{c.value?.clearValidate()})},R=()=>{i.value=!1,g()},_=async()=>{if(c.value)try{let e;await c.value.validate(),(0,j.df)({title:"Â§ÑÁêÜ‰∏≠",message:(s.value?"Êõ¥Êñ∞":"Ê∑ªÂä†")+"ÊúçÂä°‰∏≠...",type:"info"}),e=s.value?await Ct(d.id,d):await xt(d),t(e),0===e.code&&((0,j.df)({title:"ÊàêÂäü",message:(s.value?"Êõ¥Êñ∞":"Ê∑ªÂä†")+"ÊúçÂä°ÊàêÂäü",type:"success"}),i.value=!1,g(),await v())}catch(e){e.errors?ue.nk.warning("ËØ∑ÂÆåÂñÑË°®Âçï‰ø°ÊÅØ"):(0,j.df)({title:"ÈîôËØØ",message:(s.value?"Êõ¥Êñ∞":"Ê∑ªÂä†")+"ÊúçÂä°Â§±Ë¥•",type:"error"})}};return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[l.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ua.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ua.bZ),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:k},{default:(0,o.k6)(()=>[(0,o.eW)("Ê∑ªÂä†LLMÊúçÂä°")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(Ua.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.Up),{data:r,"empty-text":"ÊöÇÊó†LLMÊúçÂä°ÈÖçÁΩÆ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÊúçÂä°ÂêçÁß∞",prop:"name"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Êèê‰æõÂïÜ",prop:"provider"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"APIÁ´ØÁÇπ",prop:"endpoint"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Ê®°Âûã",prop:"model"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÊòØÂê¶ÈªòËÆ§"},{default:(0,o.k6)(e=>[e.row.is_default?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Wt.u),{key:0,type:"success"},{default:(0,o.k6)(()=>[(0,o.eW)("ÈªòËÆ§")]),_:1})):((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:1,type:"text",onClick:a=>y(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ËÆæ‰∏∫ÈªòËÆ§")]),_:2},1032,["onClick"]))]),_:1}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÊèèËø∞",prop:"description"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂàõÂª∫Êó∂Èó¥",prop:"created_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Êìç‰Ωú"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:a=>f(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ÁºñËæë")]),_:2},1032,["onClick"]),(0,o.bF)((0,n.R1)(C.S2),{onClick:a=>b(e.row),type:"danger"},{default:(0,o.k6)(()=>[(0,o.eW)("Âà†Èô§")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)($a.kZ),{modelValue:i.value,"onUpdate:modelValue":a[7]||(a[7]=e=>i.value=e),title:m.value},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Lt,[(0,o.bF)((0,n.R1)(C.S2),{onClick:R},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1}),(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:_},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.US),{model:d,rules:p,ref_key:"serviceFormRef",ref:c},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÊúçÂä°ÂêçÁß∞",prop:"name"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:d.name,"onUpdate:modelValue":a[0]||(a[0]=e=>d.name=e),placeholder:"ËØ∑ËæìÂÖ•ÊúçÂä°ÂêçÁß∞"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÊúçÂä°Êèê‰æõÂïÜ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:d.provider,"onUpdate:modelValue":a[1]||(a[1]=e=>d.provider=e),placeholder:"ËØ∑ËæìÂÖ•ÊúçÂä°Êèê‰æõÂïÜ"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"APIÁ´ØÁÇπ",prop:"endpoint"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:d.endpoint,"onUpdate:modelValue":a[2]||(a[2]=e=>d.endpoint=e),placeholder:"ËØ∑ËæìÂÖ•APIÁ´ØÁÇπURL"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Ê®°ÂûãÂêçÁß∞",prop:"model"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:d.model,"onUpdate:modelValue":a[3]||(a[3]=e=>d.model=e),placeholder:"ËØ∑ËæìÂÖ•Ê®°ÂûãÂêçÁß∞"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"API Key",prop:"api_key"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:d.api_key,"onUpdate:modelValue":a[4]||(a[4]=e=>d.api_key=e),type:"password",placeholder:"ËØ∑ËæìÂÖ•API Key","show-password":""},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÊúçÂä°ÊèèËø∞"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:d.description,"onUpdate:modelValue":a[5]||(a[5]=e=>d.description=e),type:"textarea",placeholder:"ËØ∑ËæìÂÖ•ÊúçÂä°ÊèèËø∞",rows:3},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Pa.dI),{modelValue:d.is_default,"onUpdate:modelValue":a[6]||(a[6]=e=>d.is_default=e)},{default:(0,o.k6)(()=>[(0,o.eW)("ËÆæ‰∏∫ÈªòËÆ§ÊúçÂä°")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])]),_:1}))}};const At=(0,m.A)(Kt,[["__scopeId","data-v-71c2e9f5"]]);var It=At;const Et=async e=>{try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+`/aiprompt/delete/${e}`,o=await A.A.delete(l,{headers:{Authorization:`Bearer ${a}`}});return o.data}catch(a){return console.error("Âà†Èô§AIÊèêÁ§∫ËØçÂá∫Èîô:",a),{code:1,message:"ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï"}}},Ut=async(e,a)=>{try{const t=localStorage.getItem("token"),l=localStorage.getItem("server_link"),o=l+`/aiprompt/update/${e}`,n=await A.A.put(o,a,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.data}catch(t){return console.error("Êõ¥Êñ∞AIÊèêÁ§∫ËØçÂá∫Èîô:",t),{code:1,message:"ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï"}}},Xt=async e=>{try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/aiprompt/add",o=await A.A.post(l,e,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){return console.error("Ê∑ªÂä†AIÊèêÁ§∫ËØçÂá∫Èîô:",a),{code:1,message:"ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÈáçËØï"}}},jt={class:"dialog-footer"};var $t={__name:"AIPromptSettingView",setup(e){const a=(0,u.Pj)(),t=e=>{null!=e&&2!==e.code||(a.dispatch("logout"),location.reload())},l=(0,n.KR)(!1),r=(0,n.Kh)([]),i=(0,n.KR)(!1),s=(0,n.KR)(!1),c=(0,n.KR)(null),d=(0,n.Kh)({id:null,name:"",description:"",content:"",is_default:!1}),p={name:[{required:!0,message:"ËØ∑ËæìÂÖ•ÊèêÁ§∫ËØçÂêçÁß∞",trigger:"blur"}],content:[{required:!0,message:"ËØ∑ËæìÂÖ•ÊèêÁ§∫ËØçÂÜÖÂÆπ",trigger:"blur"}]},m=(0,o.EW)(()=>s.value?"ÁºñËæëAIÊèêÁ§∫ËØç":"Ê∑ªÂä†AIÊèêÁ§∫ËØç"),v=e=>0!==e.user_id;(0,o.sV)(async()=>{await k()});const k=async()=>{l.value=!1;try{const e=await ie();t(e),0===e.code&&r.splice(0,r.length,...e.data)}catch(e){(0,j.df)({title:"ÈîôËØØ",message:"Âä†ËΩΩÊèêÁ§∫ËØçÂàóË°®Â§±Ë¥•",type:"error"})}finally{l.value=!0}},f=()=>{s.value=!1,R(),i.value=!0},b=e=>{v(e)?(s.value=!0,Object.assign(d,e),i.value=!0):ue.nk.warning("Á≥ªÁªüÈªòËÆ§ÊèêÁ§∫ËØç‰∏çÂèØÁºñËæë")},y=async e=>{if(v(e))try{await St.s.confirm(`Á°ÆËÆ§Âà†Èô§ÊèêÁ§∫ËØç "${e.name}" ÂêóÔºü`,"Âà†Èô§Á°ÆËÆ§",{confirmButtonText:"Á°ÆËÆ§",cancelButtonText:"ÂèñÊ∂à",type:"warning"});const a=await Et(e.id);t(a),0===a.code&&((0,j.df)({title:"ÊàêÂäü",message:"ÊèêÁ§∫ËØçÂà†Èô§ÊàêÂäü",type:"success"}),await k())}catch(a){"cancel"!==a&&(0,j.df)({title:"ÈîôËØØ",message:"Âà†Èô§ÊèêÁ§∫ËØçÂ§±Ë¥•",type:"error"})}else ue.nk.warning("Á≥ªÁªüÈªòËÆ§ÊèêÁ§∫ËØç‰∏çÂèØÂà†Èô§")},g=async e=>{try{const a=await Ut(e.id,{is_default:!0});t(a),0===a.code&&((0,j.df)({title:"ÊàêÂäü",message:"ÈªòËÆ§ÊèêÁ§∫ËØçËÆæÁΩÆÊàêÂäü",type:"success"}),await k())}catch(a){(0,j.df)({title:"ÈîôËØØ",message:"ËÆæÁΩÆÈªòËÆ§ÊèêÁ§∫ËØçÂ§±Ë¥•",type:"error"})}},R=()=>{Object.assign(d,{id:null,name:"",description:"",content:"",is_default:!1}),(0,o.dY)(()=>{c.value?.clearValidate()})},_=()=>{i.value=!1,R()},h=async()=>{if(c.value)try{let e;await c.value.validate(),(0,j.df)({title:"Â§ÑÁêÜ‰∏≠",message:(s.value?"Êõ¥Êñ∞":"Ê∑ªÂä†")+"ÊèêÁ§∫ËØç‰∏≠...",type:"info"}),e=s.value?await Ut(d.id,d):await Xt(d),t(e),0===e.code&&((0,j.df)({title:"ÊàêÂäü",message:(s.value?"Êõ¥Êñ∞":"Ê∑ªÂä†")+"ÊèêÁ§∫ËØçÊàêÂäü",type:"success"}),i.value=!1,R(),await k())}catch(e){e.errors?ue.nk.warning("ËØ∑ÂÆåÂñÑË°®Âçï‰ø°ÊÅØ"):(0,j.df)({title:"ÈîôËØØ",message:(s.value?"Êõ¥Êñ∞":"Ê∑ªÂä†")+"ÊèêÁ§∫ËØçÂ§±Ë¥•",type:"error"})}};return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[l.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ua.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ua.bZ),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:f},{default:(0,o.k6)(()=>[(0,o.eW)("Ê∑ªÂä†AIÊèêÁ§∫ËØç")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(Ua.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.Up),{data:r,"empty-text":"ÊöÇÊó†AIÊèêÁ§∫ËØçÈÖçÁΩÆ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÊèêÁ§∫ËØçÂêçÁß∞",prop:"name"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÊèèËø∞",prop:"description"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÊòØÂê¶ÈªòËÆ§"},{default:(0,o.k6)(e=>[e.row.is_default?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Wt.u),{key:0,type:"success"},{default:(0,o.k6)(()=>[(0,o.eW)("ÈªòËÆ§")]),_:1})):((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:1,type:"text",onClick:a=>g(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ËÆæ‰∏∫ÈªòËÆ§")]),_:2},1032,["onClick"]))]),_:1}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ÂàõÂª∫Êó∂Èó¥",prop:"created_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"Êìç‰Ωú"},{default:(0,o.k6)(e=>[v(e.row)?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:0,onClick:a=>b(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ÁºñËæë")]),_:2},1032,["onClick"])):(0,o.Q3)("",!0),v(e.row)?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.S2),{key:1,onClick:a=>y(e.row),type:"danger"},{default:(0,o.k6)(()=>[(0,o.eW)("Âà†Èô§")]),_:2},1032,["onClick"])):(0,o.Q3)("",!0)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)($a.kZ),{modelValue:i.value,"onUpdate:modelValue":a[4]||(a[4]=e=>i.value=e),title:m.value,width:"800px"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",jt,[(0,o.bF)((0,n.R1)(C.S2),{onClick:_},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1}),(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:h},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.US),{model:d,rules:p,ref_key:"promptFormRef",ref:c},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÊèêÁ§∫ËØçÂêçÁß∞",prop:"name"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:d.name,"onUpdate:modelValue":a[0]||(a[0]=e=>d.name=e),placeholder:"ËØ∑ËæìÂÖ•ÊèêÁ§∫ËØçÂêçÁß∞"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÊèêÁ§∫ËØçÊèèËø∞"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:d.description,"onUpdate:modelValue":a[1]||(a[1]=e=>d.description=e),placeholder:"ËØ∑ËæìÂÖ•ÊèêÁ§∫ËØçÊèèËø∞ÔºàÂèØÈÄâÔºâ"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÊèêÁ§∫ËØçÂÜÖÂÆπ",prop:"content"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:d.content,"onUpdate:modelValue":a[2]||(a[2]=e=>d.content=e),type:"textarea",placeholder:"ËØ∑ËæìÂÖ•ÊèêÁ§∫ËØçÂÜÖÂÆπ",rows:8,resize:"vertical"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Pa.dI),{modelValue:d.is_default,"onUpdate:modelValue":a[3]||(a[3]=e=>d.is_default=e)},{default:(0,o.k6)(()=>[(0,o.eW)("ËÆæ‰∏∫ÈªòËÆ§ÊèêÁ§∫ËØç")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])]),_:1}))}};const Pt=(0,m.A)($t,[["__scopeId","data-v-93a92fd2"]]);var Tt=Pt,zt=t(4418),Qt=t(7962),Mt=t(2357),Bt=t(5558),qt=t(3275);async function Dt(e,a,t,l,o,n,r,u,i,s){try{const c=localStorage.getItem("token"),d=localStorage.getItem("server_link"),p=d+"/user/update",m=await A.A.put(p,{username:e,email:a,avatar:t,current_vocabulary_set_id:l,daily_count:o,times_counted_as_known:n,review_frequency_formula:r,llm_service_provider:u,llm_token:i,llm_model:s},{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});return console.log("Êõ¥Êñ∞Áî®Êà∑ÂìçÂ∫î:",m.data),m.data}catch(c){return console.error("Êõ¥Êñ∞Áî®Êà∑Êó∂ÂèëÁîüÈîôËØØ:",c),c.response&&(console.error("ÈîôËØØÂìçÂ∫îÊï∞ÊçÆ:",c.response.data),console.error("ÈîôËØØÁä∂ÊÄÅÁ†Å:",c.response.status)),c.response?c.response.data:{code:1,message:"ÁΩëÁªúÈîôËØØ"}}}const Ot={class:"dialog-footer"};var Zt={__name:"UserSettingView",setup(e){let a=(0,n.Kh)([]),t=(0,n.Kh)({id:0,title:""});const l=e=>{for(let l of a)if(l.id===e){t.id=l.id,t.title=l.title,r.currentVocabularySetID=l.id;break}};let r=(0,n.Kh)({username:"",email:"",avatar:"",currentVocabularySetID:0,dailyCount:0,timesCountedAsKnown:0,reviewFrequencyFormula:""});const i=(0,u.Pj)(),s=(0,n.KR)(!1),c=e=>{null!=e&&2!==e.code||(i.dispatch("logout"),location.reload())};(0,o.sV)(async()=>{s.value=!1;const e=await Fe();c(e),r.username=e.username,r.email=e.email,r.avatar=e.avatar,r.currentVocabularySetID=e.current_vocabulary_set_id,r.dailyCount=e.daily_count,r.timesCountedAsKnown=e.times_counted_as_known,r.reviewFrequencyFormula=e.review_frequency_formula;const l=await Qa(1e8,1);c(l),a=l.data;for(let o of a)if(o.id===r.currentVocabularySetID){t.id=o.id,t.title=o.title;break}s.value=!0});const d=(0,n.KR)(!1),p=()=>{d.value=!0},m=()=>{d.value=!1,location.reload()},v=async()=>{d.value=!1,s.value=!1;const e=await Dt(r.username,r.email,r.avatar,+r.currentVocabularySetID,r.dailyCount,r.timesCountedAsKnown,r.reviewFrequencyFormula);if(e&&0===e.code)c(e),s.value=!0,ue.nk.success("Áî®Êà∑‰ø°ÊÅØÊõ¥Êñ∞ÊàêÂäü"),setTimeout(()=>{location.reload()},1e3);else{d.value=!0,s.value=!0;const a=e?e.message:"Êõ¥Êñ∞Â§±Ë¥•ÔºåËØ∑ÈáçËØï";ue.nk.error(a)}},{isDark:k}=R();return(e,u)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[s.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.Ik),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(zt.S2),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Qt.uD),{span:9},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Mt.zv),{size:120,src:(0,n.R1)(r).avatar},null,8,["src"])]),_:1}),(0,o.bF)((0,n.R1)(Qt.uD),{span:16},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(zt.S2),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Qt.uD),{span:12},{default:(0,o.k6)(()=>[(0,o.Lk)("h2",null,(0,F.v_)((0,n.R1)(r).username),1)]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(zt.S2),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Qt.uD),{span:24},{default:(0,o.k6)(()=>[(0,o.Lk)("p",null,[(0,o.eW)("Email: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).email),1)]),(0,o.Lk)("p",null,[(0,o.eW)("ÂΩìÂâçÊâÄÂ≠¶ËØ≠‰π¶: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(t).title),1)]),(0,o.Lk)("p",null,[(0,o.eW)("ÊØèÊó•Êñ∞ÂçïËØçÊï∞: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).dailyCount),1)]),(0,o.Lk)("p",null,[(0,o.eW)("Â§ç‰π†È¢ëÁéáÂÖ¨Âºè: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).reviewFrequencyFormula),1)]),(0,o.Lk)("p",null,[(0,o.eW)("ÁÇπÂáªÂá†Ê¨°‚ÄúËÆ§ËØÜ‚ÄùÁÆóÂ≠¶‰ºö: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).timesCountedAsKnown),1)]),(0,o.Lk)("p",null,[(0,o.eW)(" ‰∏ªÈ¢ò: "),(0,o.bF)((0,n.R1)(Bt.qi),{modelValue:(0,n.R1)(k),"onUpdate:modelValue":u[0]||(u[0]=e=>(0,n.i9)(k)?k.value=e:null),class:"mt-2",style:{"margin-left":"24px"},"inline-prompt":"","active-icon":(0,n.R1)(B.Il7),"inactive-icon":(0,n.R1)(B.AX$)},null,8,["modelValue","active-icon","inactive-icon"])]),(0,o.bF)((0,n.R1)(C.S2),{onClick:u[1]||(u[1]=e=>p())},{default:(0,o.k6)(()=>[(0,o.eW)("‰øÆÊîπ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)($a.kZ),{modelValue:d.value,"onUpdate:modelValue":u[8]||(u[8]=e=>d.value=e),title:"‰øÆÊîπËÆæÁΩÆ"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Ot,[(0,o.bF)((0,n.R1)(C.S2),{onClick:m},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1}),(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:v},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.US),{model:(0,n.R1)(r)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"Áî®Êà∑Âêç"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:(0,n.R1)(r).username,"onUpdate:modelValue":u[2]||(u[2]=e=>(0,n.R1)(r).username=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÈÇÆÁÆ±"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:(0,n.R1)(r).email,"onUpdate:modelValue":u[3]||(u[3]=e=>(0,n.R1)(r).email=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Â§¥ÂÉè"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:(0,n.R1)(r).avatar,"onUpdate:modelValue":u[4]||(u[4]=e=>(0,n.R1)(r).avatar=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÂΩìÂâçÊâÄÂ≠¶ËØç‰π¶"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(qt.dW),{"split-button":"",type:"primary"},{dropdown:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(qt.Iy),null,{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,n.R1)(a),e=>((0,o.uX)(),(0,o.Wv)((0,n.R1)(qt.c6),{key:e.id,onClick:a=>l(e.id)},{default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)(e.title),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)((0,n.R1)(t).title||"ÈÄâÊã©ËØç‰π¶")+" ",1)]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÊØèÊó•Êñ∞ÂçïËØçÊï∞"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(nt.lq),{modelValue:(0,n.R1)(r).dailyCount,"onUpdate:modelValue":u[5]||(u[5]=e=>(0,n.R1)(r).dailyCount=e),min:1,max:1e3},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"Â§ç‰π†È¢ëÁéáÂÖ¨Âºè"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.WK),{modelValue:(0,n.R1)(r).reviewFrequencyFormula,"onUpdate:modelValue":u[6]||(u[6]=e=>(0,n.R1)(r).reviewFrequencyFormula=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÁÇπÂáªÂá†Ê¨°‚ÄúËÆ§ËØÜ‚ÄùÁÆóÂ≠¶‰ºö"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(nt.lq),{modelValue:(0,n.R1)(r).timesCountedAsKnown,"onUpdate:modelValue":u[7]||(u[7]=e=>(0,n.R1)(r).timesCountedAsKnown=e),min:1,max:1e3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const Ht=Zt;var Yt=Ht;const Jt=[{path:"/setting",name:"setting",redirect:"/setting/vocabulary_set",meta:{requiresAuth:!0},children:[{path:"vocabulary_set",name:"vocabulary_set_setting",component:ot},{path:"vocabulary",name:"vocabulary_setting",component:kt,props:!0},{path:"dictionary",name:"dictionary_setting",component:Ft},{path:"llm",name:"llm_setting",component:It},{path:"aiprompt",name:"aiprompt_setting",component:Tt},{path:"user",name:"user_setting",component:Yt}]}];var Nt=Jt,Gt=t(6810);const el=e=>((0,o.Qi)("data-v-248ce9d6"),e=e(),(0,o.jt)(),e),al={class:"query-container"},tl={class:"search-section"},ll={key:0,class:"results-section"},ol={class:"card-header"},nl={class:"vocabulary-title"},rl={class:"header-actions"},ul={key:0,class:"loading-container"},il=["innerHTML"],sl={key:2,class:"no-meaning"},cl={key:1,class:"welcome-section"},dl=el(()=>(0,o.Lk)("h2",null,"ÂçïËØçÊü•ËØ¢Â∑•ÂÖ∑",-1)),pl=el(()=>(0,o.Lk)("p",null,"Âú®ËæìÂÖ•Ê°Ü‰∏≠ËæìÂÖ•Ë¶ÅÊü•ËØ¢ÁöÑÂçïËØçÔºåÊåâÂõûËΩ¶ÊàñÁÇπÂáªÊêúÁ¥¢ÊåâÈíÆËøõË°åÊü•ËØ¢",-1)),ml=el(()=>(0,o.Lk)("p",{class:"shortcuts"},"Âø´Êç∑ÈîÆËØ¥ÊòéÔºö",-1)),vl=el(()=>(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,[(0,o.Lk)("strong",null,"Enter"),(0,o.eW)(" - ÊêúÁ¥¢ÂçïËØç")]),(0,o.Lk)("li",null,[(0,o.Lk)("strong",null,"S"),(0,o.eW)(" - ÊâìÂºÄËØçÂÖ∏ÊêúÁ¥¢")]),(0,o.Lk)("li",null,[(0,o.Lk)("strong",null,"Êï∞Â≠óÈîÆ 1-9"),(0,o.eW)(" - Âú®ÂØπÂ∫îËØçÂÖ∏‰∏≠ÊêúÁ¥¢")])],-1)),kl={class:"dictionary-list"},fl=["onClick"],bl={key:0,class:"wiktionary-fullscreen-modal"},yl={class:"wiktionary-fullscreen-content"},gl=["src"],Rl={class:"dialog-title"},_l={class:"vocabulary-set-radio-content"},hl={class:"dialog-footer"};var wl={__name:"VocabularyQueryView",setup(e){const a=(0,n.KR)(""),t=(0,n.KR)(""),r=(0,n.KR)(""),u=(0,n.KR)(!1),i=(0,n.KR)(!1),s=(0,n.KR)(!1),c=(0,n.KR)(!1),d=(0,n.KR)(!1),p=(0,n.KR)(!1),m=(0,n.KR)(!1),v=(0,n.KR)(""),k=(0,n.KR)([]),f=(0,n.KR)([]),b=(0,n.KR)(null),y=(0,n.KR)({});(0,o.sV)(async()=>{const e=await Ve();e&&e.data&&(k.value=e.data);const a=await Qa(1e8,1);a&&a.data&&(f.value=a.data)});const g=e=>{if(e.target.classList.contains("audio-btn")){const a=e.target.getAttribute("data-audio");a&&L(a)}},R=async()=>{if(a.value.trim()){t.value=a.value.trim(),u.value=!0,i.value=!0;try{const e=await Ke(t.value);e.success?r.value=Ae(e):r.value="Sorry, the vocabulary was not found. Please check the spelling and try again."}catch(e){console.error("Failed to fetch vocabulary definition:",e),r.value="Search failed. Please check your network connection and try again."}finally{u.value=!1}}},_=e=>{if(!c.value)if("Enter"===e.key)R();else if("s"===e.key||"S"===e.key)i.value&&(s.value=!s.value);else if("0123456789".includes(e.key)){let a=+e.key;if(0===a&&(a=10),a<=k.value.length&&i.value&&s.value){const e=k.value[a-1];window.open(e.prefix+(t.value||"")+(e.suffix||""),"_blank")}}},h=async()=>{if(a.value.trim()&&(b.value=null,y.value={},d.value=!0,f.value.length>0)){const t=a.value.trim();for(const a of f.value)try{const e=await We(t,a.id),l=e&&0===e.code&&e.data.exists;y.value[a.id]=l,l&&!b.value&&(b.value=a.id)}catch(e){console.error(`Ê£ÄÊü•ËØç‰π¶ ${a.title} Â§±Ë¥•:`,e),y.value[a.id]=!1}}},w=()=>!!b.value&&!!y.value[b.value],x=async()=>{if(b.value&&a.value.trim())try{const e=await it(b.value,a.value.trim(),r.value||"ÊöÇÊó†Èáä‰πâ","");if(e&&0===e.code)ue.nk.success("Ê∑ªÂä†ÂçïËØçÊàêÂäü"),d.value=!1;else{const a=e?e.message:"Ê∑ªÂä†Â§±Ë¥•ÔºåËØ∑ÈáçËØï";ue.nk.error(a)}}catch(e){console.error("Ê∑ªÂä†ÂçïËØçÂ§±Ë¥•:",e),ue.nk.error("Ê∑ªÂä†ÂçïËØçÂ§±Ë¥•ÔºåËØ∑ÈáçËØï")}},S=()=>{i.value&&t.value&&(p.value=!p.value)},W=e=>{const a=e.prefix+(t.value||"")+(e.suffix||""),l=e.title.toLowerCase().includes("wiktionary"),o=window.innerWidth<=768;l&&o?(v.value=a,m.value=!0,s.value=!1):window.open(a,"_blank")};window.openWiktionaryFullscreen=e=>{m.value=!0,v.value=e};const L=e=>{try{const a=new Audio(e);a.play().catch(e=>{console.error("Èü≥È¢ëÊí≠ÊîæÂ§±Ë¥•:",e)})}catch(a){console.error("Èü≥È¢ëÂä†ËΩΩÂ§±Ë¥•:",a)}};return(e,c)=>{const L=(0,o.g2)("el-skeleton");return(0,o.uX)(),(0,o.Wv)(K,{onKeydown:_,tabindex:"0"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",al,[(0,o.Lk)("div",tl,[(0,o.bF)((0,n.R1)(M.WK),{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=e=>a.value=e),placeholder:"ËæìÂÖ•Ë¶ÅÊü•ËØ¢ÁöÑÂçïËØç",size:"large",onKeyup:(0,l.jR)(R,["enter"]),class:"search-input"},{append:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{onClick:R,icon:(0,n.R1)(B.vji)},{default:(0,o.k6)(()=>[(0,o.eW)("ÊêúÁ¥¢")]),_:1},8,["icon"])]),_:1},8,["modelValue"])]),i.value?((0,o.uX)(),(0,o.CE)("div",ll,[(0,o.bF)((0,n.R1)(V.Ik),{class:"vocabulary-card"},{header:(0,o.k6)(()=>[(0,o.Lk)("div",ol,[(0,o.Lk)("span",nl,(0,F.v_)(t.value),1),(0,o.Lk)("div",rl,[(0,o.bF)((0,n.R1)($.R7),{content:"‰ΩøÁî®LLMÊêúÁ¥¢ÂçïËØç",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{circle:"",onClick:S},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.wUE))]),_:1})]),_:1})]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"Êî∂ËóèÂçïËØç",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{circle:"",onClick:h,disabled:!a.value.trim(),class:"favorite-btn"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.FEq))]),_:1})]),_:1},8,["disabled"])]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"ÊêúÁ¥¢ËØçÂÖ∏ (Âø´Êç∑ÈîÆ: S)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(C.S2),{circle:"",onClick:c[1]||(c[1]=e=>s.value=!s.value)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.vji))]),_:1})]),_:1})]),_:1})])])]),default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"vocabulary-content",onClick:g},[u.value?((0,o.uX)(),(0,o.CE)("div",ul,[(0,o.bF)(L,{rows:5,animated:""})])):r.value?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"meaning",innerHTML:r.value},null,8,il)):((0,o.uX)(),(0,o.CE)("div",sl,"ËØ•ÂçïËØçÊöÇÊó†Èáä‰πâ"))])]),_:1})])):((0,o.uX)(),(0,o.CE)("div",cl,[(0,o.bF)((0,n.R1)(V.Ik),{class:"welcome-card"},{default:(0,o.k6)(()=>[dl,pl,ml,vl]),_:1})]))]),(0,o.bF)((0,n.R1)(T.pw),{modelValue:s.value,"onUpdate:modelValue":c[2]||(c[2]=e=>s.value=e),title:"ËØçÂÖ∏ÊêúÁ¥¢","with-header":!0},{default:(0,o.k6)(()=>[(0,o.Lk)("div",kl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(k.value,(e,a)=>((0,o.uX)(),(0,o.CE)("p",{key:e.id,class:"dictionary-item"},[(0,o.Lk)("a",{href:"#",onClick:(0,l.D$)(a=>W(e),["prevent"]),class:(0,F.C4)({"wiktionary-link":e.title.toLowerCase().includes("wiktionary")})},[(0,o.Lk)("strong",null,(0,F.v_)(a+1)+". "+(0,F.v_)(e.title),1)],10,fl),(0,o.bF)((0,n.R1)(z.fR))]))),128))])]),_:1},8,["modelValue"]),m.value?((0,o.uX)(),(0,o.CE)("div",bl,[(0,o.Lk)("div",yl,[(0,o.Lk)("button",{class:"close-fullscreen-btn",onClick:c[3]||(c[3]=e=>m.value=!1)},[(0,o.bF)((0,n.R1)(P.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.bm))]),_:1})]),(0,o.Lk)("iframe",{src:v.value,class:"wiktionary-fullscreen-iframe",loading:"lazy"},null,8,gl)])])):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)($a.kZ),{modelValue:d.value,"onUpdate:modelValue":c[6]||(c[6]=e=>d.value=e),title:"Êî∂ËóèÂçïËØç",width:"500px"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",hl,[(0,o.bF)((0,n.R1)(C.S2),{onClick:c[5]||(c[5]=e=>d.value=!1)},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1}),(0,o.bF)((0,n.R1)(C.S2),{type:"primary",onClick:x,disabled:!b.value,class:(0,F.C4)({"warning-btn":b.value&&w()})},{default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)(b.value&&w()?"Êó†ÈúÄÈáçÂ§çÊ∑ªÂä†":"Á°ÆËÆ§Ê∑ªÂä†"),1)]),_:1},8,["disabled","class"])])]),default:(0,o.k6)(()=>[(0,o.Lk)("div",Rl,[(0,o.eW)('Â∞ÜÂçïËØç "'),(0,o.Lk)("strong",null,(0,F.v_)(a.value),1),(0,o.eW)('" Ê∑ªÂä†Âà∞ËØç‰π¶')]),(0,o.bF)((0,n.R1)(Ra.US),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ra.xE),{label:"ÈÄâÊã©ËØç‰π¶"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Gt.MQ),{modelValue:b.value,"onUpdate:modelValue":c[4]||(c[4]=e=>b.value=e),class:"vocabulary-set-radio-group"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(f.value,e=>((0,o.uX)(),(0,o.Wv)((0,n.R1)(Gt.ll),{key:e.id,label:e.id,class:"vocabulary-set-radio"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",_l,[(0,o.Lk)("span",null,(0,F.v_)(e.title),1),y.value[e.id]?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Wt.u),{key:0,type:"success",size:"small",class:"exists-tag"},{default:(0,o.k6)(()=>[(0,o.eW)(" Â∑≤Â≠òÂú® ")]),_:1})):(0,o.Q3)("",!0)])]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),p.value?((0,o.uX)(),(0,o.Wv)(we,{key:1,"current-vocabulary":t.value,onClose:c[7]||(c[7]=e=>p.value=!1)},null,8,["current-vocabulary"])):(0,o.Q3)("",!0)]),_:1})}}};const Fl=(0,m.A)(wl,[["__scopeId","data-v-248ce9d6"]]);var Vl=Fl;const Cl=e=>((0,o.Qi)("data-v-3a93085f"),e=e(),(0,o.jt)(),e),xl={id:"app"},Sl={class:"container"},Wl=Cl(()=>(0,o.Lk)("h1",null,"ÂΩïÈü≥Êú∫",-1)),Ll={class:"controls"},Kl=["src"];function Al(e,a,t,n,r,u){return(0,o.uX)(),(0,o.CE)("div",xl,[(0,o.Lk)("div",Sl,[Wl,(0,o.Lk)("div",Ll,[(0,o.Lk)("button",{class:"btn",onClick:a[0]||(a[0]=(...e)=>u.startRecording&&u.startRecording(...e))},"ÂºÄÂßãÂΩïÈü≥"),(0,o.Lk)("button",{class:"btn",onClick:a[1]||(a[1]=(...e)=>u.stopRecording&&u.stopRecording(...e))},"ÂÅúÊ≠¢ÂΩïÈü≥"),(0,o.bo)((0,o.Lk)("input",{class:"input",type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>r.duration=e),placeholder:"Ëá™Âä®ÂÅúÊ≠¢Êó∂Èó¥ÔºàÁßíÔºâ"},null,512),[[l.Jo,r.duration]])]),r.countdown>0?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,class:"input","onUpdate:modelValue":a[3]||(a[3]=e=>r.countdown=e),placeholder:"Ââ©‰ΩôÊó∂Èó¥",readonly:""},null,512)),[[l.Jo,r.countdown]]):(0,o.Q3)("",!0),r.audioUrl?((0,o.uX)(),(0,o.CE)("audio",{key:1,src:r.audioUrl,controls:""},null,8,Kl)):(0,o.Q3)("",!0)])])}t(4603),t(7566),t(8721);var Il={data(){return{mediaRecorder:null,audioChunks:[],audioUrl:null,countdown:0,countdownInterval:null,duration:45}},methods:{async startRecording(){try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(e),this.audioChunks=[],this.mediaRecorder.ondataavailable=e=>{this.audioChunks.push(e.data)},this.mediaRecorder.start(),this.startCountdown(this.duration)}catch(e){console.error("Error accessing audio",e)}},stopRecording(){this.mediaRecorder.stop(),this.mediaRecorder.onstop=()=>{const e=new Blob(this.audioChunks);this.audioUrl=URL.createObjectURL(e)},this.stopCountdown()},startCountdown(e){this.countdown=e,this.countdownInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&this.stopRecording()},1e3)},stopCountdown(){clearInterval(this.countdownInterval),this.countdown=0}}};const El=(0,m.A)(Il,[["render",Al],["__scopeId","data-v-3a93085f"]]);var Ul=El;const Xl=[{path:"/tool",name:"tool",children:[{path:"query",name:"query",component:Vl},{path:"record",name:"record",component:Ul}]}];var jl=Xl;const $l=[{path:"/",name:"home",redirect:"/vocabulary"},{path:"/404",name:"404",redirect:"/vocabulary"},{path:"/:pathMatch(.*)*",redirect:"/404"}],Pl=(0,i.aE)({history:(0,i.Bt)(),routes:[...ga,...Ia,...Nt,...jl,...$l]});var Tl=Pl,zl={state:{isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token")||""},mutations:{setServerLink(e,a){localStorage.setItem("server_link",a)},setAuth(e,a){e.isAuthenticated=a},setToken(e,a){e.token=a,localStorage.setItem("token",a)},logout(e){e.isAuthenticated=!1,e.token=null,localStorage.removeItem("vocabulary_set_id"),localStorage.removeItem("server_link"),localStorage.removeItem("token")}},actions:{async register(e,{serverLink:a,username:t,email:l,avatar:o,password:n,confirm_password:r}){try{const e=await A.A.post(a+"/user/register",{username:t,email:l,avatar:o,password:n,confirm_password:r}),u=e.data;return 0===u.code||u.message}catch(u){return"ÂèëÁîü‰∫ÜÊú™Áü•ÈîôËØØ, Ê≥®ÂÜåÂ§±Ë¥•"}},async login({commit:e},{serverLink:a,username:t,password:l}){try{const o=await A.A.post(a+"/user/login",{username:t,password:l}),n=o.data;return 0===n.code?(e("setServerLink",a),e("setAuth",!0),e("setToken",n.data.token),!0):n.message}catch(o){return"ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÈìæÊé•ÊòØÂê¶Ê≠£Á°ÆÔºåÂêéÂè∞ÊúçÂä°ÊòØÂê¶ÂºÄÂêØ"}},logout({commit:e}){e("logout")}},getters:{isAuthenticated:e=>e.isAuthenticated}};const Ql=(0,u.y$)({modules:{user:zl}});var Ml=Ql;const Bl=(0,l.Ef)(w);Bl.use(Ml),Tl.beforeEach((e,a,t)=>{const l=e.meta.requiresAuth;l&&!Ml.state.user.isAuthenticated?t("/login"):t()}),Bl.use(Tl),Bl.mount("#app")}},a={};function t(l){var o=a[l];if(void 0!==o)return o.exports;var n=a[l]={id:l,loaded:!1,exports:{}};return e[l].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}t.m=e,function(){var e=[];t.O=function(a,l,o,n){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],o=e[c][1],n=e[c][2];for(var u=!0,i=0;i<l.length;i++)(!1&n||r>=n)&&Object.keys(t.O).every(function(e){return t.O[e](l[i])})?l.splice(i--,1):(u=!1,n<r&&(r=n));if(u){e.splice(c--,1);var s=o();void 0!==s&&(a=s)}}return a}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[l,o,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var o,n,r=l[0],u=l[1],i=l[2],s=0;if(r.some(function(a){return 0!==e[a]})){for(o in u)t.o(u,o)&&(t.m[o]=u[o]);if(i)var c=i(t)}for(a&&a(l);s<r.length;s++)n=r[s],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},l=self["webpackChunkspeak_sphere"]=self["webpackChunkspeak_sphere"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],function(){return t(9516)});l=t.O(l)})();
//# sourceMappingURL=app.43b90cfd.js.map