(function(){"use strict";var e={4952:function(e,a,t){var l=t(5130),o=t(6768),n=(t(1397),t(1862),t(144)),r=(t(4188),t(4975)),i=(t(4114),t(782)),u=t(1387),s={__name:"LoginAndLogoutMenuItem",setup(e){const a=(0,i.Pj)(),t=(0,u.rd)(),l=async()=>{await t.push({name:"login"})},s=async()=>{await a.dispatch("logout"),await t.push({name:"login"})};return(e,t)=>(0,n.R1)(a).state.user.isAuthenticated?((0,o.uX)(),(0,o.Wv)((0,n.R1)(r.ct),{key:0,index:"4",onClick:s},{default:(0,o.k6)(()=>[(0,o.eW)("é€€å‡ºç™»å½•")]),_:1})):((0,o.uX)(),(0,o.Wv)((0,n.R1)(r.ct),{key:1,index:"4",onClick:l},{default:(0,o.k6)(()=>[(0,o.eW)("ç™»å½•")]),_:1}))}};const d=s;var c=d,p={__name:"NavBar",setup(e){const a=(0,n.KR)("4"),t=(0,i.Pj)();t.state.user.isAuthenticated&&(a.value="1");const l=()=>{window.open("https://www.zhihu.com/question/309418216/answer/1965169328514109501","_blank")},u=()=>{window.open("https://stackedit.io/app#","_blank")};return(e,t)=>{const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.Wv)((0,n.R1)(r.lj),{"default-active":a.value,class:"el-menu-demo",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},{default:(0,o.k6)(()=>[(0,o.bF)(i,{to:{name:"word"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"1"},{title:(0,o.k6)(()=>[(0,o.eW)("å•è¯")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.$b),{index:"2"},{title:(0,o.k6)(()=>[(0,o.eW)("è®¾ç½®")]),default:(0,o.k6)(()=>[(0,o.bF)(i,{to:{name:"book_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-1"},{default:(0,o.k6)(()=>[(0,o.eW)("è¯ä¹¦è®¾ç½®")]),_:1})]),_:1}),(0,o.bF)(i,{to:{name:"dictionary_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-2"},{default:(0,o.k6)(()=>[(0,o.eW)("è¯å…¸è®¾ç½®")]),_:1})]),_:1}),(0,o.bF)(i,{to:{name:"llm_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-3"},{default:(0,o.k6)(()=>[(0,o.eW)("LLMæœåŠ¡è®¾ç½®")]),_:1})]),_:1}),(0,o.bF)(i,{to:{name:"aiprompt_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-4"},{default:(0,o.k6)(()=>[(0,o.eW)("AIæç¤ºè¯è®¾ç½®")]),_:1})]),_:1}),(0,o.bF)(i,{to:{name:"user_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-5"},{default:(0,o.k6)(()=>[(0,o.eW)("ç”¨æˆ·è®¾ç½®")]),_:1})]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.$b),{index:"3"},{title:(0,o.k6)(()=>[(0,o.eW)("å·¥å…·")]),default:(0,o.k6)(()=>[(0,o.bF)(i,{to:{name:"record"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"3-1"},{default:(0,o.k6)(()=>[(0,o.eW)(" å£è¯­å½•éŸ³ ")]),_:1})]),_:1}),(0,o.bF)(i,{to:{name:"query"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"3-2"},{title:(0,o.k6)(()=>[(0,o.eW)("æŸ¥è¯¢å•è¯")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.ct),{index:"3-3",onClick:u},{default:(0,o.k6)(()=>[(0,o.eW)(" åœ¨çº¿Markdownæ¸²æŸ“ ")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.ct),{index:"4",onClick:l},{default:(0,o.k6)(()=>[(0,o.eW)(" å¸®åŠ© ")]),_:1}),(0,o.bF)(c)]),_:1},8,["default-active"])}}},m=t(1241);const k=(0,m.A)(p,[["__scopeId","data-v-d940d332"]]);var v=k,f=t(7383),b=t(153);const g=()=>{const e=(0,f.C6J)({storageKey:"speak-sphere-theme",valueDark:"dark",valueLight:"light"}),a=(0,b.eY)(e),t=()=>{const a=localStorage.getItem("speak-sphere-theme");a||(e.value=window.matchMedia("(prefers-color-scheme: dark)").matches)};return{isDark:e,toggleDark:a,initTheme:t}};let y=null;const R=()=>(y||(y=g(),y.initTheme()),y);var h={__name:"App",setup(e){return R(),(e,a)=>{const t=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(v),(0,o.bF)(t)],64)}}};const _=h;var w=_,F=t(4232),C=t(683),V=t(1702);const x={class:"content-area"};function W(e,a){return(0,o.uX)(),(0,o.CE)("div",x,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const S={},L=(0,m.A)(S,[["render",W],["__scopeId","data-v-6a9f74f6"]]);var K=L,A=t(4373);const I={class:"buttons"};var E={__name:"WordModuleView",setup(e){const a=(0,n.KR)(""),t=(0,n.KR)(!1);(0,o.sV)(async()=>{t.value=!1;const e="https://api.unsplash.com/photos/random?client_id=dow523p27APOI8KgcFO0XXCZ2GUv_E1Xhf6iJ0z4XDA";let l=localStorage.getItem("homepage_image_url");null==l&&await A.A.get(e).then(e=>{l=e.data.urls.regular,localStorage.setItem("homepage_image_url",l)}).catch(e=>{console.error("Error fetching image:",e)}),a.value=l,t.value=!0});const l=(0,u.rd)(),r=()=>{l.push("/review")},i=()=>{l.push("/learn")};return(e,l)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[t.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.Ik),{key:0,class:"card"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"image-wrapper",style:(0,F.Tr)({backgroundImage:"url("+a.value+")"})},[(0,o.Lk)("div",I,[(0,o.bF)((0,n.R1)(V.S2),{text:"",class:"button",onClick:r},{default:(0,o.k6)(()=>[(0,o.eW)("Review")]),_:1}),(0,o.bF)((0,n.R1)(V.S2),{text:"",class:"button",onClick:i},{default:(0,o.k6)(()=>[(0,o.eW)("Learn")]),_:1})])],4)]),_:1})):(0,o.Q3)("",!0)]),_:1}))}};const U=(0,m.A)(E,[["__scopeId","data-v-0c9500c2"]]);var X=U,$=t(5812),j=t(813),P=t(9385),T=t(8165),z=t(2462),Q=t(1040),M=t(7477);const B=e=>((0,o.Qi)("data-v-d1160756"),e=e(),(0,o.jt)(),e),q={class:"drawer-header"},O=B(()=>(0,o.Lk)("h3",null,"LLM å•è¯æŸ¥è¯¢",-1)),D={class:"drawer-content"},Z={key:0,class:"config-status"},H={key:1,class:"llm-content"},Y={class:"prompt-section"},J={class:"section-header"},N=B(()=>(0,o.Lk)("h4",null,"AI æç¤ºè¯",-1)),G={class:"prompt-actions"},ee=B(()=>(0,o.Lk)("div",{class:"prompt-tips"},[(0,o.Lk)("small",null,[(0,o.eW)("æç¤ºï¼šç‚¹å‡»æ–‡æœ¬æ¡†å¯ä»¥ç¼–è¾‘æç¤ºè¯å†…å®¹ï¼Œä½¿ç”¨ "),(0,o.Lk)("code",null,"#word#"),(0,o.eW)(" ä½œä¸ºå½“å‰å•è¯çš„å ä½ç¬¦")])],-1)),ae={class:"query-section"},te={key:0,class:"response-section"},le=B(()=>(0,o.Lk)("h4",null,"LLM å›å¤",-1)),oe=["innerHTML"];function ne(e,a,t,n,r,i){const u=(0,o.g2)("Close"),s=(0,o.g2)("el-icon"),d=(0,o.g2)("el-button"),c=(0,o.g2)("el-alert");return r.drawerVisible?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"custom-drawer-overlay",onClick:a[3]||(a[3]=(...e)=>i.closePanel&&i.closePanel(...e))},[(0,o.Lk)("div",{class:"custom-drawer",onClick:a[2]||(a[2]=(0,l.D$)(()=>{},["stop"]))},[(0,o.Lk)("div",q,[O,(0,o.bF)(d,{type:"text",onClick:i.closePanel,class:"close-btn"},{default:(0,o.k6)(()=>[(0,o.bF)(s,null,{default:(0,o.k6)(()=>[(0,o.bF)(u)]),_:1})]),_:1},8,["onClick"])]),(0,o.Lk)("div",D,["ready"!==r.configStatus?((0,o.uX)(),(0,o.CE)("div",Z,["loading"===r.configStatus?((0,o.uX)(),(0,o.Wv)(c,{key:0,title:"æ­£åœ¨åŠ è½½é…ç½®...",type:"info","show-icon":""})):(0,o.Q3)("",!0),"no_word"===r.configStatus?((0,o.uX)(),(0,o.Wv)(c,{key:1,title:"è¯·å…ˆé€‰æ‹©è¦æŸ¥è¯¢çš„å•è¯",type:"warning","show-icon":""})):(0,o.Q3)("",!0),"no_prompt"===r.configStatus?((0,o.uX)(),(0,o.Wv)(c,{key:2,title:"è¯·å…ˆè®¾ç½®é»˜è®¤AIæç¤ºè¯",type:"warning","show-icon":""})):(0,o.Q3)("",!0),"no_llm"===r.configStatus?((0,o.uX)(),(0,o.Wv)(c,{key:3,title:"è¯·å…ˆè®¾ç½®é»˜è®¤LLMæœåŠ¡",type:"warning","show-icon":""})):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),"ready"===r.configStatus?((0,o.uX)(),(0,o.CE)("div",H,[(0,o.Lk)("div",Y,[(0,o.Lk)("div",J,[N,(0,o.Lk)("div",G,[(0,o.bF)(d,{class:"test-button-copy",size:"small",onClick:i.copyPrompt,style:{"background-color":"#409eff",color:"white",border:"2px solid #409eff",padding:"8px 16px","border-radius":"4px"}},{default:(0,o.k6)(()=>[(0,o.eW)("å¤åˆ¶")]),_:1},8,["onClick"]),(0,o.bF)(d,{class:"test-button-reset",size:"small",onClick:i.resetPrompt,style:{"background-color":"#909399",color:"white",border:"2px solid #909399",padding:"8px 16px","border-radius":"4px"}},{default:(0,o.k6)(()=>[(0,o.eW)("é‡ç½®")]),_:1},8,["onClick"])])]),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.editablePrompt=e),rows:6,placeholder:"æ­£åœ¨åŠ è½½æç¤ºè¯...",class:"prompt-textarea-native",onInput:a[1]||(a[1]=(...e)=>i.onPromptChange&&i.onPromptChange(...e))},null,544),[[l.Jo,r.editablePrompt]]),ee]),(0,o.Lk)("div",ae,[(0,o.bF)(d,{class:"test-button-query",onClick:i.queryLLM,loading:r.isQuerying,disabled:r.isQuerying,style:{"background-color":"#67c23a",color:"white",border:"2px solid #67c23a",padding:"10px 20px","border-radius":"4px","min-width":"100px"}},{default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)(r.isQuerying?"æŸ¥è¯¢ä¸­...":"å¼€å§‹æŸ¥è¯¢"),1)]),_:1},8,["onClick","loading","disabled"]),(0,o.bF)(d,{onClick:i.closePanel,style:{"background-color":"#909399",color:"white",border:"2px solid #909399",padding:"10px 20px","border-radius":"4px","min-width":"100px"}},{default:(0,o.k6)(()=>[(0,o.eW)(" å…³é—­ ")]),_:1},8,["onClick"]),i.hasResponse?((0,o.uX)(),(0,o.Wv)(d,{key:0,onClick:i.clearResponse,style:{"background-color":"#f56c6c",color:"white",border:"2px solid #f56c6c",padding:"10px 20px","border-radius":"4px"}},{default:(0,o.k6)(()=>[(0,o.eW)("æ¸…é™¤å›å¤")]),_:1},8,["onClick"])):(0,o.Q3)("",!0)]),i.hasResponse||r.isQuerying?((0,o.uX)(),(0,o.CE)("div",te,[le,(0,o.Lk)("div",{ref:"responseContentRef",class:"response-content",innerHTML:i.renderedResponse},null,8,oe)])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)])])])):(0,o.Q3)("",!0)}t(8992),t(4520);var re=t(167);const ie=async()=>{try{const e=localStorage.getItem("token"),a=localStorage.getItem("server_link"),t=a+"/aiprompt/list",l=await A.A.get(t,{headers:{Authorization:`Bearer ${e}`}});return l.data}catch(e){return console.error("æŸ¥è¯¢AIæç¤ºè¯å‡ºé”™:",e),{code:1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}},ue=async()=>{try{const e=localStorage.getItem("token"),a=localStorage.getItem("server_link"),t=a+"/aiprompt/default",l=await A.A.get(t,{headers:{Authorization:`Bearer ${e}`}});return l.data}catch(e){return console.error("æŸ¥è¯¢é»˜è®¤AIæç¤ºè¯å‡ºé”™:",e),{code:1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}},se=async()=>{try{const e=localStorage.getItem("token"),a=localStorage.getItem("server_link"),t=a+"/llm/list",l=await A.A.get(t,{headers:{Authorization:`Bearer ${e}`}});return l.data}catch(e){return console.error("æŸ¥è¯¢LLMæœåŠ¡å‡ºé”™:",e),{code:1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}},de=async()=>{try{const e=localStorage.getItem("token"),a=localStorage.getItem("server_link"),t=a+"/llm/default",l=await A.A.get(t,{headers:{Authorization:`Bearer ${e}`}});return l.data}catch(e){return console.error("æŸ¥è¯¢é»˜è®¤LLMæœåŠ¡å‡ºé”™:",e),{code:1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}};var ce=t(642),pe=t(6697),me=t(2464),ke=t(9782),ve=t(539),fe=t(9084),be=t(9982),ge=t(5686),ye=t.n(ge),Re={name:"LLMQueryPanel",components:{Close:M.bm},props:{currentWord:{type:String,default:""}},data(){const e=new ce.A({html:!0,linkify:!0,typographer:!0}).use(pe.A).use(me.A).use(ke.A).use(ve.A).use(fe.A).use(be.A).use(ye());return{drawerVisible:!0,configStatus:"loading",aiPrompt:null,llmConfig:null,isQuerying:!1,responseText:"",controller:null,md:e,editablePrompt:"",originalPrompt:""}},computed:{hasResponse(){return this.responseText.length>0},renderedResponse(){return this.md&&this.responseText?this.md.render(this.responseText):""}},methods:{closePanel(){this.drawerVisible=!1,this.$emit("close")},onPromptChange(e){console.log("æç¤ºè¯å·²æ›´æ–°:",e)},copyPrompt(){try{navigator.clipboard.writeText(this.editablePrompt),re.nk.success("æç¤ºè¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch(e){console.error("å¤åˆ¶å¤±è´¥:",e),re.nk.error("å¤åˆ¶å¤±è´¥")}},resetPrompt(){this.originalPrompt&&(this.editablePrompt=this.originalPrompt.replace(/#word#/g,this.currentWord),re.nk.success("æç¤ºè¯å·²é‡ç½®ä¸ºé»˜è®¤"))},async loadConfigurations(){if(this.currentWord){this.configStatus="loading";try{const e=await ue();if(0!==e.code||!e.data)return void(this.configStatus="no_prompt");this.aiPrompt=e.data,this.originalPrompt=this.aiPrompt.content||"",this.editablePrompt=this.originalPrompt.replace(/#word#/g,this.currentWord),console.log("æç¤ºè¯å¤„ç†:",{original:this.originalPrompt,currentWord:this.currentWord,editable:this.editablePrompt});const a=await de();if(0!==a.code||!a.data)return void(this.configStatus="no_llm");this.llmConfig=a.data,this.configStatus="ready",console.log("é…ç½®åŠ è½½å®Œæˆï¼ŒeditablePrompt:",this.editablePrompt)}catch(e){console.error("åŠ è½½é…ç½®å¤±è´¥:",e),this.configStatus="no_prompt"}}else this.configStatus="no_word"},async queryLLM(){if(this.aiPrompt&&this.llmConfig)if(this.currentWord){this.isQuerying=!0,this.responseText="";try{this.controller=new AbortController;let a=this.llmConfig.endpoint;if(!a)throw new Error("LLMæœåŠ¡é…ç½®ä¸­çš„endpointä¸ºç©º");a.startsWith("http://")||a.startsWith("https://")||(a="https://"+a);let t=a;t.includes("/chat/completions")||(t.endsWith("/v1")||(t=t.replace(/\/+$/,"")+"/v1"),t+="/chat/completions");const l=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.llmConfig.api_key}`},body:JSON.stringify({model:this.llmConfig.model,messages:[{role:"user",content:this.editablePrompt}],stream:!0,max_tokens:1e3,temperature:.7}),signal:this.controller.signal});if(!l.ok){const e=await l.text();throw new Error(`HTTP ${l.status}: ${e}`)}const o=l.body.getReader(),n=new TextDecoder;let r=!0;while(r){const{done:a,value:t}=await o.read();if(a){r=!1;break}const l=n.decode(t,{stream:!0}),i=l.split("\n").filter(e=>""!==e.trim());for(const o of i)if(o.startsWith("data: ")){const a=o.slice(6);if("[DONE]"===a){r=!1;break}try{const e=JSON.parse(a),t=e.choices[0]?.delta?.content;t&&(this.responseText+=t,this.$nextTick(()=>{const e=this.$refs.responseContentRef;e&&(e.scrollTop=e.scrollHeight)}))}catch(e){console.warn("è§£ææµæ•°æ®å¤±è´¥:",e,"æ•°æ®:",a)}}}}catch(a){if("AbortError"===a.name)re.nk.info("æŸ¥è¯¢å·²å–æ¶ˆ");else{console.error("æŸ¥è¯¢å¤±è´¥:",a);let e="æŸ¥è¯¢å¤±è´¥";e=a.message.includes("Failed to fetch")?"ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥LLMæœåŠ¡åœ°å€æ˜¯å¦æ­£ç¡®":a.message.includes("401")?"APIå¯†é’¥æ— æ•ˆï¼Œè¯·æ£€æŸ¥LLMæœåŠ¡é…ç½®":a.message.includes("404")?"APIç«¯ç‚¹æœªæ‰¾åˆ°ï¼Œè¯·æ£€æŸ¥LLMæœåŠ¡åœ°å€":`æŸ¥è¯¢å¤±è´¥: ${a.message}`,re.nk.error(e)}}finally{this.isQuerying=!1,this.controller=null}}else re.nk.error("è¯·å…ˆé€‰æ‹©è¦æŸ¥è¯¢çš„å•è¯");else re.nk.error("é…ç½®ä¿¡æ¯ä¸å®Œæ•´")},clearResponse(){this.responseText=""}},watch:{currentWord:{immediate:!0,handler(e){console.log("å½“å‰å•è¯å˜åŒ–:",e),e&&this.loadConfigurations()}}}};const he=(0,m.A)(Re,[["render",ne],["__scopeId","data-v-d1160756"]]);var _e=he;async function we(){try{const e=localStorage.getItem("server_link"),a=localStorage.getItem("token"),t=e+"/user/profile",l=await A.A.get(t,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return console.log(l.data.data),l.data.data}catch(e){console.error("Error fetching data from backend:",e)}}async function Fe(){try{const e=localStorage.getItem("server_link"),a=localStorage.getItem("token"),t=await A.A.get(e+"/dictionary/list",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return t.data}catch(e){console.error("Error fetching data from backend:",e)}}async function Ce(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=await A.A.get(a+"/entry/"+e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return l.data}catch(a){console.error("Error fetching data from backend:",a)}}async function Ve(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=await A.A.get(a+"/entry/count/"+e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return l.data}catch(a){console.error("Error fetching data from backend:",a)}}async function xe(e,a,t){try{const l=localStorage.getItem("server_link"),o=localStorage.getItem("token"),n=await A.A.get(l+"/entry/list?book_id="+e+"&pageSize="+a+"&currentPage="+t,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return n.data}catch(l){console.error("Error fetching data from backend:",l)}}async function We(e,a){try{const t=localStorage.getItem("server_link"),l=localStorage.getItem("token"),o=await A.A.get(t+"/entry/check?word="+encodeURIComponent(e)+"&book_id="+a,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});return o.data}catch(t){return console.error("Error fetching data from backend:",t),{code:1,message:"æŸ¥è¯¢å¤±è´¥"}}}t(2577),t(3949);function Se(e){if(!e)return"";const a=e.toLowerCase();let t=a.lastIndexOf("/"),l=a.substring(t);return l.includes("uk")?"UK":l.includes("us")?"US":l.includes("au")?"AU":l.includes("ca")?"CA":""}async function Le(e){try{const a=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${encodeURIComponent(e)}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const t=await a.json();if(!t||!Array.isArray(t)||0===t.length||!t[0].word)throw new Error("Empty or invalid data returned from dictionary API");return{success:!0,data:t,source:"dictionaryapi"}}catch(a){return console.error("Error fetching word definition from dictionaryapi.dev:",a),{success:!0,data:null,source:"wiktionary",wiktionaryUrl:`https://en.wiktionary.org/wiki/${encodeURIComponent(e)}`}}}function Ke(e){if("wiktionary"===e.source){const a=window.innerWidth<=768;return a?`\n        <div class="wiktionary-mobile-notice">\n          <div class="wiktionary-mobile-content">\n            <div class="notice-title">ä½¿ç”¨ Wiktionary æŸ¥è¯¢</div>\n            <div class="notice-message">å½“å‰ä½¿ç”¨ Wiktionary ä½œä¸ºå¤‡é€‰è¯å…¸æº</div>\n            <div class="action-buttons">\n              <button class="open-wiktionary-btn" onclick="openWiktionaryFullscreen('${e.wiktionaryUrl}')">\n                å…¨å±æ‰“å¼€ Wiktionary\n              </button>\n              <button class="open-new-tab-btn" onclick="window.open('${e.wiktionaryUrl}', '_blank')">\n                æ–°æ ‡ç­¾é¡µæ‰“å¼€\n              </button>\n            </div>\n          </div>\n        </div>\n        <style>\n          .wiktionary-mobile-notice {\n            background: var(--el-bg-color);\n            border: 1px solid var(--el-border-color);\n            border-radius: 8px;\n            padding: 20px;\n            margin: 10px 0;\n          }\n          .wiktionary-mobile-content {\n            display: flex;\n            flex-direction: column;\n            gap: 15px;\n          }\n          .notice-title {\n            font-size: 18px;\n            font-weight: bold;\n            color: var(--el-text-color-primary);\n          }\n          .notice-message {\n            color: var(--el-text-color-regular);\n          }\n          .action-buttons {\n            display: flex;\n            gap: 10px;\n            flex-wrap: wrap;\n          }\n          .open-wiktionary-btn, .open-new-tab-btn {\n            padding: 10px 15px;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            font-size: 14px;\n            transition: all 0.3s ease;\n          }\n          .open-wiktionary-btn {\n            background: var(--el-color-primary);\n            color: white;\n          }\n          .open-wiktionary-btn:hover {\n            background: var(--el-color-primary-light-3);\n          }\n          .open-new-tab-btn {\n            background: var(--el-fill-color-light);\n            color: var(--el-text-color-primary);\n            border: 1px solid var(--el-border-color);\n          }\n          .open-new-tab-btn:hover {\n            background: var(--el-fill-color);\n          }\n        </style>\n      `:`\n        <div class="wiktionary-container">\n          <div class="wiktionary-notice">\n            å½“å‰ä½¿ç”¨ Wiktionary ä½œä¸ºå¤‡é€‰è¯å…¸æº\n          </div>\n          <div class="wiktionary-loading" id="wiktionary-loading-${Date.now()}">\n            <div class="loading-spinner"></div>\n            <span>æ­£åœ¨åŠ è½½ Wiktionary é¡µé¢...</span>\n          </div>\n          <iframe \n            src="${e.wiktionaryUrl}" \n            class="wiktionary-iframe"\n            title="Wiktionary - ${e.wiktionaryUrl.split("/").pop()}"\n            sandbox="allow-same-origin allow-scripts allow-popups allow-forms"\n            referrerpolicy="no-referrer"\n            onload="document.getElementById('wiktionary-loading-${Date.now()}').style.display='none'; this.style.display='block'"\n            style="display:none"\n          ></iframe>\n        </div>\n      `}const a=e.data;if(!a||!Array.isArray(a)||0===a.length)return'<div class="no-meaning">No definition found</div>';const t=a[0];let l="";if(t.word&&(l+=`<div class="word-title">${t.word}</div>`),t.phonetics&&Array.isArray(t.phonetics)){const e=t.phonetics.find(e=>e.text)?.text;if(e){l+=`<div class="phonetic">Phonetic: ${e}`;const a=t.phonetics.filter(e=>e.audio&&""!==e.audio.trim());a.length>0&&(l+=' <span class="audio-buttons">',a.forEach((e,a)=>{const t=e.audio;let o=Se(t);o||(o=`Audio ${a+1}`),l+=`<button class="audio-btn" data-audio="${t}" title="Play ${o} pronunciation">ğŸ”Š${o}</button>`}),l+="</span>"),l+="</div>"}}return t.meanings&&Array.isArray(t.meanings)&&(l+='<div class="meanings-container">',t.meanings.forEach((e,a)=>{e.partOfSpeech&&(l+=`<div class="part-of-speech">ã€${e.partOfSpeech}ã€‘</div>`),e.definitions&&Array.isArray(e.definitions)&&(l+='<div class="definitions-list">',e.definitions.forEach((e,a)=>{e.definition&&(l+=`<div class="definition-item">\n              <span class="definition-number">${a+1}.</span>\n              <span class="definition-text">${e.definition}</span>`,e.example&&(l+=`<div class="example">Example: <em>${e.example}</em></div>`),e.synonyms&&e.synonyms.length>0&&(l+=`<div class="synonyms">Synonyms: ${e.synonyms.join(", ")}</div>`),l+="</div>")}),l+="</div>"),e.synonyms&&e.synonyms.length>0&&(l+=`<div class="meaning-synonyms">[Synonyms] ${e.synonyms.join(", ")}</div>`),e.antonyms&&e.antonyms.length>0&&(l+=`<div class="meaning-antonyms">[Antonyms] ${e.antonyms.join(", ")}</div>`),a<t.meanings.length-1&&(l+='<div class="meaning-separator"></div>')}),l+="</div>"),l||'<div class="no-meaning">No definition found</div>'}async function Ae(e,a,t,l,o,n,r,i,u){try{const s=localStorage.getItem("token"),d=localStorage.getItem("server_link"),c=d+"/entry/update";console.log(e,a,t,l,o,i,u);const p=await A.A.put(c,{id:e,word:a,meaning:t,book_id:l,note:o,unwanted:n,study_count:r,date_to_review:i,created_at:u},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});return p.data}catch(s){console.error("Error fetching data from backend:",s)}}async function Ie(e){try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/entry/update/unwanted/"+e,o=await A.A.put(l,null,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}async function Ee(e){try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/entry/update/study/count/"+e,o=await A.A.put(l,null,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}async function Ue(e){try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/entry/update/reset/"+e,o=await A.A.put(l,null,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}var Xe=t(437);const $e=e=>((0,o.Qi)("data-v-87d7b9f8"),e=e(),(0,o.jt)(),e),je=$e(()=>(0,o.Lk)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css",crossorigin:"anonymous"},null,-1)),Pe={key:0,class:"word-card"},Te={class:"header"},ze={class:"word-display"},Qe={class:"word-title-section"},Me={class:"word"},Be={key:0,class:"meaning-container"},qe={key:0,class:"fetching-meaning"},Oe=["innerHTML"],De={key:2,class:"no-meaning"},Ze={class:"footer"},He={key:1,class:"word-card"},Ye=$e(()=>(0,o.Lk)("h1",{class:"word"},"Loading data...",-1)),Je=[Ye],Ne={key:2,class:"word-card"},Ge=$e(()=>(0,o.Lk)("h1",{class:"word"},"å½“å‰ä»»åŠ¡å·²å®Œæˆ",-1)),ea=[Ge],aa=["onClick"],ta={key:3,class:"wiktionary-fullscreen-modal"},la={class:"wiktionary-fullscreen-content"},oa=["src"],na={class:"note-editor"},ra=["innerHTML"],ia={class:"editor-actions"};var ua={__name:"WordCardView",props:["type"],setup(e){const a=e,t=(0,n.KR)(2),r=(0,n.KR)(!0),u=(0,n.KR)(!1),s=(0,n.KR)(!1),d=(0,n.KR)(!1),c=(0,n.KR)(!1),p=(0,n.KR)(""),m=(0,n.KR)("edit"),k=(0,n.KR)(!1),v=new ce.A({html:!0,linkify:!0,typographer:!0,tables:!0}).use(ve.A).use(me.A).use(pe.A).use(ke.A).use(fe.A).use(be.A).use(ye(),{engine:Xe.Ay,delimiters:"dollars",katexOptions:{macros:{"\\RR":"\\mathbb{R}"}}}),f=()=>{q(),m.value="edit",s.value=!s.value},b=(0,o.EW)(()=>X.value?v.render(X.value):'<p class="empty-note">æš‚æ— ç¬”è®°å†…å®¹</p>');let g=(0,n.Kh)([]),y=(0,n.Kh)([]),R=(0,n.KR)(0),h={};const _=(0,n.KR)(0),w=()=>y.length>0&&R.value<y.length&&y[R.value].word||"",C=()=>{d.value=!d.value},x=e=>{const a=e.prefix+y.value[R].word+(e.suffix||""),t=e.title.toLowerCase().includes("wiktionary"),l=window.innerWidth<=768;t&&l?(p.value=a,c.value=!0,u.value=!1):window.open(a,"_blank")};window.openWiktionaryFullscreen=e=>{c.value=!0,p.value=e};const W=(0,n.KR)(1),S=e=>{if(null==e||2===e.code){const e=(0,i.Pj)();e.dispatch("logout"),location.reload()}};(0,o.sV)(async()=>{const e=await Ce(a.type);if(S(e),y=e.data,null==y||0===y.length)return void(t.value=3);t.value=1;for(let a=0;a<y.length;a++)h[a]=0;const l=await Fe();S(l),g=l.data;const o=await we();S(o),_.value=o.times_counted_as_known,1===t.value&&y.length>0&&await D()});const L=async e=>{if(!s.value)if("0123456789".includes(e.key)){let a=+e.key;0===a&&(a=10),a<=g.length&&window.open(g[a-1].prefix+y[R.value].word+(g[a-1].suffix||""),"_blank")}else if("s"===e.key)u.value=!u.value;else if("n"===e.key){if(2!==W.value&&3!==W.value)return!0;await Z()}else if("u"===e.key){if(2!==W.value)return!0;await U()}else if("j"===e.key){if(1!==W.value)return!0;await E()}else if("k"===e.key){if(1!==W.value)return!0;await I()}else{if("d"!==e.key&&"D"!==e.key)return!0;await A()}},A=async()=>{h[R.value]=_.value;const e=await Ie(y[R.value].id);S(e),await Z()},I=async()=>{h[R.value]=0;const e=await Ue(y[R.value].id);S(e),W.value=3},E=async()=>{if(h[R.value]++,h[R.value]>=_.value){const e=await Ee(y[R.value].id);S(e)}W.value=2},U=async()=>{h[R.value]=0;const e=await Ue(y[R.value].id);S(e),await Z()};let X=(0,n.KR)(""),B=(0,n.KR)("");const q=()=>{X.value=y[R.value].note},O=(0,o.EW)(()=>{const e=y[R.value]?.meaning||B.value;return e&&""!==e.trim()}),D=async()=>{const e=y[R.value];if(!e)return;const a=e.meaning||"";if(!a||""===a.trim()&&!k.value){k.value=!0,B.value="";try{const a=await Le(e.word);a.success?(B.value=Ke(a),console.log(`æˆåŠŸæŸ¥è¯¢åˆ°å•è¯ "${e.word}" çš„é‡Šä¹‰`)):(B.value="æš‚æ— é‡Šä¹‰",console.log(`å•è¯ "${e.word}" æŸ¥è¯¢å¤±è´¥:`,a))}catch(t){console.error(`å•è¯ "${e.word}" æŸ¥è¯¢å¼‚å¸¸:`,t),B.value="æš‚æ— é‡Šä¹‰"}finally{k.value=!1}}else B.value=a,console.log(`å•è¯ "${e.word}" å·²æœ‰é‡Šä¹‰:`,a)},Z=async()=>{let e=R.value;do{e=(e+1)%y.length}while(e!==R.value&&h[e]>=_.value);e===R.value&&h[e]>=_.value?t.value=3:(W.value=1,R.value=e,await D())},H=async()=>{const e=await Ae(y[R.value].id,y[R.value].word,y[R.value].meaning,y[R.value].book_id,X.value,y[R.value].unwanted,y[R.value].study_count,y[R.value].date_to_review,y[R.value].created_at);S(e)},Y=e=>{if(e.target.classList.contains("audio-btn")){const a=e.target.getAttribute("data-audio");a&&J(a)}},J=e=>{try{const a=new Audio(e);a.play().catch(e=>{console.error("éŸ³é¢‘æ’­æ”¾å¤±è´¥:",e)})}catch(a){console.error("éŸ³é¢‘åŠ è½½å¤±è´¥:",a)}};return(e,a)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(K,{onKeydown:L,tabindex:"0"},{default:(0,o.k6)(()=>[je,1===t.value?((0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.Lk)("div",Te,[(0,o.bF)((0,n.R1)($.R7),{content:"ä½¿ç”¨LLMæœç´¢å•è¯",placement:"top"},{default:(0,o.k6)(()=>[r.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:0,class:"centered-button",circle:"",onClick:C},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(j.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.wUE))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1}),(0,o.eW)(" Â  "),(0,o.bF)((0,n.R1)($.R7),{content:"æœç´¢å•è¯ (å¿«æ·é”®: S)",placement:"top"},{default:(0,o.k6)(()=>[r.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:0,class:"centered-button",circle:"",onClick:a[0]||(a[0]=e=>u.value=!u.value)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(j.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.vji))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1}),(0,o.eW)(" Â  "),(0,o.bF)((0,n.R1)($.R7),{content:"ç¼–è¾‘ç¬”è®° (æ”¯æŒMarkdownè¯­æ³•)",placement:"top"},{default:(0,o.k6)(()=>[r.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:0,class:"centered-button",circle:"",onClick:f},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(j.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.EDh))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1}),(0,o.eW)(" Â  "),(0,o.bF)((0,n.R1)($.R7),{content:"æ ‡è®°ä¸ºä¸æƒ³å­¦ (å¿«æ·é”®: D)",placement:"top"},{default:(0,o.k6)(()=>[r.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:0,class:"centered-button",circle:"",onClick:A},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(j.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.epd))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1})]),(0,o.Lk)("div",ze,[(0,o.Lk)("div",Qe,[(0,o.Lk)("h1",Me,(0,F.v_)((0,n.R1)(y)[(0,n.R1)(R)].word),1)]),2===W.value||3===W.value?((0,o.uX)(),(0,o.CE)("div",Be,[k.value?((0,o.uX)(),(0,o.CE)("div",qe," æ­£åœ¨æŸ¥è¯¢é‡Šä¹‰... ")):O.value?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"meaning-content",innerHTML:(0,n.R1)(B),onClick:Y},null,8,Oe)):((0,o.uX)(),(0,o.CE)("div",De," æš‚æ— é‡Šä¹‰ "))])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ze,[1===W.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:0,onClick:E},{default:(0,o.k6)(()=>[(0,o.eW)("è®¤è¯†(J)")]),_:1})):(0,o.Q3)("",!0),1===W.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:1,onClick:I},{default:(0,o.k6)(()=>[(0,o.eW)("ä¸è®¤è¯†(K)")]),_:1})):(0,o.Q3)("",!0),2===W.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:2,onClick:U},{default:(0,o.k6)(()=>[(0,o.eW)("è®°é”™äº†(U)")]),_:1})):(0,o.Q3)("",!0),2===W.value||3===W.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:3,onClick:Z},{default:(0,o.k6)(()=>[(0,o.eW)("ä¸‹ä¸€è¯(N)")]),_:1})):(0,o.Q3)("",!0)])])):2===t.value?((0,o.uX)(),(0,o.CE)("div",He,Je)):3===t.value?((0,o.uX)(),(0,o.CE)("div",Ne,ea)):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(P.pw),{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),title:"æœç´¢","with-header":!0},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,n.R1)(g),(e,a)=>((0,o.uX)(),(0,o.CE)("p",{key:e.id},[(0,o.Lk)("a",{href:"#",onClick:(0,l.D$)(a=>x(e),["prevent"]),class:(0,F.C4)({"wiktionary-link":e.title.toLowerCase().includes("wiktionary")})},[(0,o.Lk)("b",null,(0,F.v_)(a+1)+". "+(0,F.v_)(e.title),1)],10,aa),(0,o.bF)((0,n.R1)(T.fR))]))),128))]),_:1},8,["modelValue"]),c.value?((0,o.uX)(),(0,o.CE)("div",ta,[(0,o.Lk)("div",la,[(0,o.Lk)("button",{class:"close-fullscreen-btn",onClick:a[2]||(a[2]=e=>c.value=!1)},[(0,o.bF)((0,n.R1)(j.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.bm))]),_:1})]),(0,o.Lk)("iframe",{src:p.value,class:"wiktionary-fullscreen-iframe",loading:"lazy"},null,8,oa)])])):(0,o.Q3)("",!0)]),_:1}),(0,o.bF)((0,n.R1)(P.pw),{modelValue:s.value,"onUpdate:modelValue":a[6]||(a[6]=e=>s.value=e),title:"ç¬”è®° (æ”¯æŒMarkdownè¯­æ³•)","with-header":!0,size:"50%"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",na,[(0,o.bF)((0,n.R1)(z.q),{modelValue:m.value,"onUpdate:modelValue":a[4]||(a[4]=e=>m.value=e),type:"border-card"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(z.v$),{label:"ç¼–è¾‘",name:"edit"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{type:"textarea",placeholder:"æ·»åŠ ç¬”è®° (æ”¯æŒMarkdownè¯­æ³•)",modelValue:(0,n.R1)(X),"onUpdate:modelValue":a[3]||(a[3]=e=>(0,n.i9)(X)?X.value=e:X=e),rows:20,maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(z.v$),{label:"é¢„è§ˆ",name:"preview"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"markdown-preview",innerHTML:b.value},null,8,ra)]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)(T.fR)),(0,o.Lk)("div",ia,[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:H},{default:(0,o.k6)(()=>[(0,o.eW)("ä¿å­˜")]),_:1}),(0,o.bF)((0,n.R1)(V.S2),{onClick:a[5]||(a[5]=e=>s.value=!1)},{default:(0,o.k6)(()=>[(0,o.eW)("å–æ¶ˆ")]),_:1})])])]),_:1},8,["modelValue"]),d.value?((0,o.uX)(),(0,o.Wv)(_e,{key:0,"current-word":w(),onClose:a[7]||(a[7]=e=>d.value=!1)},null,8,["current-word"])):(0,o.Q3)("",!0)],64))}};const sa=(0,m.A)(ua,[["__scopeId","data-v-87d7b9f8"]]);var da=sa,ca={__name:"LearnWordView",setup(e){return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[(0,o.bF)(da,{type:"learn"})]),_:1}))}};const pa=ca;var ma=pa,ka={__name:"ReviewWordView",setup(e){return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[(0,o.bF)(da,{type:"review"})]),_:1}))}};const va=ka;var fa=va;const ba=[{path:"/word",name:"word",component:X,meta:{requiresAuth:!0}},{path:"/card",name:"card",component:da,meta:{requiresAuth:!0}},{path:"/learn",name:"learn",component:ma,meta:{requiresAuth:!0}},{path:"/review",name:"review",component:fa,meta:{requiresAuth:!0}}];var ga=ba,ya=t(2006);const Ra={class:"login-container"},ha={key:0,style:{color:"red","margin-bottom":"10px","margin-left":"100px"}};var _a={__name:"LoginView",setup(e){const a=(0,n.KR)("http://127.0.0.1:8080");null!==localStorage.getItem("server_link")&&(a.value=localStorage.getItem("server_link"));const t=(0,n.KR)(""),r=(0,n.KR)(""),s=(0,n.KR)(!1),d=(0,n.KR)(""),c=(0,i.Pj)(),p=(0,u.rd)(),m=async()=>{const e=await c.dispatch("login",{serverLink:a.value,username:t.value,password:r.value});!0===e?(s.value=!1,await p.push({name:"home"})):(s.value=!0,d.value=e)},k=async()=>{await p.push({name:"register"})};return(e,i)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ra,[(0,o.bF)((0,n.R1)(ya.US),{ref:"loginForm","label-width":"80px"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"Server Link",prop:"serverLink",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=e=>a.value=e),placeholder:"è¯·è¾“å…¥æœåŠ¡å™¨åœ°å€"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"Username",prop:"username",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=e=>t.value=e),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"Password",prop:"password",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{type:"password",modelValue:r.value,"onUpdate:modelValue":i[2]||(i[2]=e=>r.value=e),onKeyup:(0,l.jR)(m,["enter"]),placeholder:"è¯·è¾“å…¥å¯†ç "},null,8,["modelValue"])]),_:1}),s.value?((0,o.uX)(),(0,o.CE)("div",ha,(0,F.v_)(d.value),1)):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ya.xE),{class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:m,class:"login-button"},{default:(0,o.k6)(()=>[(0,o.eW)("Login")]),_:1})]),_:1}),(0,o.Lk)("p",{onClick:k,style:{"margin-left":"80px",color:"#0477fa"}},"æ²¡æœ‰è´¦å·ï¼Ÿç‚¹å‡»æ³¨å†Œ")]),_:1},512)])]),_:1}))}};const wa=(0,m.A)(_a,[["__scopeId","data-v-39c5c546"]]);var Fa=wa;const Ca={class:"register-container"},Va={key:0,style:{color:"red","margin-bottom":"10px","margin-left":"100px"}},xa={key:2,style:{"margin-left":"80px",color:"#0477fa"}};var Wa={__name:"RegisterView",setup(e){const a=(0,i.Pj)(),t=(0,n.KR)("http://127.0.0.1:8080"),r=(0,n.KR)(""),s=(0,n.KR)(""),d=(0,n.KR)(""),c=(0,n.KR)(""),p=(0,n.KR)(""),m=(0,n.KR)(!1),k=(0,n.KR)(""),v=(0,n.KR)(!1),f=(0,n.KR)(""),b=async()=>{if(c.value!==p.value)return m.value=!0,void(k.value="ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´");const e=await a.dispatch("register",{serverLink:t.value,username:r.value,email:s.value,avatar:d.value,password:c.value,confirm_password:p.value});!0===e?(m.value=!1,v.value=!0,f.value="æ³¨å†ŒæˆåŠŸ, å³å°†è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢",setTimeout(()=>{y()},2e3)):(m.value=!0,k.value=e)},g=(0,u.rd)(),y=()=>{g.push({name:"login"})};return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ca,[(0,o.bF)((0,n.R1)(ya.US),{ref:"registerForm","label-width":"80px"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"æœåŠ¡å™¨",prop:"serverLink",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),placeholder:"è¯·è¾“å…¥åå°æœåŠ¡å™¨åœ°å€"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"ç”¨æˆ·å",prop:"username",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"é‚®ç®±",prop:"email",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:s.value,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value=e),placeholder:"è¯·è¾“å…¥é‚®ç®±"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å¤´åƒ",prop:"avatar",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:d.value,"onUpdate:modelValue":a[3]||(a[3]=e=>d.value=e),placeholder:"è¯·è¾“å…¥é‚®ç®±"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å¯†ç ",prop:"password",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{type:"password",modelValue:c.value,"onUpdate:modelValue":a[4]||(a[4]=e=>c.value=e),placeholder:"è¯·è¾“å…¥å¯†ç "},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"ç¡®è®¤å¯†ç ",prop:"confirmPassword",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{type:"password",modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=e=>p.value=e),onKeyup:(0,l.jR)(b,["enter"]),placeholder:"è¯·ç¡®è®¤å¯†ç "},null,8,["modelValue"])]),_:1}),m.value?((0,o.uX)(),(0,o.CE)("div",Va,(0,F.v_)(k.value),1)):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ya.xE),{class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:b,class:"register-button"},{default:(0,o.k6)(()=>[(0,o.eW)("æ³¨å†Œ")]),_:1})]),_:1}),v.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("p",{key:1,onClick:y,style:{"margin-left":"80px",color:"#04eefa"}},"å·²æœ‰è´¦å·ï¼Ÿç‚¹å‡»ç™»å½•")),v.value?((0,o.uX)(),(0,o.CE)("p",xa,(0,F.v_)(f.value),1)):(0,o.Q3)("",!0)]),_:1},512)])]),_:1}))}};const Sa=(0,m.A)(Wa,[["__scopeId","data-v-c4712e08"]]);var La=Sa;const Ka=[{path:"/login",name:"login",component:Fa,beforeEnter:(e,a,t)=>{t(e=>{e.$nextTick(()=>{e.$refs.loginMenuItem.focus()})})}},{path:"/register",name:"register",component:La}];var Aa=Ka,Ia=t(3851),Ea=t(236),Ua=t(4880),Xa=t(6844),$a=t(7111),ja=t(9267),Pa=t(850),Ta=t(8430);async function za(){try{const e=localStorage.getItem("server_link"),a=localStorage.getItem("token"),t=await A.A.get(e+"/book/count",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return t.data}catch(e){console.error("Error fetching data from backend:",e)}}async function Qa(e,a){try{const t=localStorage.getItem("server_link"),l=localStorage.getItem("token"),o=t+"/book/list/"+e+"/"+a,n=await A.A.get(o,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});return n.data}catch(t){console.error("Error fetching data from backend:",t)}}function Ma(e){return"text/plain"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type?e.size>10485760?{code:1,message:"æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡10M"}:{code:0,message:"success"}:{code:1,message:"æ–‡ä»¶æ ¼å¼é”™è¯¯"}}async function Ba(e,a,t,l){try{const o=localStorage.getItem("token"),n=localStorage.getItem("server_link"),r=n+"/book/update",i=await A.A.put(r,{id:e,title:a,category:t,created_at:l},{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return i.data}catch(o){console.error("Error fetching data from backend:",o)}}async function qa(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=a+"/book/delete/"+e,o=await A.A.delete(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}var Oa=t(1576),Da=t.n(Oa);const Za=e=>{const a=e["date_to_review"].toString();return a.substring(0,4)+"-"+a.substring(4,6)+"-"+a.substring(6)},Ha=(e,a)=>Da()(e[a.property]).format("YYYY-MM-DD HH:mm:ss");async function Ya(e,a){try{const t=localStorage.getItem("token"),l=localStorage.getItem("server_link"),o=l+"/book/add",n=await A.A.post(o,{title:e,category:a},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.data}catch(t){console.error("Error fetching data from backend:",t)}}const Ja=e=>((0,o.Qi)("data-v-3942a60d"),e=e(),(0,o.jt)(),e),Na=Ja(()=>(0,o.Lk)("br",null,null,-1)),Ga={class:"dialog-footer"},et=Ja(()=>(0,o.Lk)("div",{style:{color:"red"}}," ä¸€æ¬¡åªèƒ½ä¸Šä¼ ä¸€ä¸ª.txtæ–‡ä»¶æˆ–è€….xlsxæ–‡ä»¶ï¼Œè¯æ¡æ•°ä¸èƒ½è¶…è¿‡50ä¸‡ä¸ª ",-1)),at={class:"dialog-footer"};var tt={__name:"BookSettingView",setup(e){const a=(0,i.Pj)(),t=e=>{null!=e&&2!==e.code||(a.dispatch("logout"),location.reload())};let r=(0,n.KR)(!1),u=(0,n.KR)(null),s=(0,n.Kh)([]),d=(0,n.KR)(5),c=(0,n.KR)(1);const p=async()=>{k.value=!1;const e=await Qa(d.value,c.value);t(e),s=e.data,k.value=!0},m=async()=>{k.value=!1;const e=await Qa(d.value,c.value);t(e),s=e.data,k.value=!0},k=(0,n.KR)(!1);let v=(0,n.KR)(0);(0,o.sV)(async()=>{const e=await za();t(e),v.value=e.data;const a=await Qa(d.value,c.value);t(a),s=a.data,k.value=!0});const f=e=>{localStorage.setItem("book_id",e.id),Tl.push({name:"word_setting"})},b=e=>{u.value=e,r.value=!0},g=()=>{r.value=!1,location.reload()},y=async()=>{r.value=!1,k.value=!1;const e=await Ba(u.value.id,u.value.title,u.value.category,u.value.created_at);t(e),k.value=!0,location.reload()},R=async e=>{(0,Ia.df)({title:"åˆ é™¤è¯ä¹¦",message:"è¯ä¹¦åˆ é™¤ä¸­, è¯·ç¨ç­‰...",type:"info",duration:1e3});const a=await qa(e.id);if(t(a),0===a.code){k.value=!1;const e=await za();t(e),v.value=e.data;const a=await Qa(d.value,c.value);t(a),s=a.data,k.value=!0,(0,Ia.df)({title:"Success",message:"åˆ é™¤æˆåŠŸ",type:"success",duration:1e3})}},h=(0,n.KR)(!1),_=(0,n.Kh)({title:"",category:""}),w=()=>{h.value=!0},F=(0,n.KR)(!1),C=(0,n.KR)(null),x=e=>{C.value.clearFiles();const a=e[0];a.uid=(0,Ea.G$)(),C.value.handleStart(a)},W=e=>{1===e.code?(0,Ia.df)({title:"ä¸Šä¼ å¤±è´¥",message:e.message,type:"error",duration:1e3}):(0,Ia.df)({title:"Success",message:e.message,type:"success",duration:1e3}),setTimeout(()=>{location.reload()},1e3)},S=e=>{(0,Ia.df)({title:"Error",message:e.message,type:"error",duration:1e3})},L=()=>{F.value=!1,h.value=!1,_.title="",_.category=""},A=async()=>{if((0,Ia.df)({title:"æ–‡ä»¶ä¸Šä¼ ",message:"è¯ä¹¦ä¸Šä¼ ä¸­, è¯·ç¨ç­‰...",type:"info",duration:1e3}),h.value=!1,F.value=!1,k.value=!1,null!=C.value)C.value.submit();else{const e=await Ya(_.title,_.category);t(e),0===e.code?(0,Ia.df)({title:"Success",message:"æ·»åŠ æˆåŠŸ",type:"success",duration:1e3}):S(e)}const e=await za();t(e),v.value=e.data.data;const a=await Qa(d.value,c.value);t(a),s=a.data,k.value=!0,_.title="",_.category=""},I=localStorage.getItem("server_link"),E=(0,n.KR)(I+"/book/add"),U=(0,n.KR)({Authorization:"Bearer "+localStorage.getItem("token")}),X=e=>{const a=Ma(e);return 0===a.code||((0,Ia.df)({title:"Error",message:a.message,type:"error",duration:1e3}),!1)};return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[k.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ua.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ua.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.Up),{data:(0,n.R1)(s)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.o8),{label:"åç§°",prop:"title"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"åˆ†ç±»",prop:"category"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"åˆ›å»ºæ—¶é—´",prop:"created_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ›´æ–°æ—¶é—´",prop:"updated_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ“ä½œ"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:a=>f(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("æŸ¥çœ‹è¯æ±‡")]),_:2},1032,["onClick"]),(0,o.bF)((0,n.R1)(V.S2),{onClick:a=>b(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ç¼–è¾‘")]),_:2},1032,["onClick"]),(0,o.bF)((0,n.R1)(V.S2),{onClick:a=>R(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("åˆ é™¤")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)($a.aQ),{"current-page":(0,n.R1)(c),"onUpdate:currentPage":a[0]||(a[0]=e=>(0,n.i9)(c)?c.value=e:c=e),"page-size":(0,n.R1)(d),"onUpdate:pageSize":a[1]||(a[1]=e=>(0,n.i9)(d)?d.value=e:d=e),"page-sizes":[5,10,20,50,100],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:(0,n.R1)(v),onSizeChange:m,onCurrentChange:p},null,8,["current-page","page-size","total"])])]),_:1}),Na,(0,o.bF)((0,n.R1)(Ua.LK),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:w},{default:(0,o.k6)(()=>[(0,o.eW)("æ·»åŠ ")]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ja.kZ),{modelValue:(0,n.R1)(r),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,n.i9)(r)?r.value=e:r=e),title:"ç¼–è¾‘è¯ä¹¦"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Ga,[(0,o.bF)((0,n.R1)(V.S2),{onClick:g},{default:(0,o.k6)(()=>[(0,o.eW)("å–æ¶ˆ")]),_:1}),(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:y},{default:(0,o.k6)(()=>[(0,o.eW)("ç¡®è®¤")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.US),{model:(0,n.R1)(u)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"æ ‡é¢˜"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:(0,n.R1)(u).title,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,n.R1)(u).title=e),onKeyup:(0,l.jR)(y,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"åˆ†ç±»"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:(0,n.R1)(u).category,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,n.R1)(u).category=e),onKeyup:(0,l.jR)(y,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)(ja.kZ),{modelValue:h.value,"onUpdate:modelValue":a[8]||(a[8]=e=>h.value=e),title:"æ–°å»ºè¯ä¹¦"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",at,[(0,o.bF)((0,n.R1)(V.S2),{onClick:L},{default:(0,o.k6)(()=>[(0,o.eW)("Cancel")]),_:1}),(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:A},{default:(0,o.k6)(()=>[(0,o.eW)("ç¡®è®¤")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.US),{model:_},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"æ ‡é¢˜"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:_.title,"onUpdate:modelValue":a[5]||(a[5]=e=>_.title=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"åˆ†ç±»"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:_.category,"onUpdate:modelValue":a[6]||(a[6]=e=>_.category=e),onKeyup:(0,l.jR)(A,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Pa.dI),{modelValue:F.value,"onUpdate:modelValue":a[7]||(a[7]=e=>F.value=e)},{default:(0,o.k6)(()=>[(0,o.eW)("ä¸Šä¼ æ–‡ä»¶(å¦‚ä¸ä¸Šä¼ æ–‡ä»¶ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªç©ºçš„è¯ä¹¦)")]),_:1},8,["modelValue"]),F.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(ya.xE),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ta.j5),{ref_key:"upload",ref:C,"before-upload":X,action:E.value,headers:U.value,data:{title:_.title,category:_.category},name:"file",limit:1,"on-exceed":x,"auto-upload":!1,"on-success":W},{trigger:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary"},{default:(0,o.k6)(()=>[(0,o.eW)("é€‰æ‹©æ–‡ä»¶")]),_:1})]),tip:(0,o.k6)(()=>[et]),_:1},8,["action","headers","data"])]),_:1})):(0,o.Q3)("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const lt=(0,m.A)(tt,[["__scopeId","data-v-3942a60d"]]);var ot=lt,nt=t(1418),rt=t(3883);async function it(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=a+"/entry/delete/"+e,o=await A.A.delete(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}async function ut(e,a,t,l){try{const o=localStorage.getItem("token"),n=localStorage.getItem("server_link"),r=n+"/entry/add",i=await A.A.post(r,{book_id:e,word:a,meaning:t,note:l},{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return i.data}catch(o){console.error("Error fetching data from backend:",o)}}const st=(0,o.Lk)("br",null,null,-1),dt={class:"block"},ct={class:"dialog-footer"},pt={class:"dialog-footer"};var mt={__name:"WordSettingView",setup(e){const a=parseInt(localStorage.getItem("book_id"));let t=(0,n.Kh)([]),r=(0,n.KR)(5),u=(0,n.KR)(1);const s=(0,i.Pj)(),d=e=>{null!=e&&2!==e.code||(s.dispatch("logout"),location.reload())},c=(0,n.KR)(!1);let p=(0,n.KR)(0);(0,o.sV)(async()=>{const e=await Ve(a);d(e),p.value=e.data;const l=await xe(a,r.value,u.value);d(l),t=l.data,c.value=!0});const m=async()=>{c.value=!1;const e=await xe(a,r.value,u.value);d(e),t=e.data,c.value=!0},k=async()=>{c.value=!1;const e=await xe(a,r.value,u.value);d(e),t=e.data,c.value=!0},v=(0,n.KR)(null),f=(0,n.KR)(!1),b=async e=>{(0,Ia.df)({title:"åˆ é™¤æ¡ç›®",message:"æ¡ç›®åˆ é™¤ä¸­, è¯·ç¨ç­‰...",type:"info",duration:1e3});const l=await it(e.id);if(d(l),0===l.code){c.value=!1;const e=await Ve(a);d(e),p.value=e.data;const l=await xe(a,r.value,u.value);d(l),t=l.data,c.value=!0,(0,Ia.df)({title:"Success",message:"åˆ é™¤æˆåŠŸ",type:"success",duration:1e3})}},g=e=>{const a=e.getFullYear();return a<2e3||a>2099},y=(0,n.KR)(0),R=e=>{v.value=e;const a=e.date_to_review,t=Math.floor(a/1e4),l=Math.floor(a%1e4/100)-1,o=a%100,n=new Date(t,l,o);y.value=n.getTime(),f.value=!0},h=()=>{f.value=!1,location.reload()},_=async()=>{f.value=!1,c.value=!1;const e=new Date(y.value),a=e.getFullYear(),t=e.getMonth()+1,l=e.getDate();v.value.date_to_review=1e4*a+100*t+l;const o=await Ae(v.value.id,v.value.word,v.value.meaning,v.value.book_id,v.value.note,v.value.unwanted,v.value.study_count,v.value.date_to_review,v.value.created_at);d(o),c.value=!0},w=(0,n.KR)(!1),F=()=>{w.value=!0},C=(0,n.Kh)({word:"",meaning:"",note:""}),x=()=>{w.value=!1,C.word="",C.meaning="",C.note=""},W=e=>{(0,Ia.df)({title:"Error",message:e.message,type:"error",duration:1e3})},S=async()=>{w.value=!1,c.value=!1;const e=await ut(a,C.word,C.meaning,C.note);d(e),0===e.code?(0,Ia.df)({title:"Success",message:"æ·»åŠ æˆåŠŸ",type:"success",duration:1e3}):W(e);const l=await Ve(a);d(l),p.value=l.data.data;const o=await xe(a,r.value,u.value);d(o),t=o.data,c.value=!0,C.word="",C.meaning="",C.note=""};return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[c.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ua.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ua.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.Up),{data:(0,n.R1)(t)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.o8),{label:"å•è¯",prop:"word"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"å«ä¹‰",prop:"meaning"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"å¤‡æ³¨",prop:"note"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"ä¸æƒ³å­¦",prop:"unwanted"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"å­¦ä¹ æ¬¡æ•°",prop:"study_count"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"å¤ä¹ æ—¥æœŸ",prop:"date_to_review",formatter:(0,n.R1)(Za)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"åˆ›å»ºæ—¶é—´",prop:"created_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ›´æ–°æ—¶é—´",prop:"updated_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ“ä½œ"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)($.R7),{content:"ç¼–è¾‘å•è¯æ¡ç›®",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:a=>R(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ç¼–è¾‘")]),_:2},1032,["onClick"])]),_:2},1024),(0,o.bF)((0,n.R1)($.R7),{content:"åˆ é™¤å•è¯æ¡ç›®",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:a=>b(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("åˆ é™¤")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)($a.aQ),{"current-page":(0,n.R1)(u),"onUpdate:currentPage":a[0]||(a[0]=e=>(0,n.i9)(u)?u.value=e:u=e),"page-size":(0,n.R1)(r),"onUpdate:pageSize":a[1]||(a[1]=e=>(0,n.i9)(r)?r.value=e:r=e),"page-sizes":[5,10,20,50,100],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:(0,n.R1)(p),onSizeChange:k,onCurrentChange:m},null,8,["current-page","page-size","total"])])]),_:1}),st,(0,o.bF)((0,n.R1)(Ua.LK),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)($.R7),{content:"æ·»åŠ æ–°å•è¯",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:F},{default:(0,o.k6)(()=>[(0,o.eW)("æ·»åŠ ")]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ja.kZ),{modelValue:f.value,"onUpdate:modelValue":a[8]||(a[8]=e=>f.value=e),title:"ç¼–è¾‘æ¡ç›®"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",ct,[(0,o.bF)((0,n.R1)($.R7),{content:"å–æ¶ˆç¼–è¾‘",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:h},{default:(0,o.k6)(()=>[(0,o.eW)("å–æ¶ˆ")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"ç¡®è®¤ç¼–è¾‘",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:_},{default:(0,o.k6)(()=>[(0,o.eW)("ç¡®è®¤")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.US),{model:v.value},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"å•è¯"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:v.value.word,"onUpdate:modelValue":a[2]||(a[2]=e=>v.value.word=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å«ä¹‰"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{type:"textarea",autosize:{minRows:5},modelValue:v.value.meaning,"onUpdate:modelValue":a[3]||(a[3]=e=>v.value.meaning=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å¤‡æ³¨"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{type:"textarea",autosize:{minRows:3},modelValue:v.value.note,"onUpdate:modelValue":a[4]||(a[4]=e=>v.value.note=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Pa.dI),{modelValue:v.value.unwanted,"onUpdate:modelValue":a[5]||(a[5]=e=>v.value.unwanted=e),label:"æ ‡è®°ä¸ºä¸æƒ³å­¦",size:"large"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å­¦ä¹ æ¬¡æ•°"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(nt.lq),{modelValue:v.value.study_count,"onUpdate:modelValue":a[6]||(a[6]=e=>v.value.study_count=e),min:0,max:30},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"ä¸‹æ¬¡å¤ä¹ æ—¥æœŸ"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",dt,[(0,o.bF)((0,n.R1)(rt.MG),{modelValue:y.value,"onUpdate:modelValue":a[7]||(a[7]=e=>y.value=e),"disabled-date":g,type:"date",placeholder:"é€‰æ‹©æ—¥æœŸ"},null,8,["modelValue"])])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)(ja.kZ),{modelValue:w.value,"onUpdate:modelValue":a[12]||(a[12]=e=>w.value=e),title:"æ–°å»ºæ¡ç›®"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",pt,[(0,o.bF)((0,n.R1)($.R7),{content:"å–æ¶ˆæ·»åŠ ",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:x},{default:(0,o.k6)(()=>[(0,o.eW)("Cancel")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"ç¡®è®¤æ·»åŠ  (å¿«æ·é”®: Enter)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:S},{default:(0,o.k6)(()=>[(0,o.eW)("ç¡®è®¤")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.US),{model:C},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"å•è¯"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:C.word,"onUpdate:modelValue":a[9]||(a[9]=e=>C.word=e),onKeyup:(0,l.jR)(S,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å«ä¹‰"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:C.meaning,"onUpdate:modelValue":a[10]||(a[10]=e=>C.meaning=e),onKeyup:(0,l.jR)(S,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å¤‡æ³¨"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:C.note,"onUpdate:modelValue":a[11]||(a[11]=e=>C.note=e),onKeyup:(0,l.jR)(S,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const kt=mt;var vt=kt;async function ft(e,a,t,l){try{const o=localStorage.getItem("token"),n=localStorage.getItem("server_link"),r=n+"/dictionary/update",i=await A.A.put(r,{id:e,title:a,prefix:t,suffix:l},{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return i.data}catch(o){console.error("Error fetching data from backend:",o)}}async function bt(e,a,t){try{const l=localStorage.getItem("token"),o=localStorage.getItem("server_link"),n=o+"/dictionary/add",r=await A.A.post(n,{title:e,prefix:a,suffix:t},{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});return r.data}catch(l){console.error("Error fetching data from backend:",l)}}async function gt(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=a+"/dictionary/delete/"+e,o=await A.A.delete(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}const yt=(0,o.Lk)("br",null,null,-1),Rt={class:"dialog-footer"},ht={class:"dialog-footer"};var _t={__name:"DictionarySettingView",setup(e){let a=(0,n.Kh)([]);const t=(0,i.Pj)(),r=e=>{null!=e&&2!==e.code||(t.dispatch("logout"),location.reload())},u=(0,n.KR)(!1);(0,o.sV)(async()=>{const e=await Fe();r(e),a=e.data,u.value=!0});const s=(0,n.KR)(null),d=(0,n.KR)(!1),c=async e=>{(0,Ia.df)({title:"åˆ é™¤è¯å…¸",message:"è¯å…¸åˆ é™¤ä¸­, è¯·ç¨ç­‰...",type:"info",duration:1e3});const t=await gt(e.id);if(r(t),0===t.code){u.value=!1;const e=await Fe();r(e),a=e.data,u.value=!0,(0,Ia.df)({title:"Success",message:"åˆ é™¤æˆåŠŸ",type:"success",duration:1e3})}},p=e=>{s.value=e,d.value=!0},m=()=>{d.value=!1,location.reload()},k=async()=>{d.value=!1,u.value=!1;const e=await ft(s.value.id,s.value.title,s.value.prefix,s.value.suffix);r(e),u.value=!0},v=(0,n.KR)(!1),f=()=>{v.value=!0},b=(0,n.Kh)({title:"",prefix:"",suffix:""}),g=()=>{v.value=!1,b.title="",b.prefix="",b.suffix=""},y=e=>{(0,Ia.df)({title:"Error",message:e.message,type:"error",duration:1e3})},R=async()=>{v.value=!1,u.value=!1;const e=await bt(b.title,b.prefix,b.suffix);r(e),0===e.code?(0,Ia.df)({title:"Success",message:"æ·»åŠ æˆåŠŸ",type:"success",duration:1e3}):y(e);const t=await Fe();r(t),a=t.data,u.value=!0,b.title="",b.prefix="",b.suffix=""};return(e,t)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[u.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ua.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ua.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.Up),{data:(0,n.R1)(a)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.o8),{label:"åç§°",prop:"title"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"å‰ç¼€",prop:"prefix"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"åç¼€",prop:"suffix"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"åˆ›å»ºæ—¶é—´",prop:"created_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ›´æ–°æ—¶é—´",prop:"updated_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ“ä½œ"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)($.R7),{content:"ç¼–è¾‘è¯å…¸",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:a=>p(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ç¼–è¾‘")]),_:2},1032,["onClick"])]),_:2},1024),(0,o.bF)((0,n.R1)($.R7),{content:"åˆ é™¤è¯å…¸",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:a=>c(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("åˆ é™¤")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1}),yt,(0,o.bF)((0,n.R1)(Ua.LK),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)($.R7),{content:"æ·»åŠ æ–°è¯å…¸",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:f},{default:(0,o.k6)(()=>[(0,o.eW)("æ·»åŠ ")]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ja.kZ),{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=e=>d.value=e),title:"ç¼–è¾‘è¯å…¸"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Rt,[(0,o.bF)((0,n.R1)($.R7),{content:"å–æ¶ˆç¼–è¾‘",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:m},{default:(0,o.k6)(()=>[(0,o.eW)("å–æ¶ˆ")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"ç¡®è®¤ç¼–è¾‘ (å¿«æ·é”®: Enter)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:k},{default:(0,o.k6)(()=>[(0,o.eW)("ç¡®è®¤")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.US),{model:s.value},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"åç§°"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:s.value.title,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value.title=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å‰ç¼€"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:s.value.prefix,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value.prefix=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"åç¼€"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:s.value.suffix,"onUpdate:modelValue":t[2]||(t[2]=e=>s.value.suffix=e),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)(ja.kZ),{modelValue:v.value,"onUpdate:modelValue":t[7]||(t[7]=e=>v.value=e),title:"æ·»åŠ è¯å…¸"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",ht,[(0,o.bF)((0,n.R1)($.R7),{content:"å–æ¶ˆæ·»åŠ ",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:g},{default:(0,o.k6)(()=>[(0,o.eW)("Cancel")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"ç¡®è®¤æ·»åŠ  (å¿«æ·é”®: Enter)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:R},{default:(0,o.k6)(()=>[(0,o.eW)("ç¡®è®¤")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.US),{model:b},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"åç§°"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:b.title,"onUpdate:modelValue":t[4]||(t[4]=e=>b.title=e),onKeyup:(0,l.jR)(R,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å‰ç¼€"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:b.prefix,"onUpdate:modelValue":t[5]||(t[5]=e=>b.prefix=e),onKeyup:(0,l.jR)(R,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"åç¼€"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:b.suffix,"onUpdate:modelValue":t[6]||(t[6]=e=>b.suffix=e),onKeyup:(0,l.jR)(R,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const wt=_t;var Ft=wt;const Ct=async e=>{try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+`/llm/delete/${e}`,o=await A.A.delete(l,{headers:{Authorization:`Bearer ${a}`}});return o.data}catch(a){return console.error("åˆ é™¤LLMæœåŠ¡å‡ºé”™:",a),{code:1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}},Vt=async(e,a)=>{try{const t=localStorage.getItem("token"),l=localStorage.getItem("server_link"),o=l+`/llm/update/${e}`,n=await A.A.put(o,a,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.data}catch(t){return console.error("æ›´æ–°LLMæœåŠ¡å‡ºé”™:",t),{code:1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}},xt=async e=>{try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/llm/add",o={...e,endpoint:e.endpoint,api_key:e.api_key},n=await A.A.post(l,o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return n.data}catch(a){return console.error("æ·»åŠ LLMæœåŠ¡å‡ºé”™:",a),{code:1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}};var Wt=t(2933),St=t(2687);const Lt={class:"dialog-footer"};var Kt={__name:"LLMServiceSettingView",setup(e){const a=(0,i.Pj)(),t=e=>{null!=e&&2!==e.code||(a.dispatch("logout"),location.reload())},l=(0,n.KR)(!1),r=(0,n.Kh)([]),u=(0,n.KR)(!1),s=(0,n.KR)(!1),d=(0,n.KR)(null),c=(0,n.Kh)({id:null,name:"",provider:"",endpoint:"",model:"",api_key:"",description:"",is_default:!1}),p={name:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡åç§°",trigger:"blur"}],endpoint:[{required:!0,message:"è¯·è¾“å…¥APIç«¯ç‚¹",trigger:"blur"}],model:[{required:!0,message:"è¯·è¾“å…¥æ¨¡å‹åç§°",trigger:"blur"}],api_key:[{required:!0,message:"è¯·è¾“å…¥API Key",trigger:"blur"}]},m=(0,o.EW)(()=>s.value?"ç¼–è¾‘LLMæœåŠ¡":"æ·»åŠ LLMæœåŠ¡");(0,o.sV)(async()=>{await k()});const k=async()=>{l.value=!1;try{const e=await se();t(e),0===e.code&&r.splice(0,r.length,...e.data)}catch(e){(0,Ia.df)({title:"é”™è¯¯",message:"åŠ è½½æœåŠ¡åˆ—è¡¨å¤±è´¥",type:"error"})}finally{l.value=!0}},v=()=>{s.value=!1,y(),u.value=!0},f=e=>{s.value=!0,Object.assign(c,e),u.value=!0},b=async e=>{try{await Wt.s.confirm(`ç¡®è®¤åˆ é™¤æœåŠ¡ "${e.name}" å—ï¼Ÿ`,"åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®è®¤",cancelButtonText:"å–æ¶ˆ",type:"warning"});const a=await Ct(e.id);t(a),0===a.code&&((0,Ia.df)({title:"æˆåŠŸ",message:"æœåŠ¡åˆ é™¤æˆåŠŸ",type:"success"}),await k())}catch(a){"cancel"!==a&&(0,Ia.df)({title:"é”™è¯¯",message:"åˆ é™¤æœåŠ¡å¤±è´¥",type:"error"})}},g=async e=>{try{const a=await Vt(e.id,{is_default:!0});t(a),0===a.code&&((0,Ia.df)({title:"æˆåŠŸ",message:"é»˜è®¤æœåŠ¡è®¾ç½®æˆåŠŸ",type:"success"}),await k())}catch(a){(0,Ia.df)({title:"é”™è¯¯",message:"è®¾ç½®é»˜è®¤æœåŠ¡å¤±è´¥",type:"error"})}},y=()=>{Object.assign(c,{id:null,name:"",provider:"",endpoint:"",model:"",api_key:"",description:"",is_default:!1}),(0,o.dY)(()=>{d.value?.clearValidate()})},R=()=>{u.value=!1,y()},h=async()=>{if(d.value)try{let e;await d.value.validate(),(0,Ia.df)({title:"å¤„ç†ä¸­",message:(s.value?"æ›´æ–°":"æ·»åŠ ")+"æœåŠ¡ä¸­...",type:"info"}),e=s.value?await Vt(c.id,c):await xt(c),t(e),0===e.code&&((0,Ia.df)({title:"æˆåŠŸ",message:(s.value?"æ›´æ–°":"æ·»åŠ ")+"æœåŠ¡æˆåŠŸ",type:"success"}),u.value=!1,y(),await k())}catch(e){e.errors?re.nk.warning("è¯·å®Œå–„è¡¨å•ä¿¡æ¯"):(0,Ia.df)({title:"é”™è¯¯",message:(s.value?"æ›´æ–°":"æ·»åŠ ")+"æœåŠ¡å¤±è´¥",type:"error"})}};return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[l.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ua.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ua.bZ),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:v},{default:(0,o.k6)(()=>[(0,o.eW)("æ·»åŠ LLMæœåŠ¡")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(Ua.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.Up),{data:r,"empty-text":"æš‚æ— LLMæœåŠ¡é…ç½®"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.o8),{label:"æœåŠ¡åç§°",prop:"name"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æä¾›å•†",prop:"provider"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"APIç«¯ç‚¹",prop:"endpoint"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ¨¡å‹",prop:"model"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ˜¯å¦é»˜è®¤"},{default:(0,o.k6)(e=>[e.row.is_default?((0,o.uX)(),(0,o.Wv)((0,n.R1)(St.u),{key:0,type:"success"},{default:(0,o.k6)(()=>[(0,o.eW)("é»˜è®¤")]),_:1})):((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:1,type:"text",onClick:a=>g(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("è®¾ä¸ºé»˜è®¤")]),_:2},1032,["onClick"]))]),_:1}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æè¿°",prop:"description"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"åˆ›å»ºæ—¶é—´",prop:"created_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ“ä½œ"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:a=>f(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ç¼–è¾‘")]),_:2},1032,["onClick"]),(0,o.bF)((0,n.R1)(V.S2),{onClick:a=>b(e.row),type:"danger"},{default:(0,o.k6)(()=>[(0,o.eW)("åˆ é™¤")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ja.kZ),{modelValue:u.value,"onUpdate:modelValue":a[7]||(a[7]=e=>u.value=e),title:m.value},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Lt,[(0,o.bF)((0,n.R1)(V.S2),{onClick:R},{default:(0,o.k6)(()=>[(0,o.eW)("å–æ¶ˆ")]),_:1}),(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:h},{default:(0,o.k6)(()=>[(0,o.eW)("ç¡®è®¤")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.US),{model:c,rules:p,ref_key:"serviceFormRef",ref:d},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"æœåŠ¡åç§°",prop:"name"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:c.name,"onUpdate:modelValue":a[0]||(a[0]=e=>c.name=e),placeholder:"è¯·è¾“å…¥æœåŠ¡åç§°"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"æœåŠ¡æä¾›å•†"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:c.provider,"onUpdate:modelValue":a[1]||(a[1]=e=>c.provider=e),placeholder:"è¯·è¾“å…¥æœåŠ¡æä¾›å•†"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"APIç«¯ç‚¹",prop:"endpoint"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:c.endpoint,"onUpdate:modelValue":a[2]||(a[2]=e=>c.endpoint=e),placeholder:"è¯·è¾“å…¥APIç«¯ç‚¹URL"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"æ¨¡å‹åç§°",prop:"model"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:c.model,"onUpdate:modelValue":a[3]||(a[3]=e=>c.model=e),placeholder:"è¯·è¾“å…¥æ¨¡å‹åç§°"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"API Key",prop:"api_key"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:c.api_key,"onUpdate:modelValue":a[4]||(a[4]=e=>c.api_key=e),type:"password",placeholder:"è¯·è¾“å…¥API Key","show-password":""},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"æœåŠ¡æè¿°"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:c.description,"onUpdate:modelValue":a[5]||(a[5]=e=>c.description=e),type:"textarea",placeholder:"è¯·è¾“å…¥æœåŠ¡æè¿°",rows:3},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Pa.dI),{modelValue:c.is_default,"onUpdate:modelValue":a[6]||(a[6]=e=>c.is_default=e)},{default:(0,o.k6)(()=>[(0,o.eW)("è®¾ä¸ºé»˜è®¤æœåŠ¡")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])]),_:1}))}};const At=(0,m.A)(Kt,[["__scopeId","data-v-71c2e9f5"]]);var It=At;const Et=async e=>{try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+`/aiprompt/delete/${e}`,o=await A.A.delete(l,{headers:{Authorization:`Bearer ${a}`}});return o.data}catch(a){return console.error("åˆ é™¤AIæç¤ºè¯å‡ºé”™:",a),{code:1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}},Ut=async(e,a)=>{try{const t=localStorage.getItem("token"),l=localStorage.getItem("server_link"),o=l+`/aiprompt/update/${e}`,n=await A.A.put(o,a,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.data}catch(t){return console.error("æ›´æ–°AIæç¤ºè¯å‡ºé”™:",t),{code:1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}},Xt=async e=>{try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/aiprompt/add",o=await A.A.post(l,e,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){return console.error("æ·»åŠ AIæç¤ºè¯å‡ºé”™:",a),{code:1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}},$t={class:"dialog-footer"};var jt={__name:"AIPromptSettingView",setup(e){const a=(0,i.Pj)(),t=e=>{null!=e&&2!==e.code||(a.dispatch("logout"),location.reload())},l=(0,n.KR)(!1),r=(0,n.Kh)([]),u=(0,n.KR)(!1),s=(0,n.KR)(!1),d=(0,n.KR)(null),c=(0,n.Kh)({id:null,name:"",description:"",content:"",is_default:!1}),p={name:[{required:!0,message:"è¯·è¾“å…¥æç¤ºè¯åç§°",trigger:"blur"}],content:[{required:!0,message:"è¯·è¾“å…¥æç¤ºè¯å†…å®¹",trigger:"blur"}]},m=(0,o.EW)(()=>s.value?"ç¼–è¾‘AIæç¤ºè¯":"æ·»åŠ AIæç¤ºè¯"),k=e=>0!==e.user_id;(0,o.sV)(async()=>{await v()});const v=async()=>{l.value=!1;try{const e=await ie();t(e),0===e.code&&r.splice(0,r.length,...e.data)}catch(e){(0,Ia.df)({title:"é”™è¯¯",message:"åŠ è½½æç¤ºè¯åˆ—è¡¨å¤±è´¥",type:"error"})}finally{l.value=!0}},f=()=>{s.value=!1,R(),u.value=!0},b=e=>{k(e)?(s.value=!0,Object.assign(c,e),u.value=!0):re.nk.warning("ç³»ç»Ÿé»˜è®¤æç¤ºè¯ä¸å¯ç¼–è¾‘")},g=async e=>{if(k(e))try{await Wt.s.confirm(`ç¡®è®¤åˆ é™¤æç¤ºè¯ "${e.name}" å—ï¼Ÿ`,"åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®è®¤",cancelButtonText:"å–æ¶ˆ",type:"warning"});const a=await Et(e.id);t(a),0===a.code&&((0,Ia.df)({title:"æˆåŠŸ",message:"æç¤ºè¯åˆ é™¤æˆåŠŸ",type:"success"}),await v())}catch(a){"cancel"!==a&&(0,Ia.df)({title:"é”™è¯¯",message:"åˆ é™¤æç¤ºè¯å¤±è´¥",type:"error"})}else re.nk.warning("ç³»ç»Ÿé»˜è®¤æç¤ºè¯ä¸å¯åˆ é™¤")},y=async e=>{try{const a=await Ut(e.id,{is_default:!0});t(a),0===a.code&&((0,Ia.df)({title:"æˆåŠŸ",message:"é»˜è®¤æç¤ºè¯è®¾ç½®æˆåŠŸ",type:"success"}),await v())}catch(a){(0,Ia.df)({title:"é”™è¯¯",message:"è®¾ç½®é»˜è®¤æç¤ºè¯å¤±è´¥",type:"error"})}},R=()=>{Object.assign(c,{id:null,name:"",description:"",content:"",is_default:!1}),(0,o.dY)(()=>{d.value?.clearValidate()})},h=()=>{u.value=!1,R()},_=async()=>{if(d.value)try{let e;await d.value.validate(),(0,Ia.df)({title:"å¤„ç†ä¸­",message:(s.value?"æ›´æ–°":"æ·»åŠ ")+"æç¤ºè¯ä¸­...",type:"info"}),e=s.value?await Ut(c.id,c):await Xt(c),t(e),0===e.code&&((0,Ia.df)({title:"æˆåŠŸ",message:(s.value?"æ›´æ–°":"æ·»åŠ ")+"æç¤ºè¯æˆåŠŸ",type:"success"}),u.value=!1,R(),await v())}catch(e){e.errors?re.nk.warning("è¯·å®Œå–„è¡¨å•ä¿¡æ¯"):(0,Ia.df)({title:"é”™è¯¯",message:(s.value?"æ›´æ–°":"æ·»åŠ ")+"æç¤ºè¯å¤±è´¥",type:"error"})}};return(e,a)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[l.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Ua.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Ua.bZ),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:f},{default:(0,o.k6)(()=>[(0,o.eW)("æ·»åŠ AIæç¤ºè¯")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(Ua.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.Up),{data:r,"empty-text":"æš‚æ— AIæç¤ºè¯é…ç½®"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Xa.o8),{label:"æç¤ºè¯åç§°",prop:"name"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æè¿°",prop:"description"}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ˜¯å¦é»˜è®¤"},{default:(0,o.k6)(e=>[e.row.is_default?((0,o.uX)(),(0,o.Wv)((0,n.R1)(St.u),{key:0,type:"success"},{default:(0,o.k6)(()=>[(0,o.eW)("é»˜è®¤")]),_:1})):((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:1,type:"text",onClick:a=>y(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("è®¾ä¸ºé»˜è®¤")]),_:2},1032,["onClick"]))]),_:1}),(0,o.bF)((0,n.R1)(Xa.o8),{label:"åˆ›å»ºæ—¶é—´",prop:"created_at",formatter:(0,n.R1)(Ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(Xa.o8),{label:"æ“ä½œ"},{default:(0,o.k6)(e=>[k(e.row)?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:0,onClick:a=>b(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ç¼–è¾‘")]),_:2},1032,["onClick"])):(0,o.Q3)("",!0),k(e.row)?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.S2),{key:1,onClick:a=>g(e.row),type:"danger"},{default:(0,o.k6)(()=>[(0,o.eW)("åˆ é™¤")]),_:2},1032,["onClick"])):(0,o.Q3)("",!0)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ja.kZ),{modelValue:u.value,"onUpdate:modelValue":a[4]||(a[4]=e=>u.value=e),title:m.value,width:"800px"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",$t,[(0,o.bF)((0,n.R1)(V.S2),{onClick:h},{default:(0,o.k6)(()=>[(0,o.eW)("å–æ¶ˆ")]),_:1}),(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:_},{default:(0,o.k6)(()=>[(0,o.eW)("ç¡®è®¤")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.US),{model:c,rules:p,ref_key:"promptFormRef",ref:d},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"æç¤ºè¯åç§°",prop:"name"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:c.name,"onUpdate:modelValue":a[0]||(a[0]=e=>c.name=e),placeholder:"è¯·è¾“å…¥æç¤ºè¯åç§°"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"æç¤ºè¯æè¿°"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:c.description,"onUpdate:modelValue":a[1]||(a[1]=e=>c.description=e),placeholder:"è¯·è¾“å…¥æç¤ºè¯æè¿°ï¼ˆå¯é€‰ï¼‰"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"æç¤ºè¯å†…å®¹",prop:"content"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:c.content,"onUpdate:modelValue":a[2]||(a[2]=e=>c.content=e),type:"textarea",placeholder:"è¯·è¾“å…¥æç¤ºè¯å†…å®¹",rows:8,resize:"vertical"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Pa.dI),{modelValue:c.is_default,"onUpdate:modelValue":a[3]||(a[3]=e=>c.is_default=e)},{default:(0,o.k6)(()=>[(0,o.eW)("è®¾ä¸ºé»˜è®¤æç¤ºè¯")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])]),_:1}))}};const Pt=(0,m.A)(jt,[["__scopeId","data-v-93a92fd2"]]);var Tt=Pt,zt=t(4418),Qt=t(7962),Mt=t(2357),Bt=t(5558),qt=t(3275);async function Ot(e,a,t,l,o,n,r,i,u,s){try{const d=localStorage.getItem("token"),c=localStorage.getItem("server_link"),p=c+"/user/update",m=await A.A.put(p,{username:e,email:a,avatar:t,current_book_id:l,daily_count:o,times_counted_as_known:n,review_frequency_formula:r,llm_service_provider:i,llm_token:u,llm_model:s},{headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});return console.log("æ›´æ–°ç”¨æˆ·å“åº”:",m.data),m.data}catch(d){return console.error("æ›´æ–°ç”¨æˆ·æ—¶å‘ç”Ÿé”™è¯¯:",d),d.response&&(console.error("é”™è¯¯å“åº”æ•°æ®:",d.response.data),console.error("é”™è¯¯çŠ¶æ€ç :",d.response.status)),d.response?d.response.data:{code:1,message:"ç½‘ç»œé”™è¯¯"}}}const Dt={class:"dialog-footer"};var Zt={__name:"UserSettingView",setup(e){let a=(0,n.Kh)([]),t=(0,n.Kh)({id:0,title:""});const l=e=>{for(let l of a)if(l.id===e){t.id=l.id,t.title=l.title,r.currentBookID=l.id;break}};let r=(0,n.Kh)({username:"",email:"",avatar:"",currentBookID:0,dailyCount:0,timesCountedAsKnown:0,reviewFrequencyFormula:""});const u=(0,i.Pj)(),s=(0,n.KR)(!1),d=e=>{null!=e&&2!==e.code||(u.dispatch("logout"),location.reload())};(0,o.sV)(async()=>{s.value=!1;const e=await we();d(e),r.username=e.username,r.email=e.email,r.avatar=e.avatar,r.currentBookID=e.current_book_id,r.dailyCount=e.daily_count,r.timesCountedAsKnown=e.times_counted_as_known,r.reviewFrequencyFormula=e.review_frequency_formula;const l=await Qa(1e8,1);d(l),a=l.data;for(let o of a)if(o.id===r.currentBookID){t.id=o.id,t.title=o.title;break}s.value=!0});const c=(0,n.KR)(!1),p=()=>{c.value=!0},m=()=>{c.value=!1,location.reload()},k=async()=>{c.value=!1,s.value=!1;const e=await Ot(r.username,r.email,r.avatar,+r.currentBookID,r.dailyCount,r.timesCountedAsKnown,r.reviewFrequencyFormula);if(e&&0===e.code)d(e),s.value=!0,re.nk.success("ç”¨æˆ·ä¿¡æ¯æ›´æ–°æˆåŠŸ"),setTimeout(()=>{location.reload()},1e3);else{c.value=!0,s.value=!0;const a=e?e.message:"æ›´æ–°å¤±è´¥ï¼Œè¯·é‡è¯•";re.nk.error(a)}},{isDark:v}=R();return(e,i)=>((0,o.uX)(),(0,o.Wv)(K,null,{default:(0,o.k6)(()=>[s.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(C.Ik),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(zt.S2),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Qt.uD),{span:9},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Mt.zv),{size:120,src:(0,n.R1)(r).avatar},null,8,["src"])]),_:1}),(0,o.bF)((0,n.R1)(Qt.uD),{span:16},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(zt.S2),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Qt.uD),{span:12},{default:(0,o.k6)(()=>[(0,o.Lk)("h2",null,(0,F.v_)((0,n.R1)(r).username),1)]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(zt.S2),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Qt.uD),{span:24},{default:(0,o.k6)(()=>[(0,o.Lk)("p",null,[(0,o.eW)("Email: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).email),1)]),(0,o.Lk)("p",null,[(0,o.eW)("å½“å‰æ‰€å­¦è¯­ä¹¦: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(t).title),1)]),(0,o.Lk)("p",null,[(0,o.eW)("æ¯æ—¥æ–°å•è¯æ•°: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).dailyCount),1)]),(0,o.Lk)("p",null,[(0,o.eW)("å¤ä¹ é¢‘ç‡å…¬å¼: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).reviewFrequencyFormula),1)]),(0,o.Lk)("p",null,[(0,o.eW)("ç‚¹å‡»å‡ æ¬¡â€œè®¤è¯†â€ç®—å­¦ä¼š: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).timesCountedAsKnown),1)]),(0,o.Lk)("p",null,[(0,o.eW)(" ä¸»é¢˜: "),(0,o.bF)((0,n.R1)(Bt.qi),{modelValue:(0,n.R1)(v),"onUpdate:modelValue":i[0]||(i[0]=e=>(0,n.i9)(v)?v.value=e:null),class:"mt-2",style:{"margin-left":"24px"},"inline-prompt":"","active-icon":(0,n.R1)(M.Il7),"inactive-icon":(0,n.R1)(M.AX$)},null,8,["modelValue","active-icon","inactive-icon"])]),(0,o.bF)((0,n.R1)(V.S2),{onClick:i[1]||(i[1]=e=>p())},{default:(0,o.k6)(()=>[(0,o.eW)("ä¿®æ”¹")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ja.kZ),{modelValue:c.value,"onUpdate:modelValue":i[8]||(i[8]=e=>c.value=e),title:"ä¿®æ”¹è®¾ç½®"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Dt,[(0,o.bF)((0,n.R1)(V.S2),{onClick:m},{default:(0,o.k6)(()=>[(0,o.eW)("å–æ¶ˆ")]),_:1}),(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:k},{default:(0,o.k6)(()=>[(0,o.eW)("ç¡®è®¤")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.US),{model:(0,n.R1)(r)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"ç”¨æˆ·å"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:(0,n.R1)(r).username,"onUpdate:modelValue":i[2]||(i[2]=e=>(0,n.R1)(r).username=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"é‚®ç®±"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:(0,n.R1)(r).email,"onUpdate:modelValue":i[3]||(i[3]=e=>(0,n.R1)(r).email=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å¤´åƒ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:(0,n.R1)(r).avatar,"onUpdate:modelValue":i[4]||(i[4]=e=>(0,n.R1)(r).avatar=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å½“å‰æ‰€å­¦è¯ä¹¦"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(qt.dW),{"split-button":"",type:"primary"},{dropdown:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(qt.Iy),null,{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,n.R1)(a),e=>((0,o.uX)(),(0,o.Wv)((0,n.R1)(qt.c6),{key:e.id,onClick:a=>l(e.id)},{default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)(e.title),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)((0,n.R1)(t).title||"é€‰æ‹©è¯ä¹¦")+" ",1)]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"æ¯æ—¥æ–°å•è¯æ•°"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(nt.lq),{modelValue:(0,n.R1)(r).dailyCount,"onUpdate:modelValue":i[5]||(i[5]=e=>(0,n.R1)(r).dailyCount=e),min:1,max:1e3},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"å¤ä¹ é¢‘ç‡å…¬å¼"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:(0,n.R1)(r).reviewFrequencyFormula,"onUpdate:modelValue":i[6]||(i[6]=e=>(0,n.R1)(r).reviewFrequencyFormula=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(ya.xE),{label:"ç‚¹å‡»å‡ æ¬¡â€œè®¤è¯†â€ç®—å­¦ä¼š"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(nt.lq),{modelValue:(0,n.R1)(r).timesCountedAsKnown,"onUpdate:modelValue":i[7]||(i[7]=e=>(0,n.R1)(r).timesCountedAsKnown=e),min:1,max:1e3},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const Ht=Zt;var Yt=Ht;const Jt=[{path:"/setting",name:"setting",redirect:"/setting/book",meta:{requiresAuth:!0},children:[{path:"book",name:"book_setting",component:ot},{path:"word",name:"word_setting",component:vt,props:!0},{path:"dictionary",name:"dictionary_setting",component:Ft},{path:"llm",name:"llm_setting",component:It},{path:"aiprompt",name:"aiprompt_setting",component:Tt},{path:"user",name:"user_setting",component:Yt}]}];var Nt=Jt,Gt=t(6810);const el=e=>((0,o.Qi)("data-v-0a902078"),e=e(),(0,o.jt)(),e),al={class:"query-container"},tl={class:"search-section"},ll={key:0,class:"results-section"},ol={class:"card-header"},nl={class:"word-title"},rl={class:"header-actions"},il={key:0,class:"loading-container"},ul=["innerHTML"],sl={key:2,class:"no-meaning"},dl={key:1,class:"welcome-section"},cl=el(()=>(0,o.Lk)("h2",null,"å•è¯æŸ¥è¯¢å·¥å…·",-1)),pl=el(()=>(0,o.Lk)("p",null,"åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥è¦æŸ¥è¯¢çš„å•è¯ï¼ŒæŒ‰å›è½¦æˆ–ç‚¹å‡»æœç´¢æŒ‰é’®è¿›è¡ŒæŸ¥è¯¢",-1)),ml=el(()=>(0,o.Lk)("p",{class:"shortcuts"},"å¿«æ·é”®è¯´æ˜ï¼š",-1)),kl=el(()=>(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,[(0,o.Lk)("strong",null,"Enter"),(0,o.eW)(" - æœç´¢å•è¯")]),(0,o.Lk)("li",null,[(0,o.Lk)("strong",null,"S"),(0,o.eW)(" - æ‰“å¼€è¯å…¸æœç´¢")]),(0,o.Lk)("li",null,[(0,o.Lk)("strong",null,"æ•°å­—é”® 1-9"),(0,o.eW)(" - åœ¨å¯¹åº”è¯å…¸ä¸­æœç´¢")])],-1)),vl={class:"dictionary-list"},fl=["onClick"],bl={key:0,class:"wiktionary-fullscreen-modal"},gl={class:"wiktionary-fullscreen-content"},yl=["src"],Rl={class:"dialog-title"},hl={class:"book-radio-content"},_l={class:"dialog-footer"};var wl={__name:"QueryView",setup(e){const a=(0,n.KR)(""),t=(0,n.KR)(""),r=(0,n.KR)(""),i=(0,n.KR)(!1),u=(0,n.KR)(!1),s=(0,n.KR)(!1),d=(0,n.KR)(!1),c=(0,n.KR)(!1),p=(0,n.KR)(!1),m=(0,n.KR)(!1),k=(0,n.KR)(""),v=(0,n.KR)([]),f=(0,n.KR)([]),b=(0,n.KR)(null),g=(0,n.KR)({});(0,o.sV)(async()=>{const e=await Fe();e&&e.data&&(v.value=e.data);const a=await Qa(1e8,1);a&&a.data&&(f.value=a.data)});const y=e=>{if(e.target.classList.contains("audio-btn")){const a=e.target.getAttribute("data-audio");a&&L(a)}},R=async()=>{if(a.value.trim()){t.value=a.value.trim(),i.value=!0,u.value=!0;try{const e=await Le(t.value);e.success?r.value=Ke(e):r.value="Sorry, the word was not found. Please check the spelling and try again."}catch(e){console.error("Failed to fetch word definition:",e),r.value="Search failed. Please check your network connection and try again."}finally{i.value=!1}}},h=e=>{if(!d.value)if("Enter"===e.key)R();else if("s"===e.key||"S"===e.key)u.value&&(s.value=!s.value);else if("0123456789".includes(e.key)){let a=+e.key;if(0===a&&(a=10),a<=v.value.length&&u.value){const e=v.value[a-1];window.open(e.prefix+(t.value||"")+(e.suffix||""),"_blank")}}},_=async()=>{if(a.value.trim()&&(b.value=null,g.value={},c.value=!0,f.value.length>0)){const t=a.value.trim();for(const a of f.value)try{const e=await We(t,a.id),l=e&&0===e.code&&e.data.exists;g.value[a.id]=l,l&&!b.value&&(b.value=a.id)}catch(e){console.error(`æ£€æŸ¥è¯ä¹¦ ${a.title} å¤±è´¥:`,e),g.value[a.id]=!1}}},w=()=>!!b.value&&!!g.value[b.value],x=async()=>{if(b.value&&a.value.trim())try{const e=await ut(b.value,a.value.trim(),r.value||"æš‚æ— é‡Šä¹‰","");if(e&&0===e.code)re.nk.success("æ·»åŠ å•è¯æˆåŠŸ"),c.value=!1;else{const a=e?e.message:"æ·»åŠ å¤±è´¥ï¼Œè¯·é‡è¯•";re.nk.error(a)}}catch(e){console.error("æ·»åŠ å•è¯å¤±è´¥:",e),re.nk.error("æ·»åŠ å•è¯å¤±è´¥ï¼Œè¯·é‡è¯•")}},W=()=>{u.value&&t.value&&(p.value=!p.value)},S=e=>{const a=e.prefix+(t.value||"")+(e.suffix||""),l=e.title.toLowerCase().includes("wiktionary"),o=window.innerWidth<=768;l&&o?(k.value=a,m.value=!0,s.value=!1):window.open(a,"_blank")};window.openWiktionaryFullscreen=e=>{m.value=!0,k.value=e};const L=e=>{try{const a=new Audio(e);a.play().catch(e=>{console.error("éŸ³é¢‘æ’­æ”¾å¤±è´¥:",e)})}catch(a){console.error("éŸ³é¢‘åŠ è½½å¤±è´¥:",a)}};return(e,d)=>{const L=(0,o.g2)("el-skeleton");return(0,o.uX)(),(0,o.Wv)(K,{onKeydown:h,tabindex:"0"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",al,[(0,o.Lk)("div",tl,[(0,o.bF)((0,n.R1)(Q.WK),{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=e=>a.value=e),placeholder:"è¾“å…¥è¦æŸ¥è¯¢çš„å•è¯",size:"large",onKeyup:(0,l.jR)(R,["enter"]),class:"search-input"},{append:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{onClick:R,icon:(0,n.R1)(M.vji)},{default:(0,o.k6)(()=>[(0,o.eW)("æœç´¢")]),_:1},8,["icon"])]),_:1},8,["modelValue"])]),u.value?((0,o.uX)(),(0,o.CE)("div",ll,[(0,o.bF)((0,n.R1)(C.Ik),{class:"word-card"},{header:(0,o.k6)(()=>[(0,o.Lk)("div",ol,[(0,o.Lk)("span",nl,(0,F.v_)(t.value),1),(0,o.Lk)("div",rl,[(0,o.bF)((0,n.R1)($.R7),{content:"ä½¿ç”¨LLMæœç´¢å•è¯",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{circle:"",onClick:W},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(j.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.wUE))]),_:1})]),_:1})]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"æ”¶è—å•è¯",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{circle:"",onClick:_,disabled:!a.value.trim(),class:"favorite-btn"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(j.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.FEq))]),_:1})]),_:1},8,["disabled"])]),_:1}),(0,o.bF)((0,n.R1)($.R7),{content:"æœç´¢è¯å…¸ (å¿«æ·é”®: S)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(V.S2),{circle:"",onClick:d[1]||(d[1]=e=>s.value=!s.value)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(j.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.vji))]),_:1})]),_:1})]),_:1})])])]),default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"word-content",onClick:y},[i.value?((0,o.uX)(),(0,o.CE)("div",il,[(0,o.bF)(L,{rows:5,animated:""})])):r.value?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"meaning",innerHTML:r.value},null,8,ul)):((0,o.uX)(),(0,o.CE)("div",sl,"è¯¥å•è¯æš‚æ— é‡Šä¹‰"))])]),_:1})])):((0,o.uX)(),(0,o.CE)("div",dl,[(0,o.bF)((0,n.R1)(C.Ik),{class:"welcome-card"},{default:(0,o.k6)(()=>[cl,pl,ml,kl]),_:1})]))]),(0,o.bF)((0,n.R1)(P.pw),{modelValue:s.value,"onUpdate:modelValue":d[2]||(d[2]=e=>s.value=e),title:"è¯å…¸æœç´¢","with-header":!0},{default:(0,o.k6)(()=>[(0,o.Lk)("div",vl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(v.value,(e,a)=>((0,o.uX)(),(0,o.CE)("p",{key:e.id,class:"dictionary-item"},[(0,o.Lk)("a",{href:"#",onClick:(0,l.D$)(a=>S(e),["prevent"]),class:(0,F.C4)({"wiktionary-link":e.title.toLowerCase().includes("wiktionary")})},[(0,o.Lk)("strong",null,(0,F.v_)(a+1)+". "+(0,F.v_)(e.title),1)],10,fl),(0,o.bF)((0,n.R1)(T.fR))]))),128))])]),_:1},8,["modelValue"]),m.value?((0,o.uX)(),(0,o.CE)("div",bl,[(0,o.Lk)("div",gl,[(0,o.Lk)("button",{class:"close-fullscreen-btn",onClick:d[3]||(d[3]=e=>m.value=!1)},[(0,o.bF)((0,n.R1)(j.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.bm))]),_:1})]),(0,o.Lk)("iframe",{src:k.value,class:"wiktionary-fullscreen-iframe",loading:"lazy"},null,8,yl)])])):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ja.kZ),{modelValue:c.value,"onUpdate:modelValue":d[6]||(d[6]=e=>c.value=e),title:"æ”¶è—å•è¯",width:"500px"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",_l,[(0,o.bF)((0,n.R1)(V.S2),{onClick:d[5]||(d[5]=e=>c.value=!1)},{default:(0,o.k6)(()=>[(0,o.eW)("å–æ¶ˆ")]),_:1}),(0,o.bF)((0,n.R1)(V.S2),{type:"primary",onClick:x,disabled:!b.value,class:(0,F.C4)({"warning-btn":b.value&&w()})},{default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)(b.value&&w()?"æ— éœ€é‡å¤æ·»åŠ ":"ç¡®è®¤æ·»åŠ "),1)]),_:1},8,["disabled","class"])])]),default:(0,o.k6)(()=>[(0,o.Lk)("div",Rl,[(0,o.eW)('å°†å•è¯ "'),(0,o.Lk)("strong",null,(0,F.v_)(a.value),1),(0,o.eW)('" æ·»åŠ åˆ°è¯ä¹¦')]),(0,o.bF)((0,n.R1)(ya.US),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ya.xE),{label:"é€‰æ‹©è¯ä¹¦"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Gt.MQ),{modelValue:b.value,"onUpdate:modelValue":d[4]||(d[4]=e=>b.value=e),class:"book-radio-group"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(f.value,e=>((0,o.uX)(),(0,o.Wv)((0,n.R1)(Gt.ll),{key:e.id,label:e.id,class:"book-radio"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",hl,[(0,o.Lk)("span",null,(0,F.v_)(e.title),1),g.value[e.id]?((0,o.uX)(),(0,o.Wv)((0,n.R1)(St.u),{key:0,type:"success",size:"small",class:"exists-tag"},{default:(0,o.k6)(()=>[(0,o.eW)(" å·²å­˜åœ¨ ")]),_:1})):(0,o.Q3)("",!0)])]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),p.value?((0,o.uX)(),(0,o.Wv)(_e,{key:1,"current-word":t.value,onClose:d[7]||(d[7]=e=>p.value=!1)},null,8,["current-word"])):(0,o.Q3)("",!0)]),_:1})}}};const Fl=(0,m.A)(wl,[["__scopeId","data-v-0a902078"]]);var Cl=Fl;const Vl=e=>((0,o.Qi)("data-v-3a93085f"),e=e(),(0,o.jt)(),e),xl={id:"app"},Wl={class:"container"},Sl=Vl(()=>(0,o.Lk)("h1",null,"å½•éŸ³æœº",-1)),Ll={class:"controls"},Kl=["src"];function Al(e,a,t,n,r,i){return(0,o.uX)(),(0,o.CE)("div",xl,[(0,o.Lk)("div",Wl,[Sl,(0,o.Lk)("div",Ll,[(0,o.Lk)("button",{class:"btn",onClick:a[0]||(a[0]=(...e)=>i.startRecording&&i.startRecording(...e))},"å¼€å§‹å½•éŸ³"),(0,o.Lk)("button",{class:"btn",onClick:a[1]||(a[1]=(...e)=>i.stopRecording&&i.stopRecording(...e))},"åœæ­¢å½•éŸ³"),(0,o.bo)((0,o.Lk)("input",{class:"input",type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>r.duration=e),placeholder:"è‡ªåŠ¨åœæ­¢æ—¶é—´ï¼ˆç§’ï¼‰"},null,512),[[l.Jo,r.duration]])]),r.countdown>0?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,class:"input","onUpdate:modelValue":a[3]||(a[3]=e=>r.countdown=e),placeholder:"å‰©ä½™æ—¶é—´",readonly:""},null,512)),[[l.Jo,r.countdown]]):(0,o.Q3)("",!0),r.audioUrl?((0,o.uX)(),(0,o.CE)("audio",{key:1,src:r.audioUrl,controls:""},null,8,Kl)):(0,o.Q3)("",!0)])])}t(4603),t(7566),t(8721);var Il={data(){return{mediaRecorder:null,audioChunks:[],audioUrl:null,countdown:0,countdownInterval:null,duration:45}},methods:{async startRecording(){try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(e),this.audioChunks=[],this.mediaRecorder.ondataavailable=e=>{this.audioChunks.push(e.data)},this.mediaRecorder.start(),this.startCountdown(this.duration)}catch(e){console.error("Error accessing audio",e)}},stopRecording(){this.mediaRecorder.stop(),this.mediaRecorder.onstop=()=>{const e=new Blob(this.audioChunks);this.audioUrl=URL.createObjectURL(e)},this.stopCountdown()},startCountdown(e){this.countdown=e,this.countdownInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&this.stopRecording()},1e3)},stopCountdown(){clearInterval(this.countdownInterval),this.countdown=0}}};const El=(0,m.A)(Il,[["render",Al],["__scopeId","data-v-3a93085f"]]);var Ul=El;const Xl=[{path:"/tool",name:"tool",children:[{path:"query",name:"query",component:Cl},{path:"record",name:"record",component:Ul}]}];var $l=Xl;const jl=[{path:"/",name:"home",redirect:"/word"},{path:"/404",name:"404",redirect:"/word"},{path:"/:pathMatch(.*)*",redirect:"/404"}],Pl=(0,u.aE)({history:(0,u.Bt)(),routes:[...ga,...Aa,...Nt,...$l,...jl]});var Tl=Pl,zl={state:{isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token")||""},mutations:{setServerLink(e,a){localStorage.setItem("server_link",a)},setAuth(e,a){e.isAuthenticated=a},setToken(e,a){e.token=a,localStorage.setItem("token",a)},logout(e){e.isAuthenticated=!1,e.token=null,localStorage.removeItem("book_id"),localStorage.removeItem("server_link"),localStorage.removeItem("token")}},actions:{async register(e,{serverLink:a,username:t,email:l,avatar:o,password:n,confirm_password:r}){try{const e=await A.A.post(a+"/user/register",{username:t,email:l,avatar:o,password:n,confirm_password:r}),i=e.data;return 0===i.code||i.message}catch(i){return"å‘ç”Ÿäº†æœªçŸ¥é”™è¯¯, æ³¨å†Œå¤±è´¥"}},async login({commit:e},{serverLink:a,username:t,password:l}){try{const o=await A.A.post(a+"/user/login",{username:t,password:l}),n=o.data;return 0===n.code?(e("setServerLink",a),e("setAuth",!0),e("setToken",n.data.token),!0):n.message}catch(o){return"ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥é“¾æ¥æ˜¯å¦æ­£ç¡®ï¼Œåå°æœåŠ¡æ˜¯å¦å¼€å¯"}},logout({commit:e}){e("logout")}},getters:{isAuthenticated:e=>e.isAuthenticated}};const Ql=(0,i.y$)({modules:{user:zl}});var Ml=Ql;const Bl=(0,l.Ef)(w);Bl.use(Ml),Tl.beforeEach((e,a,t)=>{const l=e.meta.requiresAuth;l&&!Ml.state.user.isAuthenticated?t("/login"):t()}),Bl.use(Tl),Bl.mount("#app")}},a={};function t(l){var o=a[l];if(void 0!==o)return o.exports;var n=a[l]={id:l,loaded:!1,exports:{}};return e[l].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}t.m=e,function(){var e=[];t.O=function(a,l,o,n){if(!l){var r=1/0;for(d=0;d<e.length;d++){l=e[d][0],o=e[d][1],n=e[d][2];for(var i=!0,u=0;u<l.length;u++)(!1&n||r>=n)&&Object.keys(t.O).every(function(e){return t.O[e](l[u])})?l.splice(u--,1):(i=!1,n<r&&(r=n));if(i){e.splice(d--,1);var s=o();void 0!==s&&(a=s)}}return a}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,o,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var o,n,r=l[0],i=l[1],u=l[2],s=0;if(r.some(function(a){return 0!==e[a]})){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(u)var d=u(t)}for(a&&a(l);s<r.length;s++)n=r[s],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},l=self["webpackChunkspeak_sphere"]=self["webpackChunkspeak_sphere"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],function(){return t(4952)});l=t.O(l)})();
//# sourceMappingURL=app.7bfe316b.js.map