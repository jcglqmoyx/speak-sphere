(function(){"use strict";var e={6891:function(e,a,t){var l=t(5130),o=t(6768),n=(t(1397),t(1862),t(144)),r=(t(4188),t(4975)),u=(t(4114),t(782)),i=t(1387),d={__name:"LoginAndLogoutMenuItem",setup(e){const a=(0,u.Pj)(),t=(0,i.rd)(),l=async()=>{await t.push({name:"login"})},d=async()=>{await a.dispatch("logout"),await t.push({name:"login"})};return(e,t)=>(0,n.R1)(a).state.user.isAuthenticated?((0,o.uX)(),(0,o.Wv)((0,n.R1)(r.ct),{key:0,index:"4",onClick:d},{default:(0,o.k6)(()=>[(0,o.eW)("ÈÄÄÂá∫ÁôªÂΩï")]),_:1})):((0,o.uX)(),(0,o.Wv)((0,n.R1)(r.ct),{key:1,index:"4",onClick:l},{default:(0,o.k6)(()=>[(0,o.eW)("ÁôªÂΩï")]),_:1}))}};const s=d;var c=s,m={__name:"NavBar",setup(e){const a=(0,n.KR)("4"),t=(0,u.Pj)();t.state.user.isAuthenticated&&(a.value="1");const l=()=>{window.open("https://www.zhihu.com/question/309418216/answer/1965169328514109501","_blank")},i=()=>{window.open("https://stackedit.io/app#","_blank")};return(e,t)=>{const u=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.Wv)((0,n.R1)(r.lj),{"default-active":a.value,class:"el-menu-demo",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{to:{name:"word"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"1"},{title:(0,o.k6)(()=>[(0,o.eW)("ÂçïËØç")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.$b),{index:"2"},{title:(0,o.k6)(()=>[(0,o.eW)("ËÆæÁΩÆ")]),default:(0,o.k6)(()=>[(0,o.bF)(u,{to:{name:"book_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-1"},{default:(0,o.k6)(()=>[(0,o.eW)("ËØç‰π¶ËÆæÁΩÆ")]),_:1})]),_:1}),(0,o.bF)(u,{to:{name:"dictionary_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-2"},{default:(0,o.k6)(()=>[(0,o.eW)("ËØçÂÖ∏ËÆæÁΩÆ")]),_:1})]),_:1}),(0,o.bF)(u,{to:{name:"user_setting"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"2-3"},{default:(0,o.k6)(()=>[(0,o.eW)("Áî®Êà∑ËÆæÁΩÆ")]),_:1})]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.$b),{index:"3"},{title:(0,o.k6)(()=>[(0,o.eW)("Â∑•ÂÖ∑")]),default:(0,o.k6)(()=>[(0,o.bF)(u,{to:{name:"record"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"3-1"},{default:(0,o.k6)(()=>[(0,o.eW)(" Âè£ËØ≠ÂΩïÈü≥ ")]),_:1})]),_:1}),(0,o.bF)(u,{to:{name:"query"}},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(r.ct),{index:"3-2"},{title:(0,o.k6)(()=>[(0,o.eW)("Êü•ËØ¢ÂçïËØç")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.ct),{index:"3-3",onClick:i},{default:(0,o.k6)(()=>[(0,o.eW)(" Âú®Á∫øMarkdownÊ∏≤Êüì ")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(r.ct),{index:"4",onClick:l},{default:(0,o.k6)(()=>[(0,o.eW)(" Â∏ÆÂä© ")]),_:1}),(0,o.bF)(c)]),_:1},8,["default-active"])}}},v=t(1241);const p=(0,v.A)(m,[["__scopeId","data-v-0bc38be5"]]);var k=p,f=t(7383),b=t(153);const R=()=>{const e=(0,f.C6J)({storageKey:"speak-sphere-theme",valueDark:"dark",valueLight:"light"}),a=(0,b.eY)(e),t=()=>{const a=localStorage.getItem("speak-sphere-theme");a||(e.value=window.matchMedia("(prefers-color-scheme: dark)").matches)};return{isDark:e,toggleDark:a,initTheme:t}};let g=null;const y=()=>(g||(g=R(),g.initTheme()),g);var _={__name:"App",setup(e){return y(),(e,a)=>{const t=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(k),(0,o.bF)(t)],64)}}};const h=_;var w=h,F=t(4232),V=t(683),S=t(1702);const C={class:"content-area"};function W(e,a){return(0,o.uX)(),(0,o.CE)("div",C,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const K={},x=(0,v.A)(K,[["render",W],["__scopeId","data-v-6a9f74f6"]]);var L=x,E=t(4373);const A={class:"buttons"};var I={__name:"WordModuleView",setup(e){const a=(0,n.KR)(""),t=(0,n.KR)(!1);(0,o.sV)(async()=>{t.value=!1;const e="https://api.unsplash.com/photos/random?client_id=dow523p27APOI8KgcFO0XXCZ2GUv_E1Xhf6iJ0z4XDA";let l=localStorage.getItem("homepage_image_url");null==l&&await E.A.get(e).then(e=>{l=e.data.urls.regular,localStorage.setItem("homepage_image_url",l)}).catch(e=>{console.error("Error fetching image:",e)}),a.value=l,t.value=!0});const l=(0,i.rd)(),r=()=>{l.push("/review")},u=()=>{l.push("/learn")};return(e,l)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)(()=>[t.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.Ik),{key:0,class:"card"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"image-wrapper",style:(0,F.Tr)({backgroundImage:"url("+a.value+")"})},[(0,o.Lk)("div",A,[(0,o.bF)((0,n.R1)(S.S2),{text:"",class:"button",onClick:r},{default:(0,o.k6)(()=>[(0,o.eW)("Review")]),_:1}),(0,o.bF)((0,n.R1)(S.S2),{text:"",class:"button",onClick:u},{default:(0,o.k6)(()=>[(0,o.eW)("Learn")]),_:1})])],4)]),_:1})):(0,o.Q3)("",!0)]),_:1}))}};const U=(0,v.A)(I,[["__scopeId","data-v-0c9500c2"]]);var j=U,X=t(5812),$=t(813),T=t(9385),z=t(8165),M=t(2462),B=t(1040),P=t(7477),Q=t(1451),D=t.n(Q);async function q(){try{const e=localStorage.getItem("server_link"),a=localStorage.getItem("token"),t=e+"/user/profile",l=await E.A.get(t,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return console.log(l.data.data),l.data.data}catch(e){console.error("Error fetching data from backend:",e)}}async function O(){try{const e=localStorage.getItem("server_link"),a=localStorage.getItem("token"),t=await E.A.get(e+"/dictionary/list",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return t.data}catch(e){console.error("Error fetching data from backend:",e)}}async function Z(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=await E.A.get(a+"/entry/"+e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return l.data}catch(a){console.error("Error fetching data from backend:",a)}}async function H(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=await E.A.get(a+"/entry/count/"+e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return l.data}catch(a){console.error("Error fetching data from backend:",a)}}async function Y(e,a,t){try{const l=localStorage.getItem("server_link"),o=localStorage.getItem("token"),n=await E.A.get(l+"/entry/list?book_id="+e+"&pageSize="+a+"&currentPage="+t,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return n.data}catch(l){console.error("Error fetching data from backend:",l)}}async function J(e,a){try{const t=localStorage.getItem("server_link"),l=localStorage.getItem("token"),o=await E.A.get(t+"/entry/check?word="+encodeURIComponent(e)+"&book_id="+a,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});return o.data}catch(t){return console.error("Error fetching data from backend:",t),{code:1,message:"Êü•ËØ¢Â§±Ë¥•"}}}t(8992),t(4520),t(2577),t(3949);function G(e){if(!e)return"";const a=e.toLowerCase();let t=a.lastIndexOf("/"),l=a.substring(t);return l.includes("uk")?"UK":l.includes("us")?"US":l.includes("au")?"AU":l.includes("ca")?"CA":""}async function N(e){try{const a=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${encodeURIComponent(e)}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const t=await a.json();if(!t||!Array.isArray(t)||0===t.length||!t[0].word)throw new Error("Empty or invalid data returned from dictionary API");return{success:!0,data:t,source:"dictionaryapi"}}catch(a){return console.error("Error fetching word definition from dictionaryapi.dev:",a),{success:!0,data:null,source:"wiktionary",wiktionaryUrl:`https://en.wiktionary.org/wiki/${encodeURIComponent(e)}`}}}function ee(e){if("wiktionary"===e.source)return`\n            <div class="wiktionary-container">\n                <div class="wiktionary-notice">\n                    ÂΩìÂâç‰ΩøÁî® Wiktionary ‰Ωú‰∏∫Â§áÈÄâËØçÂÖ∏Ê∫ê\n                </div>\n                <div class="wiktionary-loading" id="wiktionary-loading-${Date.now()}">\n                    <div class="loading-spinner"></div>\n                    <span>Ê≠£Âú®Âä†ËΩΩ Wiktionary È°µÈù¢...</span>\n                </div>\n                <iframe \n                    src="${e.wiktionaryUrl}" \n                    class="wiktionary-iframe"\n                    title="Wiktionary - ${e.wiktionaryUrl.split("/").pop()}"\n                    sandbox="allow-same-origin allow-scripts allow-popups allow-forms"\n                    referrerpolicy="no-referrer"\n                    onload="document.getElementById('wiktionary-loading-${Date.now()}').style.display='none'; this.style.display='block'"\n                    style="display:none"\n                ></iframe>\n            </div>\n        `;const a=e.data;if(!a||!Array.isArray(a)||0===a.length)return'<div class="no-meaning">No definition found</div>';const t=a[0];let l="";if(t.word&&(l+=`<div class="word-title">${t.word}</div>`),t.phonetics&&Array.isArray(t.phonetics)){const e=t.phonetics.find(e=>e.text)?.text;if(e){l+=`<div class="phonetic">Phonetic: ${e}`;const a=t.phonetics.filter(e=>e.audio&&""!==e.audio.trim());a.length>0&&(l+=' <span class="audio-buttons">',a.forEach((e,a)=>{const t=e.audio;let o=G(t);o||(o=`Audio ${a+1}`),l+=`<button class="audio-btn" data-audio="${t}" title="Play ${o} pronunciation">üîä${o}</button>`}),l+="</span>"),l+="</div>"}}return t.meanings&&Array.isArray(t.meanings)&&(l+='<div class="meanings-container">',t.meanings.forEach((e,a)=>{e.partOfSpeech&&(l+=`<div class="part-of-speech">„Äê${e.partOfSpeech}„Äë</div>`),e.definitions&&Array.isArray(e.definitions)&&(l+='<div class="definitions-list">',e.definitions.forEach((e,a)=>{e.definition&&(l+=`<div class="definition-item">\n              <span class="definition-number">${a+1}.</span>\n              <span class="definition-text">${e.definition}</span>`,e.example&&(l+=`<div class="example">Example: <em>${e.example}</em></div>`),e.synonyms&&e.synonyms.length>0&&(l+=`<div class="synonyms">Synonyms: ${e.synonyms.join(", ")}</div>`),l+="</div>")}),l+="</div>"),e.synonyms&&e.synonyms.length>0&&(l+=`<div class="meaning-synonyms">[Synonyms] ${e.synonyms.join(", ")}</div>`),e.antonyms&&e.antonyms.length>0&&(l+=`<div class="meaning-antonyms">[Antonyms] ${e.antonyms.join(", ")}</div>`),a<t.meanings.length-1&&(l+='<div class="meaning-separator"></div>')}),l+="</div>"),l||'<div class="no-meaning">No definition found</div>'}async function ae(e,a,t,l,o,n,r,u,i){try{const d=localStorage.getItem("token"),s=localStorage.getItem("server_link"),c=s+"/entry/update";console.log(e,a,t,l,o,u,i);const m=await E.A.put(c,{id:e,word:a,meaning:t,book_id:l,note:o,unwanted:n,study_count:r,date_to_review:u,created_at:i},{headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});return m.data}catch(d){console.error("Error fetching data from backend:",d)}}async function te(e){try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/entry/update/unwanted/"+e,o=await E.A.put(l,null,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}async function le(e){try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/entry/update/study/count/"+e,o=await E.A.put(l,null,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}async function oe(e){try{const a=localStorage.getItem("token"),t=localStorage.getItem("server_link"),l=t+"/entry/update/reset/"+e,o=await E.A.put(l,null,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}var ne=t(539),re=t(2464),ue=t(6697),ie=t(9782),de=t(9084),se=t(9982),ce=t(5686),me=t.n(ce),ve=t(437);const pe=e=>((0,o.Qi)("data-v-eddd1946"),e=e(),(0,o.jt)(),e),ke=pe(()=>(0,o.Lk)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css",crossorigin:"anonymous"},null,-1)),fe={key:0,class:"word-card"},be={class:"header"},Re={class:"word-display"},ge={class:"word-title-section"},ye={class:"word"},_e={key:0,class:"meaning-container"},he={key:0,class:"fetching-meaning"},we=["innerHTML"],Fe={key:2,class:"no-meaning"},Ve={class:"footer"},Se={key:1,class:"word-card"},Ce=pe(()=>(0,o.Lk)("h1",{class:"word"},"Loading data...",-1)),We=[Ce],Ke={key:2,class:"word-card"},xe=pe(()=>(0,o.Lk)("h1",{class:"word"},"ÂΩìÂâç‰ªªÂä°Â∑≤ÂÆåÊàê",-1)),Le=[xe],Ee=["href"],Ae={class:"note-editor"},Ie=["innerHTML"],Ue={class:"editor-actions"};var je={__name:"WordCardView",props:["type"],setup(e){const a=e,t=(0,n.KR)(2),l=(0,n.KR)(!0),r=(0,n.KR)(!1),i=(0,n.KR)(!1),d=(0,n.KR)("edit"),s=(0,n.KR)(!1),c=new(D())({html:!0,linkify:!0,typographer:!0,tables:!0}).use(ne.A).use(re.A).use(ue.A).use(ie.A).use(de.A).use(se.A).use(me(),{engine:ve.Ay,delimiters:"dollars",katexOptions:{macros:{"\\RR":"\\mathbb{R}"}}}),m=()=>{x(),d.value="edit",i.value=!i.value},v=(0,o.EW)(()=>W.value?c.render(W.value):'<p class="empty-note">ÊöÇÊó†Á¨îËÆ∞ÂÜÖÂÆπ</p>');let p=(0,n.Kh)([]),k=(0,n.Kh)([]),f=(0,n.KR)(0),b={};const R=(0,n.KR)(0),g=(0,n.KR)(1),y=e=>{if(null==e||2===e.code){const e=(0,u.Pj)();e.dispatch("logout"),location.reload()}};(0,o.sV)(async()=>{const e=await Z(a.type);if(y(e),k=e.data,null==k||0===k.length)return void(t.value=3);t.value=1;for(let a=0;a<k.length;a++)b[a]=0;const l=await O();y(l),p=l.data;const o=await q();y(o),R.value=o.times_counted_as_known,1===t.value&&k.length>0&&A()});const _=async e=>{if(!i.value)if("0123456789".includes(e.key)){let a=+e.key;0===a&&(a=10),a<=p.length&&window.open(p[a-1].prefix+k[f.value].word+(p[a-1].suffix||""),"_blank")}else if("s"===e.key)r.value=!r.value;else if("n"===e.key){if(2!==g.value&&3!==g.value)return!0;await I()}else if("u"===e.key){if(2!==g.value)return!0;await C()}else if("j"===e.key){if(1!==g.value)return!0;await V()}else if("k"===e.key){if(1!==g.value)return!0;await w()}else{if("d"!==e.key&&"D"!==e.key)return!0;await h()}},h=async()=>{b[f.value]=R.value;const e=await te(k[f.value].id);y(e),await I()},w=async()=>{b[f.value]=0;const e=await oe(k[f.value].id);y(e),g.value=3},V=async()=>{if(b[f.value]++,b[f.value]>=R.value){const e=await le(k[f.value].id);y(e)}g.value=2},C=async()=>{b[f.value]=0;const e=await oe(k[f.value].id);y(e),await I()};let W=(0,n.KR)(""),K=(0,n.KR)("");const x=()=>{W.value=k[f.value].note},E=(0,o.EW)(()=>{const e=k[f.value]?.meaning||K.value;return e&&""!==e.trim()}),A=async()=>{const e=k[f.value];if(!e)return;const a=e.meaning||"";if(!a||""===a.trim()&&!s.value){s.value=!0,K.value="";try{const a=await N(e.word);a.success?(K.value=ee(a),console.log(`ÊàêÂäüÊü•ËØ¢Âà∞ÂçïËØç "${e.word}" ÁöÑÈáä‰πâ`)):(K.value="ÊöÇÊó†Èáä‰πâ",console.log(`ÂçïËØç "${e.word}" Êü•ËØ¢Â§±Ë¥•:`,a))}catch(t){console.error(`ÂçïËØç "${e.word}" Êü•ËØ¢ÂºÇÂ∏∏:`,t),K.value="ÊöÇÊó†Èáä‰πâ"}finally{s.value=!1}}else K.value=a,console.log(`ÂçïËØç "${e.word}" Â∑≤ÊúâÈáä‰πâ:`,a)},I=async()=>{let e=f.value;do{e=(e+1)%k.length}while(e!==f.value&&b[e]>=R.value);e===f.value&&b[e]>=R.value?t.value=3:(g.value=1,f.value=e,A())},U=async()=>{const e=await ae(k[f.value].id,k[f.value].word,k[f.value].meaning,k[f.value].book_id,W.value,k[f.value].unwanted,k[f.value].study_count,k[f.value].date_to_review,k[f.value].created_at);y(e)},j=e=>{if(e.target.classList.contains("audio-btn")){const a=e.target.getAttribute("data-audio");a&&Q(a)}},Q=e=>{try{const a=new Audio(e);a.play().catch(e=>{console.error("Èü≥È¢ëÊí≠ÊîæÂ§±Ë¥•:",e)})}catch(a){console.error("Èü≥È¢ëÂä†ËΩΩÂ§±Ë¥•:",a)}};return(e,a)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(L,{onKeydown:_,tabindex:"0"},{default:(0,o.k6)(()=>[ke,1===t.value?((0,o.uX)(),(0,o.CE)("div",fe,[(0,o.Lk)("div",be,[(0,o.bF)((0,n.R1)(X.R7),{content:"ÊêúÁ¥¢ÂçïËØç (Âø´Êç∑ÈîÆ: S)",placement:"top"},{default:(0,o.k6)(()=>[l.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(S.S2),{key:0,class:"centered-button",circle:"",onClick:a[0]||(a[0]=e=>r.value=!r.value)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)($.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.vji))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1}),(0,o.eW)(" ¬† "),(0,o.bF)((0,n.R1)(X.R7),{content:"ÁºñËæëÁ¨îËÆ∞ (ÊîØÊåÅMarkdownËØ≠Ê≥ï)",placement:"top"},{default:(0,o.k6)(()=>[l.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(S.S2),{key:0,class:"centered-button",circle:"",onClick:m},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)($.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.EDh))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1}),(0,o.eW)(" ¬† "),(0,o.bF)((0,n.R1)(X.R7),{content:"Ê†áËÆ∞‰∏∫‰∏çÊÉ≥Â≠¶ (Âø´Êç∑ÈîÆ: D)",placement:"top"},{default:(0,o.k6)(()=>[l.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(S.S2),{key:0,class:"centered-button",circle:"",onClick:h},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)($.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.epd))]),_:1})]),_:1})):(0,o.Q3)("",!0)]),_:1})]),(0,o.Lk)("div",Re,[(0,o.Lk)("div",ge,[(0,o.Lk)("h1",ye,(0,F.v_)((0,n.R1)(k)[(0,n.R1)(f)].word),1)]),2===g.value||3===g.value?((0,o.uX)(),(0,o.CE)("div",_e,[s.value?((0,o.uX)(),(0,o.CE)("div",he," Ê≠£Âú®Êü•ËØ¢Èáä‰πâ... ")):E.value?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"meaning-content",innerHTML:(0,n.R1)(K),onClick:j},null,8,we)):((0,o.uX)(),(0,o.CE)("div",Fe," ÊöÇÊó†Èáä‰πâ "))])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ve,[1===g.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(S.S2),{key:0,onClick:V},{default:(0,o.k6)(()=>[(0,o.eW)("ËÆ§ËØÜ(J)")]),_:1})):(0,o.Q3)("",!0),1===g.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(S.S2),{key:1,onClick:w},{default:(0,o.k6)(()=>[(0,o.eW)("‰∏çËÆ§ËØÜ(K)")]),_:1})):(0,o.Q3)("",!0),2===g.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(S.S2),{key:2,onClick:C},{default:(0,o.k6)(()=>[(0,o.eW)("ËÆ∞Èîô‰∫Ü(U)")]),_:1})):(0,o.Q3)("",!0),2===g.value||3===g.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(S.S2),{key:3,onClick:I},{default:(0,o.k6)(()=>[(0,o.eW)("‰∏ã‰∏ÄËØç(N)")]),_:1})):(0,o.Q3)("",!0)])])):2===t.value?((0,o.uX)(),(0,o.CE)("div",Se,We)):3===t.value?((0,o.uX)(),(0,o.CE)("div",Ke,Le)):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(T.pw),{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),title:"ÊêúÁ¥¢","with-header":!0},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,n.R1)(p),(e,a)=>((0,o.uX)(),(0,o.CE)("p",{key:e.id},[(0,o.Lk)("a",{href:e.prefix+(0,n.R1)(k)[(0,n.R1)(f)].word+(e.suffix||""),target:"_blank"},[(0,o.Lk)("b",null,(0,F.v_)(a+1)+". "+(0,F.v_)(e.title),1)],8,Ee),(0,o.bF)((0,n.R1)(z.fR))]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(T.pw),{modelValue:i.value,"onUpdate:modelValue":a[5]||(a[5]=e=>i.value=e),title:"Á¨îËÆ∞ (ÊîØÊåÅMarkdownËØ≠Ê≥ï)","with-header":!0,size:"50%"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ae,[(0,o.bF)((0,n.R1)(M.q),{modelValue:d.value,"onUpdate:modelValue":a[3]||(a[3]=e=>d.value=e),type:"border-card"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(M.v$),{label:"ÁºñËæë",name:"edit"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{type:"textarea",placeholder:"Ê∑ªÂä†Á¨îËÆ∞ (ÊîØÊåÅMarkdownËØ≠Ê≥ï)",modelValue:(0,n.R1)(W),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,n.i9)(W)?W.value=e:W=e),rows:20,maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(M.v$),{label:"È¢ÑËßà",name:"preview"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"markdown-preview",innerHTML:v.value},null,8,Ie)]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)(z.fR)),(0,o.Lk)("div",Ue,[(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:U},{default:(0,o.k6)(()=>[(0,o.eW)("‰øùÂ≠ò")]),_:1}),(0,o.bF)((0,n.R1)(S.S2),{onClick:a[4]||(a[4]=e=>i.value=!1)},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1})])])]),_:1},8,["modelValue"])],64))}};const Xe=(0,v.A)(je,[["__scopeId","data-v-eddd1946"]]);var $e=Xe,Te={__name:"LearnWordView",setup(e){return(e,a)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)(()=>[(0,o.bF)($e,{type:"learn"})]),_:1}))}};const ze=Te;var Me=ze,Be={__name:"ReviewWordView",setup(e){return(e,a)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)(()=>[(0,o.bF)($e,{type:"review"})]),_:1}))}};const Pe=Be;var Qe=Pe;const De=[{path:"/word",name:"word",component:j,meta:{requiresAuth:!0}},{path:"/card",name:"card",component:$e,meta:{requiresAuth:!0}},{path:"/learn",name:"learn",component:Me,meta:{requiresAuth:!0}},{path:"/review",name:"review",component:Qe,meta:{requiresAuth:!0}}];var qe=De,Oe=t(2006);const Ze={class:"login-container"},He={key:0,style:{color:"red","margin-bottom":"10px","margin-left":"100px"}};var Ye={__name:"LoginView",setup(e){const a=(0,n.KR)("http://127.0.0.1:8080");null!==localStorage.getItem("server_link")&&(a.value=localStorage.getItem("server_link"));const t=(0,n.KR)(""),r=(0,n.KR)(""),d=(0,n.KR)(!1),s=(0,n.KR)(""),c=(0,u.Pj)(),m=(0,i.rd)(),v=async()=>{const e=await c.dispatch("login",{serverLink:a.value,username:t.value,password:r.value});!0===e?(d.value=!1,await m.push({name:"home"})):(d.value=!0,s.value=e)},p=async()=>{await m.push({name:"register"})};return(e,u)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ze,[(0,o.bF)((0,n.R1)(Oe.US),{ref:"loginForm","label-width":"80px"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.xE),{label:"Server Link",prop:"serverLink",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=e=>a.value=e),placeholder:"ËØ∑ËæìÂÖ•ÊúçÂä°Âô®Âú∞ÂùÄ"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Username",prop:"username",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=e=>t.value=e),placeholder:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Password",prop:"password",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{type:"password",modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=e=>r.value=e),onKeyup:(0,l.jR)(v,["enter"]),placeholder:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å"},null,8,["modelValue"])]),_:1}),d.value?((0,o.uX)(),(0,o.CE)("div",He,(0,F.v_)(s.value),1)):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(Oe.xE),{class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:v,class:"login-button"},{default:(0,o.k6)(()=>[(0,o.eW)("Login")]),_:1})]),_:1}),(0,o.Lk)("p",{onClick:p,style:{"margin-left":"80px",color:"#0477fa"}},"Ê≤°ÊúâË¥¶Âè∑ÔºüÁÇπÂáªÊ≥®ÂÜå")]),_:1},512)])]),_:1}))}};const Je=(0,v.A)(Ye,[["__scopeId","data-v-39c5c546"]]);var Ge=Je;const Ne={class:"register-container"},ea={key:0,style:{color:"red","margin-bottom":"10px","margin-left":"100px"}},aa={key:2,style:{"margin-left":"80px",color:"#0477fa"}};var ta={__name:"RegisterView",setup(e){const a=(0,u.Pj)(),t=(0,n.KR)("http://127.0.0.1:8080"),r=(0,n.KR)(""),d=(0,n.KR)(""),s=(0,n.KR)(""),c=(0,n.KR)(""),m=(0,n.KR)(""),v=(0,n.KR)(!1),p=(0,n.KR)(""),k=(0,n.KR)(!1),f=(0,n.KR)(""),b=async()=>{if(c.value!==m.value)return v.value=!0,void(p.value="‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏ç‰∏ÄËá¥");const e=await a.dispatch("register",{serverLink:t.value,username:r.value,email:d.value,avatar:s.value,password:c.value,confirm_password:m.value});!0===e?(v.value=!1,k.value=!0,f.value="Ê≥®ÂÜåÊàêÂäü, Âç≥Â∞ÜËá™Âä®Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢",setTimeout(()=>{g()},2e3)):(v.value=!0,p.value=e)},R=(0,i.rd)(),g=()=>{R.push({name:"login"})};return(e,a)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ne,[(0,o.bF)((0,n.R1)(Oe.US),{ref:"registerForm","label-width":"80px"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÊúçÂä°Âô®",prop:"serverLink",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),placeholder:"ËØ∑ËæìÂÖ•ÂêéÂè∞ÊúçÂä°Âô®Âú∞ÂùÄ"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Áî®Êà∑Âêç",prop:"username",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),placeholder:"ËØ∑ËæìÂÖ•Áî®Êà∑Âêç"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÈÇÆÁÆ±",prop:"email",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:d.value,"onUpdate:modelValue":a[2]||(a[2]=e=>d.value=e),placeholder:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Â§¥ÂÉè",prop:"avatar",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=e=>s.value=e),placeholder:"ËØ∑ËæìÂÖ•ÈÇÆÁÆ±"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂØÜÁ†Å",prop:"password",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{type:"password",modelValue:c.value,"onUpdate:modelValue":a[4]||(a[4]=e=>c.value=e),placeholder:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Á°ÆËÆ§ÂØÜÁ†Å",prop:"confirmPassword",class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{type:"password",modelValue:m.value,"onUpdate:modelValue":a[5]||(a[5]=e=>m.value=e),onKeyup:(0,l.jR)(b,["enter"]),placeholder:"ËØ∑Á°ÆËÆ§ÂØÜÁ†Å"},null,8,["modelValue"])]),_:1}),v.value?((0,o.uX)(),(0,o.CE)("div",ea,(0,F.v_)(p.value),1)):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(Oe.xE),{class:"form-item"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:b,class:"register-button"},{default:(0,o.k6)(()=>[(0,o.eW)("Ê≥®ÂÜå")]),_:1})]),_:1}),k.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("p",{key:1,onClick:g,style:{"margin-left":"80px",color:"#04eefa"}},"Â∑≤ÊúâË¥¶Âè∑ÔºüÁÇπÂáªÁôªÂΩï")),k.value?((0,o.uX)(),(0,o.CE)("p",aa,(0,F.v_)(f.value),1)):(0,o.Q3)("",!0)]),_:1},512)])]),_:1}))}};const la=(0,v.A)(ta,[["__scopeId","data-v-c4712e08"]]);var oa=la;const na=[{path:"/login",name:"login",component:Ge,beforeEnter:(e,a,t)=>{t(e=>{e.$nextTick(()=>{e.$refs.loginMenuItem.focus()})})}},{path:"/register",name:"register",component:oa}];var ra=na,ua=t(3851),ia=t(236),da=t(4880),sa=t(6844),ca=t(7111),ma=t(5475),va=t(850),pa=t(8430);async function ka(){try{const e=localStorage.getItem("server_link"),a=localStorage.getItem("token"),t=await E.A.get(e+"/book/count",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});return t.data}catch(e){console.error("Error fetching data from backend:",e)}}async function fa(e,a){try{const t=localStorage.getItem("server_link"),l=localStorage.getItem("token"),o=t+"/book/list/"+e+"/"+a,n=await E.A.get(o,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});return n.data}catch(t){console.error("Error fetching data from backend:",t)}}function ba(e){return"text/plain"===e.type||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type?e.size>10485760?{code:1,message:"Êñá‰ª∂Â§ßÂ∞è‰∏çËÉΩË∂ÖËøá10M"}:{code:0,message:"success"}:{code:1,message:"Êñá‰ª∂Ê†ºÂºèÈîôËØØ"}}async function Ra(e,a,t,l){try{const o=localStorage.getItem("token"),n=localStorage.getItem("server_link"),r=n+"/book/update",u=await E.A.put(r,{id:e,title:a,category:t,created_at:l},{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return u.data}catch(o){console.error("Error fetching data from backend:",o)}}async function ga(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=a+"/book/delete/"+e,o=await E.A.delete(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}var ya=t(1576),_a=t.n(ya);const ha=e=>{const a=e["date_to_review"].toString();return a.substring(0,4)+"-"+a.substring(4,6)+"-"+a.substring(6)},wa=(e,a)=>_a()(e[a.property]).format("YYYY-MM-DD HH:mm:ss");async function Fa(e,a){try{const t=localStorage.getItem("token"),l=localStorage.getItem("server_link"),o=l+"/book/add",n=await E.A.post(o,{title:e,category:a},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return n.data}catch(t){console.error("Error fetching data from backend:",t)}}const Va=e=>((0,o.Qi)("data-v-3942a60d"),e=e(),(0,o.jt)(),e),Sa=Va(()=>(0,o.Lk)("br",null,null,-1)),Ca={class:"dialog-footer"},Wa=Va(()=>(0,o.Lk)("div",{style:{color:"red"}}," ‰∏ÄÊ¨°Âè™ËÉΩ‰∏ä‰º†‰∏Ä‰∏™.txtÊñá‰ª∂ÊàñËÄÖ.xlsxÊñá‰ª∂ÔºåËØçÊù°Êï∞‰∏çËÉΩË∂ÖËøá50‰∏á‰∏™ ",-1)),Ka={class:"dialog-footer"};var xa={__name:"BookSettingView",setup(e){const a=(0,u.Pj)(),t=e=>{null!=e&&2!==e.code||(a.dispatch("logout"),location.reload())};let r=(0,n.KR)(!1),i=(0,n.KR)(null),d=(0,n.Kh)([]),s=(0,n.KR)(5),c=(0,n.KR)(1);const m=async()=>{p.value=!1;const e=await fa(s.value,c.value);t(e),d=e.data,p.value=!0},v=async()=>{p.value=!1;const e=await fa(s.value,c.value);t(e),d=e.data,p.value=!0},p=(0,n.KR)(!1);let k=(0,n.KR)(0);(0,o.sV)(async()=>{const e=await ka();t(e),k.value=e.data;const a=await fa(s.value,c.value);t(a),d=a.data,p.value=!0});const f=e=>{localStorage.setItem("book_id",e.id),Jt.push({name:"word_setting"})},b=e=>{i.value=e,r.value=!0},R=()=>{r.value=!1,location.reload()},g=async()=>{r.value=!1,p.value=!1;const e=await Ra(i.value.id,i.value.title,i.value.category,i.value.created_at);t(e),p.value=!0,location.reload()},y=async e=>{(0,ua.df)({title:"Âà†Èô§ËØç‰π¶",message:"ËØç‰π¶Âà†Èô§‰∏≠, ËØ∑Á®çÁ≠â...",type:"info",duration:1e3});const a=await ga(e.id);if(t(a),0===a.code){p.value=!1;const e=await ka();t(e),k.value=e.data;const a=await fa(s.value,c.value);t(a),d=a.data,p.value=!0,(0,ua.df)({title:"Success",message:"Âà†Èô§ÊàêÂäü",type:"success",duration:1e3})}},_=(0,n.KR)(!1),h=(0,n.Kh)({title:"",category:""}),w=()=>{_.value=!0},F=(0,n.KR)(!1),V=(0,n.KR)(null),C=e=>{V.value.clearFiles();const a=e[0];a.uid=(0,ia.G$)(),V.value.handleStart(a)},W=e=>{1===e.code?(0,ua.df)({title:"‰∏ä‰º†Â§±Ë¥•",message:e.message,type:"error",duration:1e3}):(0,ua.df)({title:"Success",message:e.message,type:"success",duration:1e3}),setTimeout(()=>{location.reload()},1e3)},K=e=>{(0,ua.df)({title:"Error",message:e.message,type:"error",duration:1e3})},x=()=>{F.value=!1,_.value=!1,h.title="",h.category=""},E=async()=>{if((0,ua.df)({title:"Êñá‰ª∂‰∏ä‰º†",message:"ËØç‰π¶‰∏ä‰º†‰∏≠, ËØ∑Á®çÁ≠â...",type:"info",duration:1e3}),_.value=!1,F.value=!1,p.value=!1,null!=V.value)V.value.submit();else{const e=await Fa(h.title,h.category);t(e),0===e.code?(0,ua.df)({title:"Success",message:"Ê∑ªÂä†ÊàêÂäü",type:"success",duration:1e3}):K(e)}const e=await ka();t(e),k.value=e.data.data;const a=await fa(s.value,c.value);t(a),d=a.data,p.value=!0,h.title="",h.category=""},A=localStorage.getItem("server_link"),I=(0,n.KR)(A+"/book/add"),U=(0,n.KR)({Authorization:"Bearer "+localStorage.getItem("token")}),j=e=>{const a=ba(e);return 0===a.code||((0,ua.df)({title:"Error",message:a.message,type:"error",duration:1e3}),!1)};return(e,a)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)(()=>[p.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(da.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(da.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(sa.Up),{data:(0,n.R1)(d)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(sa.o8),{label:"ÂêçÁß∞",prop:"title"}),(0,o.bF)((0,n.R1)(sa.o8),{label:"ÂàÜÁ±ª",prop:"category"}),(0,o.bF)((0,n.R1)(sa.o8),{label:"ÂàõÂª∫Êó∂Èó¥",prop:"created_at",formatter:(0,n.R1)(wa)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(sa.o8),{label:"Êõ¥Êñ∞Êó∂Èó¥",prop:"updated_at",formatter:(0,n.R1)(wa)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(sa.o8),{label:"Êìç‰Ωú"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)(S.S2),{onClick:a=>f(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("Êü•ÁúãËØçÊ±á")]),_:2},1032,["onClick"]),(0,o.bF)((0,n.R1)(S.S2),{onClick:a=>b(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ÁºñËæë")]),_:2},1032,["onClick"]),(0,o.bF)((0,n.R1)(S.S2),{onClick:a=>y(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("Âà†Èô§")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(ca.aQ),{"current-page":(0,n.R1)(c),"onUpdate:currentPage":a[0]||(a[0]=e=>(0,n.i9)(c)?c.value=e:c=e),"page-size":(0,n.R1)(s),"onUpdate:pageSize":a[1]||(a[1]=e=>(0,n.i9)(s)?s.value=e:s=e),"page-sizes":[5,10,20,50,100],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:(0,n.R1)(k),onSizeChange:v,onCurrentChange:m},null,8,["current-page","page-size","total"])])]),_:1}),Sa,(0,o.bF)((0,n.R1)(da.LK),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:w},{default:(0,o.k6)(()=>[(0,o.eW)("Ê∑ªÂä†")]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ma.kZ),{modelValue:(0,n.R1)(r),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,n.i9)(r)?r.value=e:r=e),title:"ÁºñËæëËØç‰π¶"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Ca,[(0,o.bF)((0,n.R1)(S.S2),{onClick:R},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1}),(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:g},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.US),{model:(0,n.R1)(i)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.xE),{label:"Ê†áÈ¢ò"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:(0,n.R1)(i).title,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,n.R1)(i).title=e),onKeyup:(0,l.jR)(g,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂàÜÁ±ª"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:(0,n.R1)(i).category,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,n.R1)(i).category=e),onKeyup:(0,l.jR)(g,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)(ma.kZ),{modelValue:_.value,"onUpdate:modelValue":a[8]||(a[8]=e=>_.value=e),title:"Êñ∞Âª∫ËØç‰π¶"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Ka,[(0,o.bF)((0,n.R1)(S.S2),{onClick:x},{default:(0,o.k6)(()=>[(0,o.eW)("Cancel")]),_:1}),(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:E},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.US),{model:h},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.xE),{label:"Ê†áÈ¢ò"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:h.title,"onUpdate:modelValue":a[5]||(a[5]=e=>h.title=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂàÜÁ±ª"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:h.category,"onUpdate:modelValue":a[6]||(a[6]=e=>h.category=e),onKeyup:(0,l.jR)(E,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(va.dI),{modelValue:F.value,"onUpdate:modelValue":a[7]||(a[7]=e=>F.value=e)},{default:(0,o.k6)(()=>[(0,o.eW)("‰∏ä‰º†Êñá‰ª∂(Â¶Ç‰∏ç‰∏ä‰º†Êñá‰ª∂ÔºåÂàôÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑËØç‰π¶)")]),_:1},8,["modelValue"]),F.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(Oe.xE),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(pa.j5),{ref_key:"upload",ref:V,"before-upload":j,action:I.value,headers:U.value,data:{title:h.title,category:h.category},name:"file",limit:1,"on-exceed":C,"auto-upload":!1,"on-success":W},{trigger:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{type:"primary"},{default:(0,o.k6)(()=>[(0,o.eW)("ÈÄâÊã©Êñá‰ª∂")]),_:1})]),tip:(0,o.k6)(()=>[Wa]),_:1},8,["action","headers","data"])]),_:1})):(0,o.Q3)("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const La=(0,v.A)(xa,[["__scopeId","data-v-3942a60d"]]);var Ea=La,Aa=t(1418),Ia=t(3883);async function Ua(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=a+"/entry/delete/"+e,o=await E.A.delete(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}async function ja(e,a,t,l){try{const o=localStorage.getItem("token"),n=localStorage.getItem("server_link"),r=n+"/entry/add",u=await E.A.post(r,{book_id:e,word:a,meaning:t,note:l},{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return u.data}catch(o){console.error("Error fetching data from backend:",o)}}const Xa=(0,o.Lk)("br",null,null,-1),$a={class:"block"},Ta={class:"dialog-footer"},za={class:"dialog-footer"};var Ma={__name:"WordSettingView",setup(e){const a=parseInt(localStorage.getItem("book_id"));let t=(0,n.Kh)([]),r=(0,n.KR)(5),i=(0,n.KR)(1);const d=(0,u.Pj)(),s=e=>{null!=e&&2!==e.code||(d.dispatch("logout"),location.reload())},c=(0,n.KR)(!1);let m=(0,n.KR)(0);(0,o.sV)(async()=>{const e=await H(a);s(e),m.value=e.data;const l=await Y(a,r.value,i.value);s(l),t=l.data,c.value=!0});const v=async()=>{c.value=!1;const e=await Y(a,r.value,i.value);s(e),t=e.data,c.value=!0},p=async()=>{c.value=!1;const e=await Y(a,r.value,i.value);s(e),t=e.data,c.value=!0},k=(0,n.KR)(null),f=(0,n.KR)(!1),b=async e=>{(0,ua.df)({title:"Âà†Èô§Êù°ÁõÆ",message:"Êù°ÁõÆÂà†Èô§‰∏≠, ËØ∑Á®çÁ≠â...",type:"info",duration:1e3});const l=await Ua(e.id);if(s(l),0===l.code){c.value=!1;const e=await H(a);s(e),m.value=e.data;const l=await Y(a,r.value,i.value);s(l),t=l.data,c.value=!0,(0,ua.df)({title:"Success",message:"Âà†Èô§ÊàêÂäü",type:"success",duration:1e3})}},R=e=>{const a=e.getFullYear();return a<2e3||a>2099},g=(0,n.KR)(0),y=e=>{k.value=e;const a=e.date_to_review,t=Math.floor(a/1e4),l=Math.floor(a%1e4/100)-1,o=a%100,n=new Date(t,l,o);g.value=n.getTime(),f.value=!0},_=()=>{f.value=!1,location.reload()},h=async()=>{f.value=!1,c.value=!1;const e=new Date(g.value),a=e.getFullYear(),t=e.getMonth()+1,l=e.getDate();k.value.date_to_review=1e4*a+100*t+l;const o=await ae(k.value.id,k.value.word,k.value.meaning,k.value.book_id,k.value.note,k.value.unwanted,k.value.study_count,k.value.date_to_review,k.value.created_at);s(o),c.value=!0},w=(0,n.KR)(!1),F=()=>{w.value=!0},V=(0,n.Kh)({word:"",meaning:"",note:""}),C=()=>{w.value=!1,V.word="",V.meaning="",V.note=""},W=e=>{(0,ua.df)({title:"Error",message:e.message,type:"error",duration:1e3})},K=async()=>{w.value=!1,c.value=!1;const e=await ja(a,V.word,V.meaning,V.note);s(e),0===e.code?(0,ua.df)({title:"Success",message:"Ê∑ªÂä†ÊàêÂäü",type:"success",duration:1e3}):W(e);const l=await H(a);s(l),m.value=l.data.data;const o=await Y(a,r.value,i.value);s(o),t=o.data,c.value=!0,V.word="",V.meaning="",V.note=""};return(e,a)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)(()=>[c.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(da.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(da.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(sa.Up),{data:(0,n.R1)(t)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(sa.o8),{label:"ÂçïËØç",prop:"word"}),(0,o.bF)((0,n.R1)(sa.o8),{label:"Âê´‰πâ",prop:"meaning"}),(0,o.bF)((0,n.R1)(sa.o8),{label:"Â§áÊ≥®",prop:"note"}),(0,o.bF)((0,n.R1)(sa.o8),{label:"‰∏çÊÉ≥Â≠¶",prop:"unwanted"}),(0,o.bF)((0,n.R1)(sa.o8),{label:"Â≠¶‰π†Ê¨°Êï∞",prop:"study_count"}),(0,o.bF)((0,n.R1)(sa.o8),{label:"Â§ç‰π†Êó•Êúü",prop:"date_to_review",formatter:(0,n.R1)(ha)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(sa.o8),{label:"ÂàõÂª∫Êó∂Èó¥",prop:"created_at",formatter:(0,n.R1)(wa)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(sa.o8),{label:"Êõ¥Êñ∞Êó∂Èó¥",prop:"updated_at",formatter:(0,n.R1)(wa)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(sa.o8),{label:"Êìç‰Ωú"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)(X.R7),{content:"ÁºñËæëÂçïËØçÊù°ÁõÆ",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{onClick:a=>y(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ÁºñËæë")]),_:2},1032,["onClick"])]),_:2},1024),(0,o.bF)((0,n.R1)(X.R7),{content:"Âà†Èô§ÂçïËØçÊù°ÁõÆ",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{onClick:a=>b(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("Âà†Èô§")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(ca.aQ),{"current-page":(0,n.R1)(i),"onUpdate:currentPage":a[0]||(a[0]=e=>(0,n.i9)(i)?i.value=e:i=e),"page-size":(0,n.R1)(r),"onUpdate:pageSize":a[1]||(a[1]=e=>(0,n.i9)(r)?r.value=e:r=e),"page-sizes":[5,10,20,50,100],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:(0,n.R1)(m),onSizeChange:p,onCurrentChange:v},null,8,["current-page","page-size","total"])])]),_:1}),Xa,(0,o.bF)((0,n.R1)(da.LK),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(X.R7),{content:"Ê∑ªÂä†Êñ∞ÂçïËØç",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:F},{default:(0,o.k6)(()=>[(0,o.eW)("Ê∑ªÂä†")]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ma.kZ),{modelValue:f.value,"onUpdate:modelValue":a[8]||(a[8]=e=>f.value=e),title:"ÁºñËæëÊù°ÁõÆ"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Ta,[(0,o.bF)((0,n.R1)(X.R7),{content:"ÂèñÊ∂àÁºñËæë",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{onClick:_},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(X.R7),{content:"Á°ÆËÆ§ÁºñËæë",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:h},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.US),{model:k.value},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂçïËØç"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:k.value.word,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value.word=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Âê´‰πâ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{type:"textarea",autosize:{minRows:5},modelValue:k.value.meaning,"onUpdate:modelValue":a[3]||(a[3]=e=>k.value.meaning=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Â§áÊ≥®"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{type:"textarea",autosize:{minRows:3},modelValue:k.value.note,"onUpdate:modelValue":a[4]||(a[4]=e=>k.value.note=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(va.dI),{modelValue:k.value.unwanted,"onUpdate:modelValue":a[5]||(a[5]=e=>k.value.unwanted=e),label:"Ê†áËÆ∞‰∏∫‰∏çÊÉ≥Â≠¶",size:"large"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Â≠¶‰π†Ê¨°Êï∞"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Aa.lq),{modelValue:k.value.study_count,"onUpdate:modelValue":a[6]||(a[6]=e=>k.value.study_count=e),min:0,max:30},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"‰∏ãÊ¨°Â§ç‰π†Êó•Êúü"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",$a,[(0,o.bF)((0,n.R1)(Ia.MG),{modelValue:g.value,"onUpdate:modelValue":a[7]||(a[7]=e=>g.value=e),"disabled-date":R,type:"date",placeholder:"ÈÄâÊã©Êó•Êúü"},null,8,["modelValue"])])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)(ma.kZ),{modelValue:w.value,"onUpdate:modelValue":a[12]||(a[12]=e=>w.value=e),title:"Êñ∞Âª∫Êù°ÁõÆ"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",za,[(0,o.bF)((0,n.R1)(X.R7),{content:"ÂèñÊ∂àÊ∑ªÂä†",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{onClick:C},{default:(0,o.k6)(()=>[(0,o.eW)("Cancel")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(X.R7),{content:"Á°ÆËÆ§Ê∑ªÂä† (Âø´Êç∑ÈîÆ: Enter)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:K},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.US),{model:V},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂçïËØç"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:V.word,"onUpdate:modelValue":a[9]||(a[9]=e=>V.word=e),onKeyup:(0,l.jR)(K,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Âê´‰πâ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:V.meaning,"onUpdate:modelValue":a[10]||(a[10]=e=>V.meaning=e),onKeyup:(0,l.jR)(K,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Â§áÊ≥®"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:V.note,"onUpdate:modelValue":a[11]||(a[11]=e=>V.note=e),onKeyup:(0,l.jR)(K,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const Ba=Ma;var Pa=Ba;async function Qa(e,a,t,l){try{const o=localStorage.getItem("token"),n=localStorage.getItem("server_link"),r=n+"/dictionary/update",u=await E.A.put(r,{id:e,title:a,prefix:t,suffix:l},{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return u.data}catch(o){console.error("Error fetching data from backend:",o)}}async function Da(e,a,t){try{const l=localStorage.getItem("token"),o=localStorage.getItem("server_link"),n=o+"/dictionary/add",r=await E.A.post(n,{title:e,prefix:a,suffix:t},{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});return r.data}catch(l){console.error("Error fetching data from backend:",l)}}async function qa(e){try{const a=localStorage.getItem("server_link"),t=localStorage.getItem("token"),l=a+"/dictionary/delete/"+e,o=await E.A.delete(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return o.data}catch(a){console.error("Error fetching data from backend:",a)}}const Oa=(0,o.Lk)("br",null,null,-1),Za={class:"dialog-footer"},Ha={class:"dialog-footer"};var Ya={__name:"DictionarySettingView",setup(e){let a=(0,n.Kh)([]);const t=(0,u.Pj)(),r=e=>{null!=e&&2!==e.code||(t.dispatch("logout"),location.reload())},i=(0,n.KR)(!1);(0,o.sV)(async()=>{const e=await O();r(e),a=e.data,i.value=!0});const d=(0,n.KR)(null),s=(0,n.KR)(!1),c=async e=>{(0,ua.df)({title:"Âà†Èô§ËØçÂÖ∏",message:"ËØçÂÖ∏Âà†Èô§‰∏≠, ËØ∑Á®çÁ≠â...",type:"info",duration:1e3});const t=await qa(e.id);if(r(t),0===t.code){i.value=!1;const e=await O();r(e),a=e.data,i.value=!0,(0,ua.df)({title:"Success",message:"Âà†Èô§ÊàêÂäü",type:"success",duration:1e3})}},m=e=>{d.value=e,s.value=!0},v=()=>{s.value=!1,location.reload()},p=async()=>{s.value=!1,i.value=!1;const e=await Qa(d.value.id,d.value.title,d.value.prefix,d.value.suffix);r(e),i.value=!0},k=(0,n.KR)(!1),f=()=>{k.value=!0},b=(0,n.Kh)({title:"",prefix:"",suffix:""}),R=()=>{k.value=!1,b.title="",b.prefix="",b.suffix=""},g=e=>{(0,ua.df)({title:"Error",message:e.message,type:"error",duration:1e3})},y=async()=>{k.value=!1,i.value=!1;const e=await Da(b.title,b.prefix,b.suffix);r(e),0===e.code?(0,ua.df)({title:"Success",message:"Ê∑ªÂä†ÊàêÂäü",type:"success",duration:1e3}):g(e);const t=await O();r(t),a=t.data,i.value=!0,b.title="",b.prefix="",b.suffix=""};return(e,t)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)(()=>[i.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(da.lX),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(da.ZO),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(sa.Up),{data:(0,n.R1)(a)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(sa.o8),{label:"ÂêçÁß∞",prop:"title"}),(0,o.bF)((0,n.R1)(sa.o8),{label:"ÂâçÁºÄ",prop:"prefix"}),(0,o.bF)((0,n.R1)(sa.o8),{label:"ÂêéÁºÄ",prop:"suffix"}),(0,o.bF)((0,n.R1)(sa.o8),{label:"ÂàõÂª∫Êó∂Èó¥",prop:"created_at",formatter:(0,n.R1)(wa)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(sa.o8),{label:"Êõ¥Êñ∞Êó∂Èó¥",prop:"updated_at",formatter:(0,n.R1)(wa)},null,8,["formatter"]),(0,o.bF)((0,n.R1)(sa.o8),{label:"Êìç‰Ωú"},{default:(0,o.k6)(e=>[(0,o.bF)((0,n.R1)(X.R7),{content:"ÁºñËæëËØçÂÖ∏",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{onClick:a=>m(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("ÁºñËæë")]),_:2},1032,["onClick"])]),_:2},1024),(0,o.bF)((0,n.R1)(X.R7),{content:"Âà†Èô§ËØçÂÖ∏",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{onClick:a=>c(e.row)},{default:(0,o.k6)(()=>[(0,o.eW)("Âà†Èô§")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1}),Oa,(0,o.bF)((0,n.R1)(da.LK),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(X.R7),{content:"Ê∑ªÂä†Êñ∞ËØçÂÖ∏",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:f},{default:(0,o.k6)(()=>[(0,o.eW)("Ê∑ªÂä†")]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ma.kZ),{modelValue:s.value,"onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e),title:"ÁºñËæëËØçÂÖ∏"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Za,[(0,o.bF)((0,n.R1)(X.R7),{content:"ÂèñÊ∂àÁºñËæë",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{onClick:v},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(X.R7),{content:"Á°ÆËÆ§ÁºñËæë (Âø´Êç∑ÈîÆ: Enter)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:p},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.US),{model:d.value},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂêçÁß∞"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:d.value.title,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value.title=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂâçÁºÄ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:d.value.prefix,"onUpdate:modelValue":t[1]||(t[1]=e=>d.value.prefix=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂêéÁºÄ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:d.value.suffix,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value.suffix=e),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)(ma.kZ),{modelValue:k.value,"onUpdate:modelValue":t[7]||(t[7]=e=>k.value=e),title:"Ê∑ªÂä†ËØçÂÖ∏"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",Ha,[(0,o.bF)((0,n.R1)(X.R7),{content:"ÂèñÊ∂àÊ∑ªÂä†",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{onClick:R},{default:(0,o.k6)(()=>[(0,o.eW)("Cancel")]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(X.R7),{content:"Á°ÆËÆ§Ê∑ªÂä† (Âø´Êç∑ÈîÆ: Enter)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:y},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.US),{model:b},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂêçÁß∞"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:b.title,"onUpdate:modelValue":t[4]||(t[4]=e=>b.title=e),onKeyup:(0,l.jR)(y,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂâçÁºÄ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:b.prefix,"onUpdate:modelValue":t[5]||(t[5]=e=>b.prefix=e),onKeyup:(0,l.jR)(y,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂêéÁºÄ"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:b.suffix,"onUpdate:modelValue":t[6]||(t[6]=e=>b.suffix=e),onKeyup:(0,l.jR)(y,["enter"]),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const Ja=Ya;var Ga=Ja,Na=t(167),et=t(4418),at=t(7962),tt=t(2357),lt=t(3802),ot=t(3275);async function nt(e,a,t,l,o,n,r,u,i,d){try{const s=localStorage.getItem("token"),c=localStorage.getItem("server_link"),m=c+"/user/update",v=await E.A.put(m,{username:e,email:a,avatar:t,current_book_id:l,daily_count:o,times_counted_as_known:n,review_frequency_formula:r,llm_service_provider:u,llm_token:i,llm_model:d},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});return console.log("Êõ¥Êñ∞Áî®Êà∑ÂìçÂ∫î:",v.data),v.data}catch(s){return console.error("Êõ¥Êñ∞Áî®Êà∑Êó∂ÂèëÁîüÈîôËØØ:",s),s.response&&(console.error("ÈîôËØØÂìçÂ∫îÊï∞ÊçÆ:",s.response.data),console.error("ÈîôËØØÁä∂ÊÄÅÁ†Å:",s.response.status)),s.response?s.response.data:{code:1,message:"ÁΩëÁªúÈîôËØØ"}}}const rt={class:"dialog-footer"};var ut={__name:"UserSettingView",setup(e){let a=(0,n.Kh)([]),t=(0,n.Kh)({id:0,title:""});const l=e=>{for(let l of a)if(l.id===e){t.id=l.id,t.title=l.title,r.currentBookID=l.id;break}};let r=(0,n.Kh)({username:"",email:"",avatar:"",currentBookID:0,dailyCount:0,timesCountedAsKnown:0,reviewFrequencyFormula:"",llmServiceProvider:"",llmToken:"",llmModel:""});const i=(0,u.Pj)(),d=(0,n.KR)(!1),s=e=>{null!=e&&2!==e.code||(i.dispatch("logout"),location.reload())};(0,o.sV)(async()=>{d.value=!1;const e=await q();s(e),r.username=e.username,r.email=e.email,r.avatar=e.avatar,r.currentBookID=e.current_book_id,r.dailyCount=e.daily_count,r.timesCountedAsKnown=e.times_counted_as_known,r.reviewFrequencyFormula=e.review_frequency_formula,r.llmServiceProvider=e.llm_service_provider,r.llmToken=e.llm_token,r.llmModel=e.llm_model;const l=await fa(1e8,1);s(l),a=l.data;for(let o of a)if(o.id===r.currentBookID){t.id=o.id,t.title=o.title;break}d.value=!0});const c=(0,n.KR)(!1),m=()=>{c.value=!0},v=()=>{c.value=!1,location.reload()},p=async()=>{c.value=!1,d.value=!1;const e=await nt(r.username,r.email,r.avatar,+r.currentBookID,r.dailyCount,r.timesCountedAsKnown,r.reviewFrequencyFormula,r.llmServiceProvider,r.llmToken,r.llmModel);if(e&&0===e.code)s(e),d.value=!0,Na.nk.success("Áî®Êà∑‰ø°ÊÅØÊõ¥Êñ∞ÊàêÂäü"),setTimeout(()=>{location.reload()},1e3);else{c.value=!0,d.value=!0;const a=e?e.message:"Êõ¥Êñ∞Â§±Ë¥•ÔºåËØ∑ÈáçËØï";Na.nk.error(a)}},{isDark:k}=y();return(e,u)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)(()=>[d.value?((0,o.uX)(),(0,o.Wv)((0,n.R1)(V.Ik),{key:0},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(et.S2),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(at.uD),{span:9},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(tt.zv),{size:120,src:(0,n.R1)(r).avatar},null,8,["src"])]),_:1}),(0,o.bF)((0,n.R1)(at.uD),{span:16},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(et.S2),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(at.uD),{span:12},{default:(0,o.k6)(()=>[(0,o.Lk)("h2",null,(0,F.v_)((0,n.R1)(r).username),1)]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(et.S2),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(at.uD),{span:24},{default:(0,o.k6)(()=>[(0,o.Lk)("p",null,[(0,o.eW)("Email: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).email),1)]),(0,o.Lk)("p",null,[(0,o.eW)("ÂΩìÂâçÊâÄÂ≠¶ËØ≠‰π¶: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(t).title),1)]),(0,o.Lk)("p",null,[(0,o.eW)("ÊØèÊó•Êñ∞ÂçïËØçÊï∞: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).dailyCount),1)]),(0,o.Lk)("p",null,[(0,o.eW)("Â§ç‰π†È¢ëÁéáÂÖ¨Âºè: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).reviewFrequencyFormula),1)]),(0,o.Lk)("p",null,[(0,o.eW)("ÁÇπÂáªÂá†Ê¨°‚ÄúËÆ§ËØÜ‚ÄùÁÆóÂ≠¶‰ºö: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).timesCountedAsKnown),1)]),(0,o.Lk)("p",null,[(0,o.eW)("LLM ÈìæÊé•: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).llmServiceProvider),1)]),(0,o.Lk)("p",null,[(0,o.eW)("LLM token: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).llmToken),1)]),(0,o.Lk)("p",null,[(0,o.eW)("LLM Ê®°Âûã: "),(0,o.Lk)("b",null,(0,F.v_)((0,n.R1)(r).llmModel),1)]),(0,o.Lk)("p",null,[(0,o.eW)(" ‰∏ªÈ¢ò: "),(0,o.bF)((0,n.R1)(lt.qi),{modelValue:(0,n.R1)(k),"onUpdate:modelValue":u[0]||(u[0]=e=>(0,n.i9)(k)?k.value=e:null),class:"mt-2",style:{"margin-left":"24px"},"inline-prompt":"","active-icon":(0,n.R1)(P.Il7),"inactive-icon":(0,n.R1)(P.AX$)},null,8,["modelValue","active-icon","inactive-icon"])]),(0,o.bF)((0,n.R1)(S.S2),{onClick:u[1]||(u[1]=e=>m())},{default:(0,o.k6)(()=>[(0,o.eW)("‰øÆÊîπ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(0,o.Q3)("",!0),(0,o.bF)((0,n.R1)(ma.kZ),{modelValue:c.value,"onUpdate:modelValue":u[11]||(u[11]=e=>c.value=e),title:"‰øÆÊîπËÆæÁΩÆ"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",rt,[(0,o.bF)((0,n.R1)(S.S2),{onClick:v},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1}),(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:p},{default:(0,o.k6)(()=>[(0,o.eW)("Á°ÆËÆ§")]),_:1})])]),default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.US),{model:(0,n.R1)(r)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.xE),{label:"Áî®Êà∑Âêç"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:(0,n.R1)(r).username,"onUpdate:modelValue":u[2]||(u[2]=e=>(0,n.R1)(r).username=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÈÇÆÁÆ±"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:(0,n.R1)(r).email,"onUpdate:modelValue":u[3]||(u[3]=e=>(0,n.R1)(r).email=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Â§¥ÂÉè"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:(0,n.R1)(r).avatar,"onUpdate:modelValue":u[4]||(u[4]=e=>(0,n.R1)(r).avatar=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÂΩìÂâçÊâÄÂ≠¶ËØç‰π¶"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ot.dW),{"split-button":"",type:"primary"},{dropdown:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(ot.Iy),null,{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,n.R1)(a),e=>((0,o.uX)(),(0,o.Wv)((0,n.R1)(ot.c6),{key:e.id,onClick:a=>l(e.id)},{default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)(e.title),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)((0,n.R1)(t).title||"ÈÄâÊã©ËØç‰π¶")+" ",1)]),_:1})]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÊØèÊó•Êñ∞ÂçïËØçÊï∞"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Aa.lq),{modelValue:(0,n.R1)(r).dailyCount,"onUpdate:modelValue":u[5]||(u[5]=e=>(0,n.R1)(r).dailyCount=e),min:1,max:1e3},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"Â§ç‰π†È¢ëÁéáÂÖ¨Âºè"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:(0,n.R1)(r).reviewFrequencyFormula,"onUpdate:modelValue":u[6]||(u[6]=e=>(0,n.R1)(r).reviewFrequencyFormula=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÁÇπÂáªÂá†Ê¨°‚ÄúËÆ§ËØÜ‚ÄùÁÆóÂ≠¶‰ºö"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Aa.lq),{modelValue:(0,n.R1)(r).timesCountedAsKnown,"onUpdate:modelValue":u[7]||(u[7]=e=>(0,n.R1)(r).timesCountedAsKnown=e),min:1,max:1e3},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"LLM ÈìæÊé•"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:(0,n.R1)(r).llmServiceProvider,"onUpdate:modelValue":u[8]||(u[8]=e=>(0,n.R1)(r).llmServiceProvider=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"LLM token"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:(0,n.R1)(r).llmToken,"onUpdate:modelValue":u[9]||(u[9]=e=>(0,n.R1)(r).llmToken=e)},null,8,["modelValue"])]),_:1}),(0,o.bF)((0,n.R1)(Oe.xE),{label:"LLM Ê®°Âûã"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(B.WK),{modelValue:(0,n.R1)(r).llmModel,"onUpdate:modelValue":u[10]||(u[10]=e=>(0,n.R1)(r).llmModel=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1}))}};const it=ut;var dt=it;const st=[{path:"/setting",name:"setting",redirect:"/setting/book",meta:{requiresAuth:!0},children:[{path:"book",name:"book_setting",component:Ea},{path:"word",name:"word_setting",component:Pa,props:!0},{path:"dictionary",name:"dictionary_setting",component:Ga},{path:"user",name:"user_setting",component:dt}]}];var ct=st,mt=t(6810),vt=t(2687);const pt=e=>((0,o.Qi)("data-v-384fce3f"),e=e(),(0,o.jt)(),e),kt={class:"query-container"},ft={class:"search-section"},bt={key:0,class:"results-section"},Rt={class:"card-header"},gt={class:"word-title"},yt={class:"header-actions"},_t={key:0,class:"loading-container"},ht=["innerHTML"],wt={key:2,class:"no-meaning"},Ft={key:1,class:"welcome-section"},Vt=pt(()=>(0,o.Lk)("h2",null,"ÂçïËØçÊü•ËØ¢Â∑•ÂÖ∑",-1)),St=pt(()=>(0,o.Lk)("p",null,"Âú®ËæìÂÖ•Ê°Ü‰∏≠ËæìÂÖ•Ë¶ÅÊü•ËØ¢ÁöÑÂçïËØçÔºåÊåâÂõûËΩ¶ÊàñÁÇπÂáªÊêúÁ¥¢ÊåâÈíÆËøõË°åÊü•ËØ¢",-1)),Ct=pt(()=>(0,o.Lk)("p",{class:"shortcuts"},"Âø´Êç∑ÈîÆËØ¥ÊòéÔºö",-1)),Wt=pt(()=>(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,[(0,o.Lk)("strong",null,"Enter"),(0,o.eW)(" - ÊêúÁ¥¢ÂçïËØç")]),(0,o.Lk)("li",null,[(0,o.Lk)("strong",null,"S"),(0,o.eW)(" - ÊâìÂºÄËØçÂÖ∏ÊêúÁ¥¢")]),(0,o.Lk)("li",null,[(0,o.Lk)("strong",null,"Êï∞Â≠óÈîÆ 1-9"),(0,o.eW)(" - Âú®ÂØπÂ∫îËØçÂÖ∏‰∏≠ÊêúÁ¥¢")])],-1)),Kt={class:"dictionary-list"},xt=["href"],Lt={class:"dialog-title"},Et={class:"book-radio-content"},At={class:"dialog-footer"};var It={__name:"QueryView",setup(e){const a=(0,n.KR)(""),t=(0,n.KR)(""),r=(0,n.KR)(""),u=(0,n.KR)(!1),i=(0,n.KR)(!1),d=(0,n.KR)(!1),s=(0,n.KR)(!1),c=(0,n.KR)(!1),m=(0,n.KR)([]),v=(0,n.KR)([]),p=(0,n.KR)(null),k=(0,n.KR)({});(0,o.sV)(async()=>{const e=await O();e&&e.data&&(m.value=e.data);const a=await fa(1e8,1);a&&a.data&&(v.value=a.data)});const f=e=>{if(e.target.classList.contains("audio-btn")){const a=e.target.getAttribute("data-audio");a&&h(a)}},b=async()=>{if(a.value.trim()){t.value=a.value.trim(),u.value=!0,i.value=!0;try{const e=await N(t.value);e.success?r.value=ee(e):r.value="Sorry, the word was not found. Please check the spelling and try again."}catch(e){console.error("Failed to fetch word definition:",e),r.value="Search failed. Please check your network connection and try again."}finally{u.value=!1}}},R=e=>{if(!s.value)if("Enter"===e.key)b();else if("s"===e.key||"S"===e.key)i.value&&(d.value=!d.value);else if("0123456789".includes(e.key)){let a=+e.key;if(0===a&&(a=10),a<=m.value.length&&i.value){const e=m.value[a-1];window.open(e.prefix+(t.value||"")+(e.suffix||""),"_blank")}}},g=async()=>{if(a.value.trim()&&(p.value=null,k.value={},c.value=!0,v.value.length>0)){const t=a.value.trim();for(const a of v.value)try{const e=await J(t,a.id),l=e&&0===e.code&&e.data.exists;k.value[a.id]=l,l&&!p.value&&(p.value=a.id)}catch(e){console.error(`Ê£ÄÊü•ËØç‰π¶ ${a.title} Â§±Ë¥•:`,e),k.value[a.id]=!1}}},y=()=>!!p.value&&!!k.value[p.value],_=async()=>{if(p.value&&a.value.trim())try{const e=await ja(p.value,a.value.trim(),r.value||"ÊöÇÊó†Èáä‰πâ","");if(e&&0===e.code)Na.nk.success("Ê∑ªÂä†ÂçïËØçÊàêÂäü"),c.value=!1;else{const a=e?e.message:"Ê∑ªÂä†Â§±Ë¥•ÔºåËØ∑ÈáçËØï";Na.nk.error(a)}}catch(e){console.error("Ê∑ªÂä†ÂçïËØçÂ§±Ë¥•:",e),Na.nk.error("Ê∑ªÂä†ÂçïËØçÂ§±Ë¥•ÔºåËØ∑ÈáçËØï")}},h=e=>{try{const a=new Audio(e);a.play().catch(e=>{console.error("Èü≥È¢ëÊí≠ÊîæÂ§±Ë¥•:",e)})}catch(a){console.error("Èü≥È¢ëÂä†ËΩΩÂ§±Ë¥•:",a)}};return(e,s)=>{const h=(0,o.g2)("el-skeleton");return(0,o.uX)(),(0,o.Wv)(L,{onKeydown:R,tabindex:"0"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",kt,[(0,o.Lk)("div",ft,[(0,o.bF)((0,n.R1)(B.WK),{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e),placeholder:"ËæìÂÖ•Ë¶ÅÊü•ËØ¢ÁöÑÂçïËØç",size:"large",onKeyup:(0,l.jR)(b,["enter"]),class:"search-input"},{append:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{onClick:b,icon:(0,n.R1)(P.vji)},{default:(0,o.k6)(()=>[(0,o.eW)("ÊêúÁ¥¢")]),_:1},8,["icon"])]),_:1},8,["modelValue"])]),i.value?((0,o.uX)(),(0,o.CE)("div",bt,[(0,o.bF)((0,n.R1)(V.Ik),{class:"word-card"},{header:(0,o.k6)(()=>[(0,o.Lk)("div",Rt,[(0,o.Lk)("span",gt,(0,F.v_)(t.value),1),(0,o.Lk)("div",yt,[(0,o.bF)((0,n.R1)(X.R7),{content:"Êî∂ËóèÂçïËØç",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{circle:"",onClick:g,disabled:!a.value.trim(),class:"favorite-btn"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)($.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.FEq))]),_:1})]),_:1},8,["disabled"])]),_:1}),(0,o.bF)((0,n.R1)(X.R7),{content:"ÊêúÁ¥¢ËØçÂÖ∏ (Âø´Êç∑ÈîÆ: S)",placement:"top"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(S.S2),{circle:"",onClick:s[1]||(s[1]=e=>d.value=!d.value)},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)($.tk),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(P.vji))]),_:1})]),_:1})]),_:1})])])]),default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:"word-content",onClick:f},[u.value?((0,o.uX)(),(0,o.CE)("div",_t,[(0,o.bF)(h,{rows:5,animated:""})])):r.value?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"meaning",innerHTML:r.value},null,8,ht)):((0,o.uX)(),(0,o.CE)("div",wt,"ËØ•ÂçïËØçÊöÇÊó†Èáä‰πâ"))])]),_:1})])):((0,o.uX)(),(0,o.CE)("div",Ft,[(0,o.bF)((0,n.R1)(V.Ik),{class:"welcome-card"},{default:(0,o.k6)(()=>[Vt,St,Ct,Wt]),_:1})]))]),(0,o.bF)((0,n.R1)(T.pw),{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=e=>d.value=e),title:"ËØçÂÖ∏ÊêúÁ¥¢","with-header":!0},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Kt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(m.value,(e,a)=>((0,o.uX)(),(0,o.CE)("p",{key:e.id,class:"dictionary-item"},[(0,o.Lk)("a",{href:e.prefix+(t.value||"")+(e.suffix||""),target:"_blank"},[(0,o.Lk)("strong",null,(0,F.v_)(a+1)+". "+(0,F.v_)(e.title),1)],8,xt),(0,o.bF)((0,n.R1)(z.fR))]))),128))])]),_:1},8,["modelValue"]),(0,o.bF)((0,n.R1)(ma.kZ),{modelValue:c.value,"onUpdate:modelValue":s[5]||(s[5]=e=>c.value=e),title:"Êî∂ËóèÂçïËØç",width:"500px"},{footer:(0,o.k6)(()=>[(0,o.Lk)("span",At,[(0,o.bF)((0,n.R1)(S.S2),{onClick:s[4]||(s[4]=e=>c.value=!1)},{default:(0,o.k6)(()=>[(0,o.eW)("ÂèñÊ∂à")]),_:1}),(0,o.bF)((0,n.R1)(S.S2),{type:"primary",onClick:_,disabled:!p.value,class:(0,F.C4)({"warning-btn":p.value&&y()})},{default:(0,o.k6)(()=>[(0,o.eW)((0,F.v_)(p.value&&y()?"Êó†ÈúÄÈáçÂ§çÊ∑ªÂä†":"Á°ÆËÆ§Ê∑ªÂä†"),1)]),_:1},8,["disabled","class"])])]),default:(0,o.k6)(()=>[(0,o.Lk)("div",Lt,[(0,o.eW)('Â∞ÜÂçïËØç "'),(0,o.Lk)("strong",null,(0,F.v_)(a.value),1),(0,o.eW)('" Ê∑ªÂä†Âà∞ËØç‰π¶')]),(0,o.bF)((0,n.R1)(Oe.US),null,{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(Oe.xE),{label:"ÈÄâÊã©ËØç‰π¶"},{default:(0,o.k6)(()=>[(0,o.bF)((0,n.R1)(mt.MQ),{modelValue:p.value,"onUpdate:modelValue":s[3]||(s[3]=e=>p.value=e),class:"book-radio-group"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(v.value,e=>((0,o.uX)(),(0,o.Wv)((0,n.R1)(mt.ll),{key:e.id,label:e.id,class:"book-radio"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Et,[(0,o.Lk)("span",null,(0,F.v_)(e.title),1),k.value[e.id]?((0,o.uX)(),(0,o.Wv)((0,n.R1)(vt.u),{key:0,type:"success",size:"small",class:"exists-tag"},{default:(0,o.k6)(()=>[(0,o.eW)(" Â∑≤Â≠òÂú® ")]),_:1})):(0,o.Q3)("",!0)])]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};const Ut=(0,v.A)(It,[["__scopeId","data-v-384fce3f"]]);var jt=Ut;const Xt=e=>((0,o.Qi)("data-v-3a93085f"),e=e(),(0,o.jt)(),e),$t={id:"app"},Tt={class:"container"},zt=Xt(()=>(0,o.Lk)("h1",null,"ÂΩïÈü≥Êú∫",-1)),Mt={class:"controls"},Bt=["src"];function Pt(e,a,t,n,r,u){return(0,o.uX)(),(0,o.CE)("div",$t,[(0,o.Lk)("div",Tt,[zt,(0,o.Lk)("div",Mt,[(0,o.Lk)("button",{class:"btn",onClick:a[0]||(a[0]=(...e)=>u.startRecording&&u.startRecording(...e))},"ÂºÄÂßãÂΩïÈü≥"),(0,o.Lk)("button",{class:"btn",onClick:a[1]||(a[1]=(...e)=>u.stopRecording&&u.stopRecording(...e))},"ÂÅúÊ≠¢ÂΩïÈü≥"),(0,o.bo)((0,o.Lk)("input",{class:"input",type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>r.duration=e),placeholder:"Ëá™Âä®ÂÅúÊ≠¢Êó∂Èó¥ÔºàÁßíÔºâ"},null,512),[[l.Jo,r.duration]])]),r.countdown>0?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,class:"input","onUpdate:modelValue":a[3]||(a[3]=e=>r.countdown=e),placeholder:"Ââ©‰ΩôÊó∂Èó¥",readonly:""},null,512)),[[l.Jo,r.countdown]]):(0,o.Q3)("",!0),r.audioUrl?((0,o.uX)(),(0,o.CE)("audio",{key:1,src:r.audioUrl,controls:""},null,8,Bt)):(0,o.Q3)("",!0)])])}t(4603),t(7566),t(8721);var Qt={data(){return{mediaRecorder:null,audioChunks:[],audioUrl:null,countdown:0,countdownInterval:null,duration:45}},methods:{async startRecording(){try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(e),this.audioChunks=[],this.mediaRecorder.ondataavailable=e=>{this.audioChunks.push(e.data)},this.mediaRecorder.start(),this.startCountdown(this.duration)}catch(e){console.error("Error accessing audio",e)}},stopRecording(){this.mediaRecorder.stop(),this.mediaRecorder.onstop=()=>{const e=new Blob(this.audioChunks);this.audioUrl=URL.createObjectURL(e)},this.stopCountdown()},startCountdown(e){this.countdown=e,this.countdownInterval=setInterval(()=>{this.countdown--,this.countdown<=0&&this.stopRecording()},1e3)},stopCountdown(){clearInterval(this.countdownInterval),this.countdown=0}}};const Dt=(0,v.A)(Qt,[["render",Pt],["__scopeId","data-v-3a93085f"]]);var qt=Dt;const Ot=[{path:"/tool",name:"tool",children:[{path:"query",name:"query",component:jt},{path:"record",name:"record",component:qt}]}];var Zt=Ot;const Ht=[{path:"/",name:"home",redirect:"/word"},{path:"/404",name:"404",redirect:"/word"},{path:"/:pathMatch(.*)*",redirect:"/404"}],Yt=(0,i.aE)({history:(0,i.Bt)(),routes:[...qe,...ra,...ct,...Zt,...Ht]});var Jt=Yt,Gt={state:{isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token")||""},mutations:{setServerLink(e,a){localStorage.setItem("server_link",a)},setAuth(e,a){e.isAuthenticated=a},setToken(e,a){e.token=a,localStorage.setItem("token",a)},logout(e){e.isAuthenticated=!1,e.token=null,localStorage.removeItem("book_id"),localStorage.removeItem("server_link"),localStorage.removeItem("token")}},actions:{async register(e,{serverLink:a,username:t,email:l,avatar:o,password:n,confirm_password:r}){try{const e=await E.A.post(a+"/user/register",{username:t,email:l,avatar:o,password:n,confirm_password:r}),u=e.data;return 0===u.code||u.message}catch(u){return"ÂèëÁîü‰∫ÜÊú™Áü•ÈîôËØØ, Ê≥®ÂÜåÂ§±Ë¥•"}},async login({commit:e},{serverLink:a,username:t,password:l}){try{const o=await E.A.post(a+"/user/login",{username:t,password:l}),n=o.data;return 0===n.code?(e("setServerLink",a),e("setAuth",!0),e("setToken",n.data.token),!0):n.message}catch(o){return"ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÈìæÊé•ÊòØÂê¶Ê≠£Á°ÆÔºåÂêéÂè∞ÊúçÂä°ÊòØÂê¶ÂºÄÂêØ"}},logout({commit:e}){e("logout")}},getters:{isAuthenticated:e=>e.isAuthenticated}};const Nt=(0,u.y$)({modules:{user:Gt}});var el=Nt;const al=(0,l.Ef)(w);al.use(el),Jt.beforeEach((e,a,t)=>{const l=e.meta.requiresAuth;l&&!el.state.user.isAuthenticated?t("/login"):t()}),al.use(Jt),al.mount("#app")}},a={};function t(l){var o=a[l];if(void 0!==o)return o.exports;var n=a[l]={id:l,loaded:!1,exports:{}};return e[l].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}t.m=e,function(){var e=[];t.O=function(a,l,o,n){if(!l){var r=1/0;for(s=0;s<e.length;s++){l=e[s][0],o=e[s][1],n=e[s][2];for(var u=!0,i=0;i<l.length;i++)(!1&n||r>=n)&&Object.keys(t.O).every(function(e){return t.O[e](l[i])})?l.splice(i--,1):(u=!1,n<r&&(r=n));if(u){e.splice(s--,1);var d=o();void 0!==d&&(a=d)}}return a}n=n||0;for(var s=e.length;s>0&&e[s-1][2]>n;s--)e[s]=e[s-1];e[s]=[l,o,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var o,n,r=l[0],u=l[1],i=l[2],d=0;if(r.some(function(a){return 0!==e[a]})){for(o in u)t.o(u,o)&&(t.m[o]=u[o]);if(i)var s=i(t)}for(a&&a(l);d<r.length;d++)n=r[d],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(s)},l=self["webpackChunkspeak_sphere"]=self["webpackChunkspeak_sphere"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],function(){return t(6891)});l=t.O(l)})();
//# sourceMappingURL=app.a7eeadc1.js.map